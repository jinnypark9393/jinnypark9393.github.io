{"componentChunkName":"component---src-templates-blog-template-js","path":"/220724-programming-python-django-tutorial1/","result":{"data":{"cur":{"id":"6065efab-2d62-5dc8-bd37-551b0b37291c","html":"<p>“<a href=\"https://fastcampus.co.kr/dev_online_pyweb\">한 번에 끝내는 파이썬 웹 개발 초격차 패키지 Online</a>” 강의의 Django 파트를 수강하고 있는데, 생각보다 설명이 생략된 부분이 많아 코드 따라치기만 하게 되는듯해 Django 공식문서의 튜토리얼을 따라해 이해도를 높인 다음 다시 들으려한다.</p>\n<br/>\n<p>이 글은 Django 문서의 <a href=\"https://docs.djangoproject.com/ko/4.0/intro/tutorial01/\">첫 번째 장고 앱 작성하기</a> 튜토리얼을 참고해 실습한 내용을 정리한 것이다.</p>\n<p><br/><br/></p>\n<h1 id=\"1-산출물\" style=\"position:relative;\"><a href=\"#1-%EC%82%B0%EC%B6%9C%EB%AC%BC\" aria-label=\"1 산출물 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 산출물</h1>\n<ul>\n<li>Polls라는 이름의 간단한 설문조사 애플리케이션을 제작\n<ul>\n<li>Public: 사람들이 설문 내용을 보고 직접 투표할 수 있는 개방된 사이트</li>\n<li>Private: 관리자가 설문을 추가, 변경, 삭제할 수 있는 관리용 사이트</li>\n</ul>\n</li>\n</ul>\n<p><br/><br/></p>\n<h1 id=\"2-사전-작업\" style=\"position:relative;\"><a href=\"#2-%EC%82%AC%EC%A0%84-%EC%9E%91%EC%97%85\" aria-label=\"2 사전 작업 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 사전 작업</h1>\n<ul>\n<li>\n<p><code class=\"language-text\">Django</code> 를 설치한다(Django 4.0버전 기준. Python 3.8이상 버전 설치 권장).</p>\n</li>\n<li>\n<p>Django가 설치가 잘 되었는지 확인하기 위해 아래의 명령어를 실행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  <span class=\"token operator\">~</span> git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ python3 <span class=\"token operator\">-</span>m django <span class=\"token operator\">-</span><span class=\"token operator\">-</span>version\n<span class=\"token number\">4.0</span><span class=\"token number\">.6</span></code></pre></div>\n<ul>\n<li>설치가 되지 않았다면 “No module named django”와 같은 에러가 발생한다.</li>\n</ul>\n</li>\n</ul>\n<p><br/><br/></p>\n<h1 id=\"3-프로젝트-생성\" style=\"position:relative;\"><a href=\"#3-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-label=\"3 프로젝트 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 프로젝트 생성</h1>\n<p>프로젝트를 저장할 디렉터리로 이동한 후, 다음의 명령어를 수행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  github git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ django<span class=\"token operator\">-</span>admin startproject myfirstsite</code></pre></div>\n<ul>\n<li>myfirstsite라는 디렉터리가 생성되었다.</li>\n<li>참고: 프로젝트 생성 시, Python 혹은 Django에서 사용 중인 이름은 피해야 한다. 특히 django(Django 자체와 충돌 발생), test(Python 패키지 이름 중 하나)와 같은 이름은 피해야 한다.</li>\n</ul>\n<br/>\n<p>ll 명령어로 프로젝트 디렉터리가 잘 생성되었는지 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  github git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ ll\ntotal <span class=\"token number\">0</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">35</span> jinipark  staff   <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>1K Jun <span class=\"token number\">28</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">48</span> jinnypark9393<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>io\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">4</span> jinipark  staff   128B Jul <span class=\"token number\">23</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">10</span> myfirstsite</code></pre></div>\n<br/>\n<p>초기 생성된 Django 프로젝트 myfirstsite 하위에는 아래와 같은 디렉터리/파일이 생성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">```python\n➜  myfirstsite git:(master) ✗ tree\n.\n├── manage.py\n└── myfirstsite\n    ├── __init__.py\n    ├── asgi.py\n    ├── settings.py\n    ├── urls.py\n    └── wsgi.py\n\n1 directory, 6 files\n```\n\n- **`manage.py`**: Django 프로젝트에서 사용하는 커맨드라인의 유틸리티. 자세한 정보는 [django-admin and manage.py](https://docs.djangoproject.com/ko/4.0/ref/django-admin/) 에서 확인.\n- **`myfirstsite/`** 디렉토리 내부에는 프로젝트를 위한 실제 Python 패키지들이 저장된다. 이 디렉토리 내의 이름을 이용하여, (**`myfirstsite.urls`** 와 같은 식으로) 프로젝트의 어디서나 Python 패키지들을 import할 수 있다.\n- **`myfirstsite/__init__.py`**: Python이 이 디렉토리를 패키지처럼 다루라고 알려주는 용도의 단순한 빈 파일이다. 패키지에 대해 궁금하다면 [패키지](https://docs.python.org/3/tutorial/modules.html#tut-packages)를 참고한다.\n- **`mysfirstite/settings.py`**: 현재 Django 프로젝트의 환경 및 구성을 저장한다. [Django settings](https://docs.djangoproject.com/ko/4.0/topics/settings/)에서 환경 설정이 어떻게 동작하는지 확인할 수 있다.\n- **`myfirstsite/urls.py`**: 현재 Django project 의 URL 선언을 저장한다. 사이트의 “목차” 라고 생각하면 된다. 자세한 내용은 [URL dispatcher](https://docs.djangoproject.com/ko/4.0/topics/http/urls/) 를 참고한다.\n- **`myfirstsite/asgi.py`**: 현재 프로젝트를 서비스하기 위한 ASGI-호환 웹 서버의 진입점이다. 자세한 내용은 [ASGI를 사용하여 배포하는 방법](https://docs.djangoproject.com/ko/4.0/howto/deployment/asgi/) 를 참고한다.\n- **`myfirstsite/wsgi.py`**: 현재 프로젝트를 서비스하기 위한 WSGI 호환 웹 서버의 진입점다. 자세한 내용은 [WSGI를 사용하여 배포하는 방법](https://docs.djangoproject.com/ko/4.0/howto/deployment/wsgi/)를 참고한다.</code></pre></div>\n<p><br/><br/></p>\n<h1 id=\"4-개발-서버\" style=\"position:relative;\"><a href=\"#4-%EA%B0%9C%EB%B0%9C-%EC%84%9C%EB%B2%84\" aria-label=\"4 개발 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 개발 서버</h1>\n<p><code class=\"language-text\">myfirstsite</code> 디렉터리로 이동해 다음 명령어를 입력하면 Django 개발 서버를 시작할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  myfirstsite git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ python3 manage<span class=\"token punctuation\">.</span>py runserver\nWatching <span class=\"token keyword\">for</span> <span class=\"token builtin\">file</span> changes <span class=\"token keyword\">with</span> StatReloader\nPerforming system checks<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\nSystem check identified no issues <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> silenced<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\nYou have <span class=\"token number\">18</span> unapplied migration<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> Your project may <span class=\"token keyword\">not</span> work properly until you <span class=\"token builtin\">apply</span> the migrations <span class=\"token keyword\">for</span> app<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> admin<span class=\"token punctuation\">,</span> auth<span class=\"token punctuation\">,</span> contenttypes<span class=\"token punctuation\">,</span> sessions<span class=\"token punctuation\">.</span>\nRun <span class=\"token string\">'python manage.py migrate'</span> to <span class=\"token builtin\">apply</span> them<span class=\"token punctuation\">.</span>\nJuly <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2022</span> <span class=\"token operator\">-</span> <span class=\"token number\">14</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span><span class=\"token punctuation\">:</span><span class=\"token number\">59</span>\nDjango version <span class=\"token number\">4.0</span><span class=\"token number\">.6</span><span class=\"token punctuation\">,</span> using settings <span class=\"token string\">'myfirstsite.settings'</span>\nStarting development server at http<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token punctuation\">:</span><span class=\"token number\">8000</span><span class=\"token operator\">/</span>\nQuit the server <span class=\"token keyword\">with</span> CONTROL<span class=\"token operator\">-</span>C<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<ul>\n<li>데이터베이스에 적용되지 않은 변경사항들(migrations)는 현재는 크게 신경쓰지 않아도 된다.</li>\n<li>웹 브라우저에서 <code class=\"language-text\">http://127.0.0.1:8000</code> 을 입력해 개발서버에 접속할 수 있다.</li>\n<li>개발 서버는 순수 Python으로 작성된 경량의 웹 서버이며 운영 이관 전까지 Apache와 같은 운영 서버를 구성할 필요 없이 신속하게 개발 할 수 있도록 만들어진 도구이다(운영 환경과 유사한 환경에서는 사용하지 말 것)</li>\n<li>포트 변경\n<ul>\n<li>\n<p>기본적으로 runserver 명령은 8080포트를 사용하도록 설정되어있다.</p>\n</li>\n<li>\n<p>이 설정을 변경하려면 아래와 같이 커맨드라인에서 인수를 전달하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">python manage<span class=\"token punctuation\">.</span>py runserver <span class=\"token number\">8080</span></code></pre></div>\n</li>\n<li>\n<p>IP를 변경하려면 포트와 함께 커맨드라인에서 인수를 전달한다.</p>\n</li>\n</ul>\n</li>\n<li>runserver는 요청이 들어올 때마다 Python 파일을 다시 불러오므로 코드 변경사항 반영을 위해 서버를 기동하지 않아도 된다. 다만 파일 추가 등 몇 동작은 개발서버가 자동으로 인식하지 못하는 경우도 있다.</li>\n</ul>\n<p><br/><br/></p>\n<h1 id=\"5-설문조사polls-앱-만들기\" style=\"position:relative;\"><a href=\"#5-%EC%84%A4%EB%AC%B8%EC%A1%B0%EC%82%ACpolls-%EC%95%B1-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"5 설문조사polls 앱 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 설문조사(polls) 앱 만들기</h1>\n<p>다음으로는 생성된 프로젝트 내에서 앱(app)을 생성해보자. Django에서는 앱의 기본 디렉터리 구조를 자동으로 생성해준다.</p>\n<ul>\n<li>참고: 프로젝트와 앱의 차이\n<ul>\n<li>앱: 블로그 시스템, 공개 기록 데이터베이스 또는 소규모 의견조사 앱과 같은 작업을 수행하는 웹 애플리케이션.</li>\n<li>프로젝트: 특정 웹 사이트에 대한 구성 및 앱의 모음. 한 프로젝트에 여러 개의 앱이 포함될 수 있으며, 앱은 여러 프로젝트에 있을 수 있다.</li>\n</ul>\n</li>\n</ul>\n<p>manage.py가 존재하는 디렉터리에서 polls라는 이름의 앱을 생성해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  myfirstsite git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ python3 manage<span class=\"token punctuation\">.</span>py startapp polls\n➜  myfirstsite git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ ll\ntotal <span class=\"token number\">8</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> jinipark  staff     0B Jul <span class=\"token number\">23</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> db<span class=\"token punctuation\">.</span>sqlite3\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> jinipark  staff   667B Jul <span class=\"token number\">23</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">10</span> manage<span class=\"token punctuation\">.</span>py\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">8</span> jinipark  staff   256B Jul <span class=\"token number\">23</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> myfirstsite\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">9</span> jinipark  staff   288B Jul <span class=\"token number\">24</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">50</span> polls\n➜  myfirstsite git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ cd polls\n➜  polls git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ tree\n<span class=\"token punctuation\">.</span>\n├── __init__<span class=\"token punctuation\">.</span>py\n├── admin<span class=\"token punctuation\">.</span>py\n├── apps<span class=\"token punctuation\">.</span>py\n├── migrations\n│   └── __init__<span class=\"token punctuation\">.</span>py\n├── models<span class=\"token punctuation\">.</span>py\n├── tests<span class=\"token punctuation\">.</span>py\n└── views<span class=\"token punctuation\">.</span>py</code></pre></div>\n<h1 id=\"6-첫-번째-뷰-작성하기\" style=\"position:relative;\"><a href=\"#6-%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%B7%B0-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"6 첫 번째 뷰 작성하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 첫 번째 뷰 작성하기</h1>\n<p><code class=\"language-text\">polls</code> 디렉터리의 <code class=\"language-text\">view.py</code>파일을 열어 다음과 같은 파이썬 코드를 입력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> render\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> HttpResponse\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world. You're at the polls index.\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>뷰를 생성한 뒤에는 URLconf를 사용해 뷰를 호출할 수 있도록 URL을 연결해준다. 먼저, urls.py라는 파일을 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  polls git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ <span class=\"token function\">touch</span> urls.py\n➜  polls git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ tree\n<span class=\"token builtin class-name\">.</span>\n├── __init__.py\n├── admin.py\n├── apps.py\n├── migrations\n│   └── __init__.py\n├── models.py\n├── tests.py\n├── urls.py\n└── views.py\n\n<span class=\"token number\">1</span> directory, <span class=\"token number\">8</span> files</code></pre></div>\n<p><code class=\"language-text\">urls.py</code> 파일에 다음과 같은 코드를 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">from django.urls <span class=\"token function\">import</span> path\n\nfrom <span class=\"token builtin class-name\">.</span> <span class=\"token function\">import</span> views\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">''</span>, view.index, <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">)</span>,\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>다음으로는 최상위 URLconf에서 <code class=\"language-text\">polls.urls</code> 모듈을 바라보게 설정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">from django.contrib <span class=\"token function\">import</span> admin\nfrom django.urls <span class=\"token function\">import</span> path\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'polls/'</span>, include<span class=\"token punctuation\">(</span><span class=\"token string\">'polls.urls'</span><span class=\"token punctuation\">))</span>,\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'admin/'</span>, admin.site.urls<span class=\"token punctuation\">)</span>,\n<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">include()</code> : 다른 URLconf들을 참조할 수 있도록 도와주는 함수. Django가 이 함수를 만나게 되면 URL의 그 시점까지 일치하는 부분을 잘라내고, 남은 문자열 부분을 후속 처리를 위해 include된 URLconf로 전달한다.</li>\n</ul>\n<p><code class=\"language-text\">polls</code> 의 index뷰가 잘 연결되어있는지 확인하기 위해 개발서버를 올려 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  myfirstsite git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ python3 manage.py runserver\nWatching <span class=\"token keyword\">for</span> <span class=\"token function\">file</span> changes with StatReloader\nPerforming system checks<span class=\"token punctuation\">..</span>.\n\nSystem check identified no issues <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> silenced<span class=\"token punctuation\">)</span>.\n\nYou have <span class=\"token number\">18</span> unapplied migration<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>. Your project may not work properly <span class=\"token keyword\">until</span> you apply the migrations <span class=\"token keyword\">for</span> app<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>: admin, auth, contenttypes, sessions.\nRun <span class=\"token string\">'python manage.py migrate'</span> to apply them.\nJuly <span class=\"token number\">23</span>, <span class=\"token number\">2022</span> - <span class=\"token number\">21</span>:07:37\nDjango version <span class=\"token number\">4.0</span>.6, using settings <span class=\"token string\">'myfirstsite.settings'</span>\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.</code></pre></div>\n<p><code class=\"language-text\">http://127.0.0.1:8000/polls</code>를 브라우저에 입력하면 polls의 index 뷰에 정의한 “Hello, world. You’re at the polls index.” 가 보인다.</p>\n<p><code class=\"language-text\">path()</code> 함수에는 필수 인수 <code class=\"language-text\">route</code> &#x26; <code class=\"language-text\">view</code>, 추가 옵션으로 <code class=\"language-text\">kwargs</code> &#x26; <code class=\"language-text\">name</code> 까지 총 4개의 인수가 전달된다.</p>\n<h2 id=\"1-path-인수-route\" style=\"position:relative;\"><a href=\"#1-path-%EC%9D%B8%EC%88%98-route\" aria-label=\"1 path 인수 route permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. path() 인수: route</h2>\n<ul>\n<li>URL 패턴을 가진 문자열. 요청이 처리될 때 Django는 urlpatterns의 첫 패턴부터 일치하는 패턴을 찾을때까지 요청된 URL을 각 패턴과 리스트를 순서대로 비교한다.</li>\n<li>패턴은 GET, POST의 매개변수들, 혹은 도메인 이름을 색인하지 않는다.\n<ul>\n<li><code class=\"language-text\">https://www.example.com/myapp/</code> → <code class=\"language-text\">myapp/</code> 만 바라본다.</li>\n<li><code class=\"language-text\">https://www.example.com/myapp/?page=3</code> → <code class=\"language-text\">myapp/</code>만 바라본다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"1-path-인수-view\" style=\"position:relative;\"><a href=\"#1-path-%EC%9D%B8%EC%88%98-view\" aria-label=\"1 path 인수 view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. path() 인수: view</h2>\n<ul>\n<li>일치하는 패턴을 찾으면, <a href=\"https://docs.djangoproject.com/ko/4.0/ref/request-response/#django.http.HttpRequest\">HttpRequest</a> 객체를 첫번째 인수로 하여 경로로 부터 ‘캡처된’ 값을 키워드 인수로하여 특정한 view 함수를 호출한다.</li>\n</ul>\n<h2 id=\"1-path-인수-kwargs\" style=\"position:relative;\"><a href=\"#1-path-%EC%9D%B8%EC%88%98-kwargs\" aria-label=\"1 path 인수 kwargs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. path() 인수: kwargs</h2>\n<ul>\n<li>임의의 키워드 인수들은 목표한 view 에 딕셔너리형으로 전달된다.</li>\n</ul>\n<h2 id=\"1-path-인수-name\" style=\"position:relative;\"><a href=\"#1-path-%EC%9D%B8%EC%88%98-name\" aria-label=\"1 path 인수 name permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. path() 인수: name</h2>\n<ul>\n<li>URL 에 name을 붙이면, 템플릿을 포함한 Django 어디에서나 명확하게 참조할 수 있다.</li>\n<li>이 기능을 이용해 단 하나의 파일만 수정해도 project 내의 모든 URL 패턴을 바꿀 수 있다.</li>\n</ul>\n<p><br/><br/></p>","excerpt":"“한 번에 끝내는 파이썬 웹 개발 초격차 패키지 Online” 강의의 Django 파트를 수강하고 있는데, 생각보다 설명이 생략된 부분이 많아 코드 따라치기만 하게 되는듯해 Django 공식문서의 튜토리얼을 따라해 이해도를 높인 다음 다시 들으려한다. 이 글은 Django 문서의 첫 번째 장고 앱 작성하기 튜토리얼을 참고해 실습한 내용을 정리한 것이다.  1. 산출물 Polls라는 이름의 간단한 설문조사 애플리케이션을 제작 Public: 사람들이 설문 내용을 보고 직접 투표할 수 있는 개방된 사이트 Private: 관리자가 설문을 추가, 변경, 삭제할 수 있는 관리용 사이트  2. 사전 작업  를 설치한다(Django 4.0버전 기준. Python 3.8이상 버전 설치 권장). Django가 설치가 잘 되었는지 확인하기 위해 아래의 명령어를 실행한다. 설치가 되지 않았다면 “No module named django”와 같은 에러가 발생한다.  3. 프로젝트 생성 프로젝트를 저장할 …","frontmatter":{"date":"July 24, 2022","title":"Python Django 튜토리얼(1)프로젝트/앱 생성하고 view 작성하기","categories":"프로그래밍","author":"jinnypark9393","emoji":"🐍"},"fields":{"slug":"/220724-programming-python-django-tutorial1/"}},"next":{"id":"0ea92a84-5ede-530b-af72-57c6d8bf8188","html":"<p>참고: 이 포스팅은 유투브에 올라온 <strong><a href=\"https://www.youtube.com/watch?v=2JiKkPv_IGs\">Kubernetes 오픈소스 컨트리뷰션 방법 소개 (한글화 기여를 통해 쿠버네티스에 참여하기, CNCG2020 발표)</a></strong> 및 <strong><a href=\"https://www.youtube.com/watch?v=OTl8HBjxIhc\">[Youtube]초간단 쿠버네티스 문서 한글화 시작 가이드</a></strong> 영상, <a href=\"https://www.kubernetes.dev/docs/contributor-cheatsheet/\">Kubernetes Contributor Cheatsheat</a>, <a href=\"https://kubernetes.io/ko/docs/contribute/localization_ko/\">쿠버네티스 문서 한글화 가이드</a> 문서를 참조하여 직접PR을 올린 경험을 토대로 작성 된 자료입니다. 혹시 잘못된 부분이 있을 경우에는 메일(<a href=\"mailto:jinnypark9393@gmail.com\">jinnypark9393@gmail.com</a>)로 알려주시면 반영하도록 하겠습니다 😊</p>\n<p><br/><br/></p>\n<h1 id=\"쿠버네티스-공식문서-한글화에-기여하는-방법-시리즈\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C-%ED%95%9C%EA%B8%80%ED%99%94%EC%97%90-%EA%B8%B0%EC%97%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%8B%9C%EB%A6%AC%EC%A6%88\" aria-label=\"쿠버네티스 공식문서 한글화에 기여하는 방법 시리즈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠버네티스 공식문서 한글화에 기여하는 방법 시리즈</h1>\n<ul>\n<li><a href=\"https://jinnypark9393.github.io/220710-ossca-kubernetes-docs-localization1/\">쿠버네티스 공식문서 한글화에 기여하는 방법(1)사전준비 &#x26; 이슈 생성하기</a></li>\n<li><a href=\"https://jinnypark9393.github.io/220717-ossca-kubernetes-docs-localization2/\">쿠버네티스 공식문서 한글화에 기여하는 방법(2)소스코드 복사 &#x26; 번역하기</a></li>\n<li>쿠버네티스 공식문서 한글화에 기여하는 방법(3)PR(Pull Request)생성 &#x26; CLA 서명 (작성중)</li>\n<li>쿠버네티스 공식문서 한글화에 기여하는 방법(4)리뷰 내용 반영 &#x26; 승인 완료 (작성중)</li>\n</ul>\n<p><br/><br/></p>\n<h1 id=\"1-쿠버네티스-공식문서-한글화에-기여하는-방법2\" style=\"position:relative;\"><a href=\"#1-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C-%ED%95%9C%EA%B8%80%ED%99%94%EC%97%90-%EA%B8%B0%EC%97%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%952\" aria-label=\"1 쿠버네티스 공식문서 한글화에 기여하는 방법2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 쿠버네티스 공식문서 한글화에 기여하는 방법(2)</h1>\n<h2 id=\"1-소스코드-복사-및-로컬-다운로드fork--clone\" style=\"position:relative;\"><a href=\"#1-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C-%EB%B3%B5%EC%82%AC-%EB%B0%8F-%EB%A1%9C%EC%BB%AC-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9Cfork--clone\" aria-label=\"1 소스코드 복사 및 로컬 다운로드fork  clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 소스코드 복사 및 로컬 다운로드(fork &#x26; clone)</h2>\n<p>이제 일감이 정해졌으면 <a href=\"https://github.com/kubernetes/website\">쿠버네티스 공식 웹사이트 repository</a>를 내 repository로 fork해보자. fork는 간단하게 설명하면 다른 사람이 생성한 repository를 내 계정으로 복사하는 기능이라고 생각하면 된다.</p>\n<br/>\n<p>내 계정으로 <code class=\"language-text\">kubernetes/website</code> 저장소를 fork 한 뒤, 편의를 위해 해당 저장소의 기본 브랜치를 현재 한글화팀에서 작업하고 있는 브랜치로 변경한다.</p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVQoz11R2W7DMAzr///gsLc9tDkcH/F9h4OVZkgngBDs0BTFPL5fFl9Pjx/mobSDj5nAuMS0MMzrRn2ctfUQSkPsBlzudFbGEcadcQEPbR0JWedPgrbYjQPbOKZ5wcoYlo3TXasVpVSElJFLQ8wVMZc3KmIqeLTe4X3A6L13HMcBYwwJblxCSAWhduRSkHMmbikFtVa01oh/x2OI7LtGjBFXaWPJmRASnAvqG+dgbIO1Dj4EeO8RQiSRe5HDlXFyVMfEfiDXhtZP4njQ3+77v8e9H7TZxSOHI4shGGNCrY0wXHAhsHEBpfa/9c4Mx+qFeM55pJQ/BcdkISVSSreVDeZloRWlVBSJ1hrKBPh4ZhlCgHOOhn0IjsnDyZXh9WHUII8/PU3ziXnF8zVRvve65/gLNuBsYy3ljrsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022-07-10-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1\"\n        title=\"2022-07-10-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1\"\n        src=\"/static/c13622636dbdeb9c9a4cff65b3c3fdb4/37523/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png\"\n        srcset=\"/static/c13622636dbdeb9c9a4cff65b3c3fdb4/e9ff0/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png 180w,\n/static/c13622636dbdeb9c9a4cff65b3c3fdb4/f21e7/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png 360w,\n/static/c13622636dbdeb9c9a4cff65b3c3fdb4/37523/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png 720w,\n/static/c13622636dbdeb9c9a4cff65b3c3fdb4/302a4/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png 1080w,\n/static/c13622636dbdeb9c9a4cff65b3c3fdb4/4c5bd/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-1.png 1435w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>참고: 현재 쿠버네티스 한글화팀에서 작업하고 있는 브랜치를 알기 위해서는 Github 이슈나 kubernetes slack의 <code class=\"language-text\">#kubernetes-docs-ko</code> 채널을 참조한다(상세 설명은 <a href=\"https://jinnypark9393.github.io/oss%20contribution%20academy/OSS-Kubernetes-Contribute-to-k8s-Docs-Localization1/\">지난 포스팅</a>을 참조).</li>\n</ul>\n<br/>\n<p>그 다음에는, 내 local PC로 git clone하기 위해 fork한 저장소의 주소를 복사한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQoz22S3Y7cIAyF5/0frVKv2vtWqtrtTBL+bBNsEk6FZzarSotkYQH+OBxzu28JP94yft4Zj8hIhZGponBFJvkIruDa0PTAaQBJ8zMkO8qMmdeGm7aGKoKUC1gExILCApaKvSn2ub83hFRQSBCo4Muvb0hM6P1EP05YP6DWPb8B8IUt5qc6D0Iheh06IFLRVGFq4F3w9fd3/F0eICIXUQpBVSfqCWxqDly3iGWLeITiz5+qMjFSjK6cmKFqXphKxVoaxsA1xhhPoOiJ6SURuxKu5tBlDX5JiAmPZcX9sbo1aoaQEpZ1g5ldsEuh2MA9VoTSIAr03hFiRAgROWeknP15+ir2Gqlglgv2H5BtYIkFR+++aNYdtgTCn6h4W6IrnN7WuvssIpgN/RyoJ2IRjHFivIAxJv8mVM27vO/Nlc+uT8UxkX+dT4HUBkKpOM/TN6x392oqWUPG8vJ3lkzwzGszSOsX7B34D582ufsf9GjvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022-07-10-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2\"\n        title=\"2022-07-10-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2\"\n        src=\"/static/df59d91d90c74f61131b8462f140dd93/37523/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png\"\n        srcset=\"/static/df59d91d90c74f61131b8462f140dd93/e9ff0/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 180w,\n/static/df59d91d90c74f61131b8462f140dd93/f21e7/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 360w,\n/static/df59d91d90c74f61131b8462f140dd93/37523/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 720w,\n/static/df59d91d90c74f61131b8462f140dd93/302a4/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 1080w,\n/static/df59d91d90c74f61131b8462f140dd93/07a9c/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 1440w,\n/static/df59d91d90c74f61131b8462f140dd93/ab3e6/2022-07-17-OSS-Kubernetes-Contribute-to-k8s-Docs-Localization2-2.png 1441w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<p><code class=\"language-text\">git clone</code> 명령어를 이용해 fork한 저장소를 복사해온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Documents git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ <span class=\"token function\">git</span> clone <span class=\"token operator\">&lt;</span>복사한 저장소 URL<span class=\"token operator\">></span></code></pre></div>\n<ul>\n<li>참고: 쿠버네티스 공식 저장소 원본을 복사하지 않도록 주의한다.</li>\n</ul>\n<br/>\n<p>clone이 완료되면, clone한 website 디렉터리로 이동(<code class=\"language-text\">cd</code> 명령어 이용)해 작업해야할 브랜치를 잘 받아왔는지 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">➜  Documents git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ cd website\n➜  website git:<span class=\"token punctuation\">(</span>dev<span class=\"token operator\">-</span><span class=\"token number\">1.24</span><span class=\"token operator\">-</span>ko<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ </code></pre></div>\n<br/>\n<ul>\n<li>당시 작업 브랜치였던 <code class=\"language-text\">dev-1.24-ko.1</code> 로 기본 설정되어있음을 확인할 수 있다.</li>\n</ul>\n<br/>\n<p>이 다음으로는 내가 작업하는 브랜치를 다른 브랜치와 명확하게 구분하기 위해서 로컬 branch를 하나 새로 생성해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  website git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>dev<span class=\"token operator\">-</span><span class=\"token number\">1.24</span><span class=\"token operator\">-</span>ko<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ git checkout <span class=\"token operator\">-</span>b jinnypark9393<span class=\"token operator\">/</span>monitor<span class=\"token operator\">-</span>node<span class=\"token operator\">-</span>heal\nth<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1</span>\nSwitched to a new branch <span class=\"token string\">'jinnypark9393/monitor-node-health/v0.1'</span></code></pre></div>\n<br/>\n<ul>\n<li>작업 내역을 명확하게 알 수 있도록 <code class=\"language-text\">jinnypark9393/monitor-node-health/v0.1</code> 이라고 브랜치명을 명명했다.</li>\n</ul>\n<br/>\n<p>그리고 upstream을 추가해주는데, 브랜치를 한글화팀 작업 브랜치였던 <code class=\"language-text\">dev-1.24-ko.1</code>로 추가해준다(<strong>2022년 7월 17일 현재 작업 브랜치는 dev-1.24-ko.2임에 주의</strong>).</p>\n<br/>\n<ul>\n<li>\n<p>kubernetes/website 프로젝트를 upstream에 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  website git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>jinnypark9393<span class=\"token operator\">/</span>monitor<span class=\"token operator\">-</span>node<span class=\"token operator\">-</span>health<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ git remote add upstre\nam https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>website<span class=\"token punctuation\">.</span>git</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>upstream에 kubernetes/website가 잘 추가되었는지 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  website git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>jinnypark9393<span class=\"token operator\">/</span>monitor<span class=\"token operator\">-</span>node<span class=\"token operator\">-</span>health<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ git remote <span class=\"token operator\">-</span>v\norigin\thttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>jinnypark9393<span class=\"token operator\">/</span>website<span class=\"token punctuation\">.</span>git <span class=\"token punctuation\">(</span>fetch<span class=\"token punctuation\">)</span>\norigin\thttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>jinnypark9393<span class=\"token operator\">/</span>website<span class=\"token punctuation\">.</span>git <span class=\"token punctuation\">(</span>push<span class=\"token punctuation\">)</span>\nupstream\thttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>website<span class=\"token punctuation\">.</span>git <span class=\"token punctuation\">(</span>fetch<span class=\"token punctuation\">)</span>\nupstream\thttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>website<span class=\"token punctuation\">.</span>git <span class=\"token punctuation\">(</span>push<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>upstream을 fetch한 뒤 rebase를 진행해 베이스를 최신화한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  website git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>jinnypark9393<span class=\"token operator\">/</span>debug<span class=\"token operator\">-</span>cluster<span class=\"token operator\">-</span>crictl<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ git fetch upstream\nremote<span class=\"token punctuation\">:</span> Enumerating objects<span class=\"token punctuation\">:</span> <span class=\"token number\">7422</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nremote<span class=\"token punctuation\">:</span> Counting objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3778</span><span class=\"token operator\">/</span><span class=\"token number\">3778</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nremote<span class=\"token punctuation\">:</span> Compressing objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">218</span><span class=\"token operator\">/</span><span class=\"token number\">218</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nremote<span class=\"token punctuation\">:</span> Total <span class=\"token number\">7422</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">3626</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> reused <span class=\"token number\">3684</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">3560</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pack<span class=\"token operator\">-</span>reused <span class=\"token number\">3644</span>\nReceiving objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">7422</span><span class=\"token operator\">/</span><span class=\"token number\">7422</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.54</span> MiB <span class=\"token operator\">|</span> <span class=\"token number\">2.61</span> MiB<span class=\"token operator\">/</span>s<span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nResolving deltas<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5878</span><span class=\"token operator\">/</span><span class=\"token number\">5878</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> completed <span class=\"token keyword\">with</span> <span class=\"token number\">1401</span> local objects<span class=\"token punctuation\">.</span>\nFrom https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>website\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n➜  website git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>jinnypark9393<span class=\"token operator\">/</span>debug<span class=\"token operator\">-</span>cluster<span class=\"token operator\">-</span>crictl<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> ✗ git rebase upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span><span class=\"token number\">1.24</span><span class=\"token operator\">-</span>ko<span class=\"token punctuation\">.</span><span class=\"token number\">1</span>\nSuccessfully rebased <span class=\"token keyword\">and</span> updated refs<span class=\"token operator\">/</span>heads<span class=\"token operator\">/</span>jinnypark9393<span class=\"token operator\">/</span>monitor<span class=\"token operator\">-</span>node<span class=\"token operator\">-</span>health<span class=\"token operator\">/</span>v0<span class=\"token punctuation\">.</span><span class=\"token number\">1.</span></code></pre></div>\n</li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"2-문서-번역\" style=\"position:relative;\"><a href=\"#2-%EB%AC%B8%EC%84%9C-%EB%B2%88%EC%97%AD\" aria-label=\"2 문서 번역 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 문서 번역</h2>\n<p>문서를 번역하기 위해 원하는 IDE에서 해당 프로젝트 디렉터리(website)를 열어준다(예시에서는 VScode를 사용하였다).</p>\n<br/>\n<p>website 디렉터리 하위의 <code class=\"language-text\">content</code> 라는 디렉터리 안에 각 언어별 디렉터리가 구분되어있다. 여기서 우리가 필요한 디렉터리는 영문 공식 사이트 정보가 저장되어있는 <code class=\"language-text\">en</code> 디렉터리와 한국 공식 사이트 정보가 저장되어있는 <code class=\"language-text\">ko</code> 디렉터리이다.</p>\n<br/>\n<p>만약 <code class=\"language-text\">ko</code> 디렉터리 안에 지난 포스팅에서 issue를 올린 문서 파일이 저장이 존재한다면 해당 파일을 활용하면 되나, 만일 해당 파일이 생성되지 않았다면, en에서 ko로 해당 파일을 복사하여 사용한다.</p>\n<br/>\n<p>지난 번 예시를 들었던 <code class=\"language-text\">tasks/debug/debug-cluster/monitor-node-health</code> 의 경우, <code class=\"language-text\">ko/docs/debug/</code> 하위의 디렉터리 및 파일이 생성되지 않은 상태였으므로, 디렉터리 및 파일을 <code class=\"language-text\">en</code> (전체경로: <code class=\"language-text\">website/en/docs/tasks/debug/debug-cluster/monitor-node-health.md</code>)에서 <code class=\"language-text\">ko</code> 디렉터리의 해당하는 경로로 복사 &#x26; 붙여넣기를 해준다.</p>\n<br/>\n<p>파일 붙여넣기 후 열면 아래와 같이 영문 파일을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">---\ntitle: Monitor Node Health\ncontent_type: task\nreviewers:\n- Random-Liu\n- dchen1107\nweight: <span class=\"token number\">20</span>\n---\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>-- overview --<span class=\"token operator\">></span>\n\n*Node Problem Detector* is a daemon <span class=\"token keyword\">for</span> monitoring and reporting about a node's health.\nYou can run Node Problem Detector as a <span class=\"token variable\"><span class=\"token variable\">`</span>DaemonSet<span class=\"token variable\">`</span></span> or as a standalone daemon.\nNode Problem Detector collects information about <span class=\"token function\">node</span> problems from various daemons\nand reports these conditions to the API server as <span class=\"token punctuation\">[</span>NodeCondition<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>/docs/concepts/architecture/nodes/<span class=\"token comment\">#condition)</span>\nand <span class=\"token punctuation\">[</span>Event<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>/docs/reference/generated/kubernetes-api/<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span> param <span class=\"token string\">\"version\"</span> <span class=\"token operator\">></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/<span class=\"token comment\">#event-v1-core).</span>\n\nTo learn how to <span class=\"token function\">install</span> and use Node Problem Detector, see\n<span class=\"token punctuation\">[</span>Node Problem Detector project documentation<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https://github.com/kubernetes/node-problem-detector<span class=\"token punctuation\">)</span>.\n\n<span class=\"token comment\">## {{% heading \"prerequisites\" %}}</span>\n\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span> include <span class=\"token string\">\"task-tutorial-prereqs.md\"</span> <span class=\"token operator\">></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>-- steps --<span class=\"token operator\">></span>\n\n<span class=\"token comment\">## Limitations</span>\n\n* Node Problem Detector only supports <span class=\"token function\">file</span> based kernel log.\n  Log tools such as <span class=\"token variable\"><span class=\"token variable\">`</span>journald<span class=\"token variable\">`</span></span> are not supported.\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>이 영문 파일을 번역해 PR을 올리면 된다.</p>\n<br/>\n<p>번역 작업을 할 때에는, 쿠버네티스 공식 문서를 한글로 번역 시 주의해야할 부분을 숙지하여 번역문을 작성하면 좋다.</p>\n<br/>\n<p>예를 들어 쿠버네티스 한글화팀에서는 변경사항 추적 및 유지 관리 편의 등을 위해, 번역 파일의 <strong>각 라인이 가급적 영문 Markdown 파일과 동일하도록 작업할 것</strong>을 권장하고 있다.</p>\n<br/>\n<p>따라서 <code class=\"language-text\">reviewers</code> 정보를 삭제할 경우에도, 해당 행 자체를 삭제하는 것이 아니라 값만 삭제한 빈 줄로 변경해 행 수를 원문과 맞춰주어야 한다.</p>\n<br/>\n<p><strong>[수정 전]</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">---\ntitle: Monitor Node Health\ncontent_type: task\nreviewers:\n- Random-Liu\n- dchen1107\nweight: <span class=\"token number\">20</span>\n---</code></pre></div>\n<br/>\n<p><strong>[수정 후]</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">---\ntitle: Monitor Node Health\ncontent_type: task\nreviewers:\n  \n  \nweight: <span class=\"token number\">20</span>\n---</code></pre></div>\n<br/>\n<p>이 외에도 한글화 PR을 올리면서 깨달았던(?) 주의 사항은 다음과 같다.</p>\n<ul>\n<li>번역 파일의 각 라인은 가급적 영문 Markdown파일과 동일하도록 작업해야한다.\n<ul>\n<li><code class=\"language-text\">reviewers</code> 정보를 삭제할 경우에도, 해당 행 자체를 삭제하는 것이 아니라 값만 삭제한 빈 줄로 변경해 행 수를 원문과 맞춰주어야 한다.</li>\n</ul>\n</li>\n<li>예시로 보여지는 YAML등의 코드블럭 내의 주석 부분도 번역한다.</li>\n<li>문서 내에 <code class=\"language-text\">{}</code> 형태로 링크되어있는 코드 파일은 해당 경로를 확인하여 <code class=\"language-text\">ko</code> 디렉터리에 해당 파일이 존재하지 않을 경우, <code class=\"language-text\">ko</code> 디렉터리의 해당 경로로 복사해준다.</li>\n<li>파일 내에서 동일한 용어를 사용할 경우 같은 형태로 맞춰준다(예: 문서 내에 <code class=\"language-text\">설정 파일</code> 이라는 단어가 처음 등장한 이후 같은 단어를 사용하면 설정파일 등으로 표기하지 말고 문서 내에서 일관되게 <code class=\"language-text\">설정 파일</code> 로 표기한다.)</li>\n<li>일반적인 단어를 일컫는 뜻의 복수형 단어의 경우(예: problems → 문제들(x), 문제(o)), 가급적 단수로 번역한다.</li>\n<li>기타 번역 시 주의사항은 <a href=\"https://kubernetes.io/ko/docs/contribute/localization_ko/\">이 링크</a>를 참조한다.</li>\n</ul>\n<br/>\n<p>다음으로는 실제 PR을 생성해보는 작업을 진행해보자.</p>","frontmatter":{"date":"July 17, 2022","title":"오픈소스 컨트리뷰션 아카데미(쿠버네티스 한글화) - 쿠버네티스 공식문서 한글화에 기여하는 방법(2)소스코드 복사 & 번역하기","categories":"OSSCA","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220717-ossca-kubernetes-docs-localization2/"}},"prev":{"id":"0bb5b921-258d-515f-8368-c5cbfb938460","html":"<h1 id=\"1-배경-상황\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EA%B2%BD-%EC%83%81%ED%99%A9\" aria-label=\"1 배경 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 배경 상황</h1>\n<p>Django 실습 내용을 Github 저장소에 업로드해서 소스코드를 관리하려고 새롭게 깃허브 저장소를 생성하고 코드를 올렸었다.</p>\n<br/>\n<p>그런데 올리자마자 메일 알람이 울리는 것;;; 내용을 확인했더니 GitGuardian이라는 곳에서 온 “Django Secret Key exposed on GitHub”이라는 보안 알람 메일이었다. 깜짝 놀라서 소스코드를 뜯어봤더니 settings.py에 SECRET_KEY가 대놓고 들어있어서 얼른 github에 생성했던 저장소를 삭제했다(실습 시작한지 진짜 얼마 안되어서 다행이었음).</p>\n<br/>\n<p>이 SECRET_KEY는 <a href=\"https://docs.djangoproject.com/en/1.11/ref/settings/#std:setting-SECRET_KEY\">Django의 보안 관련 기능</a>에 사용하는 값으로, 다음과 같은 경우에 사용된다.</p>\n<ul>\n<li><code class=\"language-text\">django.contrib.sessions.backends.cache</code>가 아닌 다른 세션 백엔드를 사용하는 경우 혹은 기본 <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/customizing/#django.contrib.auth.models.AbstractBaseUser.get_session_auth_hash\">get_session_auth_hash()</a>를 사용하는 모든 <a href=\"https://docs.djangoproject.com/en/1.11/topics/http/sessions/\">sessions</a>.</li>\n<li><a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/messages/#django.contrib.messages.storage.cookie.CookieStorage\">CookieStorage</a> 혹은 <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/messages/#django.contrib.messages.storage.fallback.FallbackStorage\">FallbackStorage</a>를 사용하는 모든 <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/messages/\">messages</a>.</li>\n<li>모든 <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/default/#django.contrib.auth.views.PasswordResetView\">PasswordResetView</a> 토큰.</li>\n<li>다른 키가 제공되지 않는 <a href=\"https://docs.djangoproject.com/en/1.11/topics/signing/\">cryptographic signing</a> 에 사용된다.</li>\n</ul>\n<br/>\n<p>이 시크릿 키는 Django 프로젝트의 설정값을 모아놓은 <code class=\"language-text\">settings.py</code> 에 저장되어있는데, 아래와 같이 키값이 그대로 파일에 들어가있어 공개된 저장소에 올릴 경우 시크릿 키 값이 그대로 노출이 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># SECURITY WARNING: keep the secret key used in production secret!</span>\nSECRET_KEY <span class=\"token operator\">=</span> <span class=\"token string\">'django-insecure-(i6d9syn7v6s#=q19h4p64-vn&amp;%g6gw+vk7l&amp;uqu@ee9quz!i@'</span></code></pre></div>\n<br/>\n<p>구글링으로 찾아보니 SECRET_KEY를 노출하지 않고 관리하기 위해서는 환경변수로 지정하는 방법, 그리고 별도 파일로 분리해서 관리하는 방법, 총 두 가지 방법이 있었다.</p>\n<p><br/><br/></p>\n<h1 id=\"2-django-프로젝트의-secret_key를-별도-파일에-저장하기\" style=\"position:relative;\"><a href=\"#2-django-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%9D%98-secret_key%EB%A5%BC-%EB%B3%84%EB%8F%84-%ED%8C%8C%EC%9D%BC%EC%97%90-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0\" aria-label=\"2 django 프로젝트의 secret_key를 별도 파일에 저장하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Django 프로젝트의 SECRET_KEY를 별도 파일에 저장하기</h1>\n<p>기본으로 생성되는 키 대신 다른 키를 사용하고 싶다면 <a href=\"https://miniwebtool.com/django-secret-key-generator/\">Django Secret Key Generator</a>를 사용하거나, 아래의 코드를 실행해 임의의 50글자를 생성할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">import</span> string, random\n\n<span class=\"token comment\"># Get ascii Characters numbers and punctuation (minus quote characters as they could terminate string).</span>\nchars <span class=\"token operator\">=</span> <span class=\"token string\">''</span>.join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>string.ascii_letters, string.digits, string.punctuation<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>.replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\\'</span>', <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>.replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\"'</span>, <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>.replace<span class=\"token punctuation\">(</span><span class=\"token string\">'\\\\'</span>, <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n\nSECRET_KEY <span class=\"token operator\">=</span> <span class=\"token string\">''</span>.join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>random.SystemRandom<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>.choice<span class=\"token punctuation\">(</span>chars<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nprint<span class=\"token punctuation\">(</span>SECRET_KEY<span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p>아래 명령어로 시크릿 키 값을 저장할 json파일을 프로젝트 root 디렉토리에 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  myfirstsite git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ <span class=\"token function\">touch</span> secrets.json\n➜  myfirstsite git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ tree\n<span class=\"token builtin class-name\">.</span>\n├── db.sqlite3\n├── manage.py\n├── myfirstsite\n│   ├── __init__.py\n│   ├── __pycache__\n│   │   ├── __init__.cpython-310.pyc\n│   │   ├── settings.cpython-310.pyc\n│   │   ├── urls.cpython-310.pyc\n│   │   └── wsgi.cpython-310.pyc\n│   ├── asgi.py\n│   ├── settings.py\n│   ├── urls.py\n│   └── wsgi.py\n├── polls\n│   ├── __init__.py\n│   ├── __pycache__\n│   │   ├── __init__.cpython-310.pyc\n│   │   ├── urls.cpython-310.pyc\n│   │   └── views.cpython-310.pyc\n│   ├── admin.py\n│   ├── apps.py\n│   ├── migrations\n│   │   └── __init__.py\n│   ├── models.py\n│   ├── tests.py\n│   ├── urls.py\n│   └── views.py\n└── secrets.json\n\n<span class=\"token number\">5</span> directories, <span class=\"token number\">23</span> files</code></pre></div>\n<br/>\n<p>생성한 json 파일에 새로 생성한 시크릿 키 값을 저장한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"SECRET_KEY\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"생성한 시크릿 키 값\"</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p><code class=\"language-text\">settings.py</code> 파일에서 새로운 모듈을 추가한 뒤, 하드코딩된 SECRET_KEY를 대체하는 코드를 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">import</span> os, json\nfrom django.core.exceptions <span class=\"token function\">import</span> ImproperlyConfigured\n\nsecret_file <span class=\"token operator\">=</span> os.path.join<span class=\"token punctuation\">(</span>BASE_DIR, <span class=\"token string\">'secrets.json'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># secrets.json 파일 위치를 명시</span>\n\nwith open<span class=\"token punctuation\">(</span>secret_file<span class=\"token punctuation\">)</span> as f:\n    secrets <span class=\"token operator\">=</span> json.loads<span class=\"token punctuation\">(</span>f.read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">))</span>\n\ndef get_secret<span class=\"token punctuation\">(</span>setting, <span class=\"token assign-left variable\">secrets</span><span class=\"token operator\">=</span>secrets<span class=\"token punctuation\">)</span>:\n    <span class=\"token string\">\"\"</span>\"비밀 변수를 가져오거나 명시적 예외를 반환한다.<span class=\"token string\">\"\"</span>\"\n    try:\n        <span class=\"token builtin class-name\">return</span> secrets<span class=\"token punctuation\">[</span>setting<span class=\"token punctuation\">]</span>\n    except KeyError:\n        error_msg <span class=\"token operator\">=</span> <span class=\"token string\">\"Set the {} environment variable\"</span>.format<span class=\"token punctuation\">(</span>setting<span class=\"token punctuation\">)</span>\n        raise ImproperlyConfigured<span class=\"token punctuation\">(</span>error_msg<span class=\"token punctuation\">)</span>\n\nSECRET_KEY <span class=\"token operator\">=</span> get_secret<span class=\"token punctuation\">(</span><span class=\"token string\">\"SECRET_KEY\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p><code class=\"language-text\">.gitignore</code> 파일을 생성해 secrets.json 파일을 Git 커밋에 포함하지 않도록 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  myfirstsite git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ <span class=\"token function\">vi</span> .gitignore\n<span class=\"token operator\">==</span><span class=\"token operator\">=</span>\nsecrets.json</code></pre></div>\n<br/>\n<p>개발서버를 실행해 서버 빌드에 문제가 없는지 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  myfirstsite git:<span class=\"token punctuation\">(</span>master<span class=\"token punctuation\">)</span> ✗ python3 manage.py runserver \nWatching <span class=\"token keyword\">for</span> <span class=\"token function\">file</span> changes with StatReloader\nPerforming system checks<span class=\"token punctuation\">..</span>.\n\nSystem check identified no issues <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> silenced<span class=\"token punctuation\">)</span>.\n\nYou have <span class=\"token number\">18</span> unapplied migration<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>. Your project may not work properly <span class=\"token keyword\">until</span> you apply the migrations <span class=\"token keyword\">for</span> app<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>: admin, auth, contenttypes, sessions.\nRun <span class=\"token string\">'python manage.py migrate'</span> to apply them.\nJuly <span class=\"token number\">24</span>, <span class=\"token number\">2022</span> - 00:44:49\nDjango version <span class=\"token number\">4.0</span>.6, using settings <span class=\"token string\">'myfirstsite.settings'</span>\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.</code></pre></div>\n<p>문제 없이 올라간 경우 git 명령어로 원격 저장소에 소스코드를 업로드하자(git status로 푸시 전 반드시 secrets.json이 스테이지 영역에서 제외되었는지 확인할 것).</p>\n<p><br/><br/></p>","frontmatter":{"date":"July 25, 2022","title":"Python Django settings.py의 SECRET_KEY 변경 및 분리하기","categories":"프로그래밍","author":"jinnypark9393","emoji":"🐍"},"fields":{"slug":"/220725-programming-python-django-tutorial2 copy/"}},"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220724-programming-python-django-tutorial1/","nextSlug":"/220717-ossca-kubernetes-docs-localization2/","prevSlug":"/220725-programming-python-django-tutorial2 copy/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}