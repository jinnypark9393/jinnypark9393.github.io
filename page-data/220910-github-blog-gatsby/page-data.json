{"componentChunkName":"component---src-templates-blog-template-js","path":"/220910-github-blog-gatsby/","result":{"data":{"cur":{"id":"77ec82c9-5b1f-55c3-b057-217f0ddafea8","html":"<h1 id=\"1-배경상황\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EA%B2%BD%EC%83%81%ED%99%A9\" aria-label=\"1 배경상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 배경상황</h1>\n<p>한두달 전 쯤 깃헙 블로그의 테마를 Jekyll의 Minimal mistakes에서 Gatsby의 Zoomkoding님 테마로 변경 했다. 테마 변경 직후에 Jekyll에서 수집이 되지 않던 사이트맵이 Zoomkoding님 테마로 전환 이후에 잘 수집되는 것을 확인하고는 이후에 서치콘솔에 들어가 확인하지 않았는데, 오랜만에 들어가보니 아예 사이트 소유권 증명이 풀려있었다;; (당연함.. 소유권 증명을 HTML 태그로 했었는데 새로운 코드를 덮어 씌웠으니 소유권 증명이 될 리가..) 그래서 다시 소유권 등록을 진행해주었다.</p>\n<br/>\n<h1 id=\"2-구글-서치콘솔-등록-방법\" style=\"position:relative;\"><a href=\"#2-%EA%B5%AC%EA%B8%80-%EC%84%9C%EC%B9%98%EC%BD%98%EC%86%94-%EB%93%B1%EB%A1%9D-%EB%B0%A9%EB%B2%95\" aria-label=\"2 구글 서치콘솔 등록 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 구글 서치콘솔 등록 방법</h1>\n<p>구글 서치콘솔은 구글에 내 사이트를 등록해 구글에서 키워드를 검색했을 때 검색결과에 내 블로그를 노출시켜준다(반대로 말하면, 깃헙 블로그의 경우 네이버 블로그와는 달리 블로그를 생성한 뒤 구글 서치콘솔을 비롯한 각종 서치콘솔에 등록해주지 않으면 직접 블로그 URL을 타고 들어오지 않는 한 어디에서도 내 블로그를 찾을 수 없다ㅎㅎ..).</p>\n<br/>\n<p>먼저 구글 서치 콘솔 사이트(<a href=\"https://search.google.com/search-console/about?hl=ko\">Google Search Console URL</a>)에 접속한 뒤, 시작하기 버튼을 누른다. 그러면 <code class=\"language-text\">도메인</code> 과 <code class=\"language-text\">URL 접두어</code> 2개의 옵션 중 하나를 선택하라는 팝업이 뜨게 된다. 만약 본인이 도메인을 구입한 것이 아니라 깃헙 블로그의 기본 도메인(<a href=\"https://%EB%82%B4%EA%B9%83%ED%97%99%EC%95%84%EC%9D%B4%EB%94%94.github.io)%EB%A5%BC\">https://내깃헙아이디.github.io)를</a> 사용하고 있다면 <code class=\"language-text\">URL 접두어 옵션</code> 을 선택해 내 블로그 주소를 입력한 뒤 계속 버튼을 눌러주자.</p>\n<br/>\n<p>그 뒤에는 HTML 파일을 업로드해 소유권을 증명하라는 옵션이 기본으로 뜨게 되는데, 우리는 그 밑에 보이는 <code class=\"language-text\">HTML tag</code> 옵션을 선택해준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 614px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQ4y52Uy2sTURTG58/SnRupC6W6EawFqzRFhQqCFQVBFP+HtrqzUdq6li7FCDGBuJWEZJLm4eQ1k/dz7sx88p3kxjQLjb3wy3dyc+935845J8ba9g5CT1/izuPnuPfkBe4/e4Xrm9u4vLaJlfWt/8a4sr4lBtfuPhS9EXqEqxsPsHI7hEs3N3Bh9RYurq4tjbEXPgLZDx9j/8Mxdg+ORN99/CRzuweHMrcsBhDAVwrKHcP3FDylEPgelOviPMNwlYLganUnsetCKQXP8wQ11UXUQmwwaDQaqNVqGI/HZ04bDofodDro9/vodrvo9XoSk3a7LSZ68HDf92Hwgxv14sFgIDDm3N/Q66mj0eiPoeM4yOVyME0TmUwGxWIRqVQKkUgE8Xgc0WhUNBaLSZxIJFCpVGQfqdfrcoMgCCaGvHI+n0ehUIBlWbI4m80imUwinU4LPLBUKs2gUbPZlL2Mzxg6jg3TzCCbNWUjzfUBGppUq1U5jFoulyWmoW3bC0/YbKFk1WCVa7MNTJKOtRFNtNFEq7CnV2bypoYebKeN9GkTp6XJFZal3WphNOhj0OvCHc8lhUXMCcJsLQMbwKrWcfIths9fv+PHz9SksOdradnhB4FopvALb96G8XrvPQ5PvkwMWZAsaMLu0PovuI43m6FcKXSDRa2Lk8qCpZ53yJX1e5nvXWZM+pN/HFMWv+t2I/xtlhTdy3xajmD6jvQTs8Z0T+u249x8P+te/g0bsgs93acNLgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220910-githubblog-gatsby-google-search-console-ownership1\"\n        title=\"220910-githubblog-gatsby-google-search-console-ownership1\"\n        src=\"/static/1000b925fb3532022c25cb8fe1bcacb0/e9131/220910-githubblog-gatsby-google-search-console-ownership1.png\"\n        srcset=\"/static/1000b925fb3532022c25cb8fe1bcacb0/e9ff0/220910-githubblog-gatsby-google-search-console-ownership1.png 180w,\n/static/1000b925fb3532022c25cb8fe1bcacb0/f21e7/220910-githubblog-gatsby-google-search-console-ownership1.png 360w,\n/static/1000b925fb3532022c25cb8fe1bcacb0/e9131/220910-githubblog-gatsby-google-search-console-ownership1.png 614w\"\n        sizes=\"(max-width: 614px) 100vw, 614px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<p>HTML tag 옵션을 선택하면 아래와 같이 <code class=\"language-text\">&lt;meta name~</code> 으로 시작하는 태그가 있는데, 이것을 미리 복사해두자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 618px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVQ4y51Ty26CQBT1q7tr0i/oqkkXXTTpH7lQ8YFYQFBEGF6CDzjNuclVY5PadpLDfc6Zc8lMb7fboaoqlGUpKIpCYq6u63BvsecavdPphKZpBIfDQXA8HqXYti1YV9zGmrtGjx9jDKIoEtLrtd/vRTUVq3JOpLk8z0UAl5ILIYnquhao2ltoTfsIkhManwnjOEa/38dgMMB4PMZwOBTfsiyMRiPJ0aclZrMZptMp5vM5bNsWnxxCyH/FYDKZSIEN6nOz5mhJRH+z2Qi4j79qvV4jTVMZWxQyCIJACkQYhhLTLpfLs09LuK4r8DwPvu/LRNx3HpmELLCBjfTZoKfTXkMPJqiUh22324tCSuco/G+E4ziSuweS0CZJIjfl+8iry6hUeQuOr5No7HqeqE6VsGtbRHGGiZPAdhPE8VZO/glUpH5mDIxJkefZRWFZVUhNAZMVcoF/C15sP1zh0w8QrCJ5YUL431XVDZ5eP/Dw/IbHl3eYokSPT4dP7K/gvrpuMPv0YNkLTBeuxF+ilib+4uHHRwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220910-githubblog-gatsby-google-search-console-ownership2\"\n        title=\"220910-githubblog-gatsby-google-search-console-ownership2\"\n        src=\"/static/98b19856dacf59923b5ccb7e48f90f3c/6e6fb/220910-githubblog-gatsby-google-search-console-ownership2.png\"\n        srcset=\"/static/98b19856dacf59923b5ccb7e48f90f3c/e9ff0/220910-githubblog-gatsby-google-search-console-ownership2.png 180w,\n/static/98b19856dacf59923b5ccb7e48f90f3c/f21e7/220910-githubblog-gatsby-google-search-console-ownership2.png 360w,\n/static/98b19856dacf59923b5ccb7e48f90f3c/6e6fb/220910-githubblog-gatsby-google-search-console-ownership2.png 618w\"\n        sizes=\"(max-width: 618px) 100vw, 618px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<p>로컬에 받아둔 깃헙 블로그 코드 저장소를 VScode 등 IDE로 열어준다. 우리는 react-helmet이라는 react 라이브러리를 이용해 head에 위 태그를 넣어줄 것이다. 참고로 <a href=\"https://github.com/nfl/react-helmet\">react-helmet</a>은 리액트 컴포넌트들이 문서의 헤드를 바꿀 수 있게 도와주는 라이브러리이다.</p>\n<br/>\n<p>해당 라이브러리를 다운로드 하지 않았다면 <code class=\"language-text\">yarn add react-helmet</code> 등의 명령어를 통해 받아주면 되는데, Zoomkoding님의 테마로 깃헙블로그 생성을 진행했다면 별도로 받지 않아도 된다. Zoomkoding님 소스코드 기준으로 사용 라이브러리들은 package.json에서 확인할 수 있다.</p>\n<br/>\n<p>package.json 파일을 열어보면, 아래와 같이 react-helmet을 비롯해 sitemap, google analytics에 대한 라이브러리도 함께 들어가있는 것을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">...(생략)...\n<span class=\"token property\">\"gatsby\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.9.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-advanced-sitemap\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-google-analytics\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.9.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-image\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.9.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-manifest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.9.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-offline\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.9.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-react-helmet\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.9.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-robots-txt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.7.0\"</span><span class=\"token punctuation\">,</span>\n...(생략)...</code></pre></div>\n<br/>\n<p>그 다음, HTML head 태그를 수정하려면, 아래 경로의 index.js 파일을 열어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">src/components/seo/index.js</code></pre></div>\n<br/>\n<p>해당 파일을 보면 <code class=\"language-text\">&lt;Helmet</code>으로 시작하는 태그 하위의 <code class=\"language-text\">meta</code> 부분에 각종 property와 값들이 들어가있을 것이다. 우리는 맨 아래로 내려가 아래 항목을 추가해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'google-site-verification'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token string\">'z5uXSXS9AQ0XtymW77I2yTTZtYsZD2jbJ7a1qCo6seM'</span>\n        <span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>이 때 name에는 구글 서치콘솔에서 복사한 meta 태그의 name에 해당하는 값을, content의 경우에는 content에 해당하는 값을 복사해 넣어준다.</p>\n<br/>\n<p>그리고 <code class=\"language-text\">git add &amp; commit &amp; push</code>를 이용해 main 브랜치에 해당 변경사항을 반영한 뒤, 웹사이트에도 추가 태그를 반영하기 위해 <code class=\"language-text\">npm run deploy</code> 로 배포해준다. 그리고 난 뒤, 구글 서치콘솔로 돌아가 verification 요청을 눌러주면 아래와 같이 소유권이 확인되었다는 표시가 뜨면 잘 등록이 된 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 643px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVQoz6WRSUrEQBiF6yzisFdw0SAuRLyAqEsRoRFB9Drabpylr6E06EppPEEbk5iYoVJJJaTy5P8DIUiL3VjFx6tXw6tJrN0fYflqH53rLlZuD7i9eneIxYtdzPe2sXC+MxWCFnduuljvHzPkN/onWLrcw8zpJuZ6W5g9mxwxsIYgHkYvzOPolXXwPsTzxxuepkSkoUSRaCA3Nf8sIohCyETCVAYGFTNJbc8rK4PS1IiiKJBrjSzLoLVGnues5Ik0TZuxcZ6oqopPRyosy4Jt23Bdl9VxnMZ7ngff91mDIGg80Q41xnAYB0ZRBKUUpJSI4xhJkoD66KTTFg78a8I4aGN6qkQp+EGIT/8LYSzrT/ltUftdfnq6ZlmW0HkBlaaQSiHLNAd+A7MowhK9pNOJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220910-githubblog-gatsby-google-search-console-ownership\"\n        title=\"220910-githubblog-gatsby-google-search-console-ownership\"\n        src=\"/static/26d60eddc7ead19d12dc827b82c78299/b5bda/220910-githubblog-gatsby-google-search-console-ownership3.png\"\n        srcset=\"/static/26d60eddc7ead19d12dc827b82c78299/e9ff0/220910-githubblog-gatsby-google-search-console-ownership3.png 180w,\n/static/26d60eddc7ead19d12dc827b82c78299/f21e7/220910-githubblog-gatsby-google-search-console-ownership3.png 360w,\n/static/26d60eddc7ead19d12dc827b82c78299/b5bda/220910-githubblog-gatsby-google-search-console-ownership3.png 643w\"\n        sizes=\"(max-width: 643px) 100vw, 643px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>","excerpt":"1. 배경상황 한두달 전 쯤 깃헙 블로그의 테마를 Jekyll의 Minimal mistakes에서 Gatsby의 Zoomkoding님 테마로 변경 했다. 테마 변경 직후에 Jekyll에서 수집이 되지 않던 사이트맵이 Zoomkoding님 테마로 전환 이후에 잘 수집되는 것을 확인하고는 이후에 서치콘솔에 들어가 확인하지 않았는데, 오랜만에 들어가보니 아예 사이트 소유권 증명이 풀려있었다;; (당연함.. 소유권 증명을 HTML 태그로 했었는데 새로운 코드를 덮어 씌웠으니 소유권 증명이 될 리가..) 그래서 다시 소유권 등록을 진행해주었다. 2. 구글 서치콘솔 등록 방법 구글 서치콘솔은 구글에 내 사이트를 등록해 구글에서 키워드를 검색했을 때 검색결과에 내 블로그를 노출시켜준다(반대로 말하면, 깃헙 블로그의 경우 네이버 블로그와는 달리 블로그를 생성한 뒤 구글 서치콘솔을 비롯한 각종 서치콘솔에 등록해주지 않으면 직접 블로그 URL을 타고 들어오지 않는 한 어디에서도 내 블로그를 찾을 수…","frontmatter":{"date":"September 10, 2022","title":"Github Blog / Gatsby 구글 서치콘솔(Google Search Console) 등록하기","categories":"BLOG","author":"jinnypark9393","emoji":"🍒"},"fields":{"slug":"/220910-github-blog-gatsby/"}},"next":{"id":"dd994fc0-7efd-5ae9-9539-3da53d6ca243","html":"<br/>\n<h1 id=\"1-배경-상황\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EA%B2%BD-%EC%83%81%ED%99%A9\" aria-label=\"1 배경 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 배경 상황</h1>\n<p>신규로 담당하게 되었던 시스템이 특정 환경에서만 접속이 되지 않아 팀원분들과 함께 원인을 찾아보던 중 ingress의 annotation 중 특이하게 설정되어있는 부분이 있어 해당 어노테이션에 대해 찾아보게 되었다.</p>\n<br/>\n<p>내가 눈여겨 보았던 어노테이션은 도메인 경로에서 <code class=\"language-text\">www</code> 라는 하위 도메인을 자동으로 추가하는 설정이었는데, 테스트를 위해 해당 시스템의 도메인 정보를 사전에 받았을 때, <code class=\"language-text\">www</code> 하위 도메인이 포함되어있지 않았었다. 따라서 www라는 하위 도메인으로 redirect하는 설정때문에 시스템 접속에 문제가 생긴 것이 아닐까 하고 추측했었다. 하지만 이 설정은 다른 분이 시스템 접속 이슈를 해결하고자 이것 저것 시도해보시다가 들어가게 된 설정이었고, 해당 설정을 하기 전에도 시스템 접속에 문제가 있었던 상황이었다(그리고 해당 이슈의 원인도 결국은 도메인 주소의 문제가 아니라 mime-type 설정의 문제로 밝혀졌다).</p>\n<br/>\n<h1 id=\"2-설정-방법\" style=\"position:relative;\"><a href=\"#2-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95\" aria-label=\"2 설정 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 설정 방법</h1>\n<p>NGINX Ingress controller를 사용하는 쿠버네티스 환경에서 특정 Ingress에 www라는 하위 도메인으로 자동으로 redirect하게 해주거나, 반대로 www라는 하위 도메인이 붙어있을 경우 하위 도메인을 제거해주는 설정은 아래와 같다.</p>\n<br/>\n<p>참고로 이 설정은 Ingress의 annotation 항목에 아래와 같은 설정을 추가하여 적용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nginx<span class=\"token punctuation\">.</span>ingress<span class=\"token punctuation\">.</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span><span class=\"token keyword\">from</span><span class=\"token operator\">-</span>to<span class=\"token operator\">-</span>www<span class=\"token operator\">-</span>redirect<span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span></code></pre></div>\n<br/>\n<h1 id=\"3-참고-링크\" style=\"position:relative;\"><a href=\"#3-%EC%B0%B8%EA%B3%A0-%EB%A7%81%ED%81%AC\" aria-label=\"3 참고 링크 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 참고 링크</h1>\n<ul>\n<li>Kubernetes/ingress-nginx annotations - <a href=\"https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#redirect-fromto-www\">https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#redirect-fromto-www</a></li>\n</ul>\n<br/>","frontmatter":{"date":"September 09, 2022","title":"NGINX 도메인경로에 www를 자동으로 추가/삭제하는 방법","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220909-nginx-fromtowwwredirect/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220910-github-blog-gatsby/","nextSlug":"/220909-nginx-fromtowwwredirect/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}