{"componentChunkName":"component---src-templates-blog-template-js","path":"/220930-devops-linux-file-attribute/","result":{"data":{"cur":{"id":"145ab2ea-530f-53c0-a947-5ff726a7aa22","html":"<h1 id=\"file-attribute\" style=\"position:relative;\"><a href=\"#file-attribute\" aria-label=\"file attribute permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File Attribute</h1>\n<h2 id=\"1-file-attributes\" style=\"position:relative;\"><a href=\"#1-file-attributes\" aria-label=\"1 file attributes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. File attributes</h2>\n<ul>\n<li>\n<p><strong>lsattr</strong></p>\n<ul>\n<li>\n<p>리눅스 파일시스템의 파일 속성을 보는 명령어</p>\n</li>\n<li>\n<p>chattr 명령어의 결과를 확인할 수 있음.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ lsattr file1\n--------------e----- file1</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>chattr</strong> (Change attribute)</p>\n<ul>\n<li>파일을 보호하는 명령어</li>\n<li>파일 시스템의 파일 속성을 변경하여 파일 손상을 방지함.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ chattr --help\nUsage: chattr <span class=\"token punctuation\">[</span>-pRVf<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-<span class=\"token operator\">+=</span>aAcCdDeijPsStTuF<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-v version<span class=\"token punctuation\">]</span> files<span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n<li>\n<p>속성 설정</p>\n<table>\n<thead>\n<tr>\n<th>+</th>\n<th>속성 추가하기</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-</td>\n<td>속성 제거하기</td>\n</tr>\n<tr>\n<td>=</td>\n<td>원래 파일이 가지고 있는 속성 유지하기</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>속성 의미</p>\n<table>\n<thead>\n<tr>\n<th>A(no atime updates)</th>\n<th>Access가 발생하더라도 파일 시스템의 파일 정보에 저장되는 atime이 갱신되지 않음</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>a(append only)</td>\n<td>해당 파일을 추가만 할 수 있음(파일 보안을 위해 주로 사용하는 속성)</td>\n</tr>\n<tr>\n<td>C(no copy on write)</td>\n<td>기록 중 복사 업데이트가 적용되지 않음.</td>\n</tr>\n<tr>\n<td>c(compressed)</td>\n<td>디스크에 자동적으로 압축된 상태로 저장됨</td>\n</tr>\n<tr>\n<td>D(synchronous directory updates)</td>\n<td>디렉터리의 변경사항을 동기화 시킴.</td>\n</tr>\n<tr>\n<td>d(no dump)</td>\n<td>dump 명령어로 백업되지 않음.</td>\n</tr>\n<tr>\n<td>e(extent format)</td>\n<td>파일이 디스크 블록에 매핑될 때 extent를 사용함 (리눅스 기본 속성 정보)</td>\n</tr>\n<tr>\n<td>i(immutable)</td>\n<td>파일을 수정할 수 없음(superuser만 가능)</td>\n</tr>\n<tr>\n<td>j(data journaling)</td>\n<td>파일에 데이터를 쓰기 전에 ext3 journal에 먼저 씀</td>\n</tr>\n<tr>\n<td>S(synchronous updates)</td>\n<td>파일이 변경되면 디스크에 동기식으로 저장됨.</td>\n</tr>\n<tr>\n<td>s(secure deletion)</td>\n<td>파일이 삭제될 경우 해당 블럭이 0이 되고 디스크에 다시 쓰기가 됨. 삭제파일 복구 불가능.</td>\n</tr>\n<tr>\n<td>T(top of directory hierarchy)</td>\n<td>해당 디렉터리를 최상위 디렉터리로 인식함.</td>\n</tr>\n<tr>\n<td>t(On-time merging)</td>\n<td>파일에 partial block fragmentation(tail-merging)이 발생하지 않음.</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>atime이란?</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">stat</span> file1\n  File: file1\n  Size: <span class=\"token number\">0</span>         \tBlocks: <span class=\"token number\">0</span>          IO Block: <span class=\"token number\">4096</span>   regular empty <span class=\"token function\">file</span>\nDevice: 805h/2053d\tInode: <span class=\"token number\">786908</span>      Links: <span class=\"token number\">1</span>\nAccess: <span class=\"token punctuation\">(</span>0664/-rw-rw-r--<span class=\"token punctuation\">)</span>  Uid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>   Gid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>\nAccess: <span class=\"token number\">2022</span>-09-22 07:42:34.075365325 -0700\nModify: <span class=\"token number\">2022</span>-09-22 07:42:34.075365325 -0700\nChange: <span class=\"token number\">2022</span>-09-22 07:42:34.075365325 -0700\n Birth: -</code></pre></div>\n<ul>\n<li>Access: 마지막으로 접속한 시간(cat 명령어 등) → atime\n<ul>\n<li>a 옵션으로 오버헤드 줄일 수 있다.</li>\n</ul>\n</li>\n<li>Modify: 마지막 수정 시간</li>\n<li>Change: 마지막 속성 변경 시간</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>example</p>\n<ul>\n<li>\n<p>a 속성</p>\n<ul>\n<li>\n<p>해당 파일을 추가(append only)만 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts\n<span class=\"token number\">127.0</span>.0.1\tlocalhost\n<span class=\"token number\">127.0</span>.1.1\tubuntu\n\n<span class=\"token comment\"># The following lines are desirable for IPv6 capable hosts</span>\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n--------------e----- hosts\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr +a hosts \n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae: \nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n-----a--------e----- hosts\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"hello linux\"</span> <span class=\"token operator\">>></span> hosts \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts\n<span class=\"token number\">127.0</span>.0.1\tlocalhost\n<span class=\"token number\">127.0</span>.1.1\tubuntu\n\n<span class=\"token comment\"># The following lines are desirable for IPv6 capable hosts</span>\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nhello linux\n\n<span class=\"token comment\"># 하지만 vi모드에서는 수정이 불가능하다.</span>\n\n<span class=\"token comment\"># a 속성을 지우면 다시 편집이 가능하다.</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr -a hosts \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">vi</span> hosts</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>A 속성</p>\n<ul>\n<li>Access가 발생하더라도 파일 시스템의 파일 정보에 저장되는 atime이 갱신되지 않음.</li>\n<li>SSD의 수명 연장이나 Laptop의 배터리 절약</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">stat</span> hosts \n  File: hosts\n  Size: <span class=\"token number\">233</span>       \tBlocks: <span class=\"token number\">8</span>          IO Block: <span class=\"token number\">4096</span>   regular <span class=\"token function\">file</span>\nDevice: 805h/2053d\tInode: <span class=\"token number\">786942</span>      Links: <span class=\"token number\">1</span>\nAccess: <span class=\"token punctuation\">(</span>0644/-rw-r--r--<span class=\"token punctuation\">)</span>  Uid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>   Gid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>\nAccess: <span class=\"token number\">2022</span>-09-24 02:27:21.160559895 -0700\nModify: <span class=\"token number\">2022</span>-09-24 02:25:53.498717876 -0700\nChange: <span class=\"token number\">2022</span>-09-24 02:27:08.724940252 -0700\n Birth: -\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr +A hosts\nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n-------A------e----- hosts\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts \n<span class=\"token number\">127.0</span>.0.1\tlocalhost\n<span class=\"token number\">127.0</span>.1.1\tubuntu\n\n<span class=\"token comment\"># The following lines are desirable for IPv6 capable hosts</span>\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nhello linux\n-------A------e----- hosts\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">stat</span> hosts \n  File: hosts\n  Size: <span class=\"token number\">233</span>       \tBlocks: <span class=\"token number\">8</span>          IO Block: <span class=\"token number\">4096</span>   regular <span class=\"token function\">file</span>\nDevice: 805h/2053d\tInode: <span class=\"token number\">786942</span>      Links: <span class=\"token number\">1</span>\nAccess: <span class=\"token punctuation\">(</span>0644/-rw-r--r--<span class=\"token punctuation\">)</span>  Uid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>   Gid: <span class=\"token punctuation\">(</span> <span class=\"token number\">1000</span>/  ttabae<span class=\"token punctuation\">)</span>\nAccess: <span class=\"token number\">2022</span>-09-24 02:27:21.160559895 -0700\nModify: <span class=\"token number\">2022</span>-09-24 02:25:53.498717876 -0700\nChange: <span class=\"token number\">2022</span>-09-24 02:29:59.416735731 -0700\n Birth: -\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr -A hosts \nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n--------------e----- hosts</code></pre></div>\n</li>\n<li>\n<p>i 속성</p>\n<ul>\n<li>파일을 수정할 수 없음. (superuser만 수정 가능)</li>\n<li>중요한 configuration 파일을 보호하기 위해 만든 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"=====\"</span> <span class=\"token operator\">></span> hosts\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts \n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr +i hosts \nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n----i---------e----- hosts\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"=====\"</span> <span class=\"token operator\">>></span> hosts\n-bash: hosts: Operation not permitted\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"=====\"</span> <span class=\"token operator\">>></span> hosts\n-bash: hosts: Operation not permitted\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mv</span> hosts myhosts\nmv: cannot move <span class=\"token string\">'hosts'</span> to <span class=\"token string\">'myhosts'</span><span class=\"token builtin class-name\">:</span> Operation not permitted\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> hosts \nrm: cannot remove <span class=\"token string\">'hosts'</span><span class=\"token builtin class-name\">:</span> Operation not permitted\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> chattr -i hosts \nttabae@ubuntu:~/lfcs-exam$ lsattr hosts \n--------------e----- hosts\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"***\"</span> <span class=\"token operator\">></span> hosts \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts \n***</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br/>","excerpt":"File Attribute 1. File attributes lsattr 리눅스 파일시스템의 파일 속성을 보는 명령어 chattr 명령어의 결과를 확인할 수 있음. chattr (Change attribute) 파일을 보호하는 명령어 파일 시스템의 파일 속성을 변경하여 파일 손상을 방지함. 속성 설정 + 속성 추가하기 - 속성 제거하기 = 원래 파일이 가지고 있는 속성 유지하기 속성 의미 A(no atime updates) Access가 발생하더라도 파일 시스템의 파일 정보에 저장되는 atime이 갱신되지 않음 a(append only) 해당 파일을 추가만 할 수 있음(파일 보안을 위해 주로 사용하는 속성) C(no copy on write) 기록 중 복사 업데이트가 적용되지 않음. c(compressed) 디스크에 자동적으로 압축된 상태로 저장됨 D(synchronous directory updates) 디렉터리의 변경사항을 동기화 시킴. d(no dump) dump 명령어로 백…","frontmatter":{"date":"September 30, 2022","title":"리눅스(Linux) File Attribute","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220930-devops-linux-file-attribute/"}},"next":{"id":"c11806d1-443c-51b3-9057-0c59a34dfcd9","html":"<h1 id=\"setuid-setgid-and-sticky-bit\" style=\"position:relative;\"><a href=\"#setuid-setgid-and-sticky-bit\" aria-label=\"setuid setgid and sticky bit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SetUID, SetGID, and Sticky bit</h1>\n<h1 id=\"10-setuid-setgid-and-sticky-bit\" style=\"position:relative;\"><a href=\"#10-setuid-setgid-and-sticky-bit\" aria-label=\"10 setuid setgid and sticky bit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. SetUID, SetGID, and Sticky bit</h1>\n<h2 id=\"1-special-permissions-on-files\" style=\"position:relative;\"><a href=\"#1-special-permissions-on-files\" aria-label=\"1 special permissions on files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Special Permissions on Files</h2>\n<ul>\n<li>\n<p><strong>SetUID, SetGID, and Sticky bit</strong></p>\n<p>| SetUID | SetUID가 설정된 프로그램이 실행될 때, 그 프로그램이 실행되는 동안에는 파일 소유자의 권한으로 권한이 변경되어 실행되는 퍼미션</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> rwx(+s) rwx r-x root root program\n rws rwx r-x root root program</code></pre></div>\n<p>user 퍼미션에 $가 설정되어있는 프로그램\nttabae$ lls -l /usr/bin/passwd\n-rwsr-xr-x 1 root root 68208 5월 28 2020 /usr/bin/passwd |\n| --- | --- |\n| SetGID | SetGID가 설정된 프로그램이 실해오딜 때 그 프로그램이 실행되는 동안에는 파일 소유 그룹 멤버로의 권한으로 권한이 변경되어 실행되는 퍼미션</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> rwx rwx(+s) r-x root root program\n rwx rws r-x root root program</code></pre></div>\n<p>ttabae$ ls -l /usr/bin/passwd\n-rwxrwsr-x 1 root root 68208 5월 28 2020 /usr/bin/passwd |\n| Sticky bit | Sticky bit가 설정된 디렉토리에는 누구든 파일을 저장할 수 있으나 파일 삭제는 그 파일 소유자만 가능하도록 허용하는 퍼미션</p>\n<p>$ ls - ld /tmp\ndrwxrwxrwt 14 root root 4096 5월 29 01:32 /tmp |</p>\n</li>\n<li>\n<p>예제</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## 애플리케이션에 SetUID 설정, 확인, 삭제</span>\n    <span class=\"token function\">ls</span> -l\n    <span class=\"token function\">chmod</span> u+s program\n    <span class=\"token function\">chmod</span> <span class=\"token number\">4754</span> program\n    <span class=\"token function\">chmod</span> u-s program\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cp</span> /usr/bin/pkexec <span class=\"token builtin class-name\">.</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l pkexec \n-rwx------ <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">31032</span> Sep <span class=\"token number\">23</span> 00:09 pkexec\n\n<span class=\"token comment\">## SUID 설정 ##</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> <span class=\"token number\">4755</span> pkexec\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l pkexec \n-rwsr-xr-x <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">31032</span> Sep <span class=\"token number\">23</span> 00:09 pkexec\n\n<span class=\"token comment\">## SUID 설정 제거 ## </span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> u-s pkexec \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l pkexec \n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">31032</span> Sep <span class=\"token number\">23</span> 00:09 pkexec\n\n<span class=\"token comment\">## 애플리케이션에 SetGID 설정, 확인, 삭제 ## </span>\n    <span class=\"token function\">ls</span> -l\n    <span class=\"token function\">chmod</span> g+s program\n    <span class=\"token function\">chmod</span> <span class=\"token number\">2754</span> program\n    <span class=\"token function\">chmod</span> g-s program\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> g+s pkexec \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l pkexec \n-rwxr-sr-x <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">31032</span> Sep <span class=\"token number\">23</span> 00:09 pkexec\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> 0755 pkexec \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l pkexec \n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">31032</span> Sep <span class=\"token number\">23</span> 00:09 pkexec\n\n<span class=\"token number\">777</span> permission이 설정된 Directory에 Stickybit 설정, 확인, 삭제\n** 파일 소유자만 해당 파일을 삭제할 수 있도록 하는 권한.\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -ld /tmp\ndrwxrwxrwt <span class=\"token number\">17</span> root root <span class=\"token number\">4096</span> Sep <span class=\"token number\">23</span> 00:30 /tmp\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mkdir</span> tmp\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -ld tmp\ndrwx------ <span class=\"token number\">2</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">23</span> 00:35 tmp\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> <span class=\"token number\">1777</span> tmp\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -ld tmp\ndrwxrwxrwt <span class=\"token number\">2</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">23</span> 00:35 tmp\n\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">chmod</span> o-t tmp\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -ld tmp\ndrwxrwxrwx <span class=\"token number\">2</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">23</span> 00:35 tmp</code></pre></div>\n</li>\n</ul>\n<br/>","frontmatter":{"date":"September 29, 2022","title":"리눅스(Linux) SetUID, SetGID, and Sticky bit","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220929-devops-linux-setuid-setgid-stickybit/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220930-devops-linux-file-attribute/","nextSlug":"/220929-devops-linux-setuid-setgid-stickybit/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}