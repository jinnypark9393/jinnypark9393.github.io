{"componentChunkName":"component---src-templates-blog-template-js","path":"/220521-kubernetes-cka-killerkoda-q01/","result":{"data":{"cur":{"id":"e8d902b3-8e09-5856-a612-ce18e0d89b4c","html":"<h1 id=\"1-killerkodaλ€\" style=\"position:relative;\"><a href=\"#1-killerkoda%EB%9E%80\" aria-label=\"1 killerkodaλ€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. KillerKodaλ€?</h1>\n<p>CKA(Certified Kubernetes Administrator) μ‹ν—μ„ μ‹ μ²­ν•κ² λλ©΄ Killer.sh μ΄λΌλ” λ¨μ μ‹ν— ν™κ²½μ΄ μ κ³µλλ”λ°, μ΄λ²μ— μ‹ν—μ„ μ‹ μ²­ν•΄λ³΄λ‹ Killer.sh μ™Έμ—λ„ Killer.shμ„ λ§λ“  ν€μ—μ„ KillerKodaλΌλ” μ‹¤μµν™κ²½λ„ μ κ³µν•κ³  μμ–΄ ν• λ² ν’€μ–΄λ³΄μ•λ‹¤.</p>\n<br/>\n<p><a href=\"https://killercoda.com/killer-shell\">Killer.sh κ³Ό KillerKodaμ μ°¨μ΄μ </a>μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<h2 id=\"killersh\" style=\"position:relative;\"><a href=\"#killersh\" aria-label=\"killersh permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[Killer.sh]</h2>\n<ul>\n<li>μ‹ν—ν™κ²½κ³Ό μ μ‚¬ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” λ¨μκ³ μ‚¬</li>\n<li>CKA μ‹ν—μ„ μ‹ μ²­ν–μ„ λ• μ ‘μ†ν•  μ μλ‹¤</li>\n<li>λ™μΌν• λ¬Έμ κ°€ λ“¤μ–΄μλ” λ‘ κ°μ μ‹λ®¬λ μ΄ν„°λ¥Ό μ κ³µ</li>\n<li>κ° μ‹λ®¬λ μ΄ν„°λ” ν™μ„±ν™” ν• λ’¤ 36μ‹κ°„λ™μ•λ§ μ ‘μ†ν•  μ μλ‹¤</li>\n<li>μ±„μ  λ° ν•΄μ„¤ μ κ³µ</li>\n<li>λ‚μ΄λ„: λ†’μ€ νΈ(κ°μΈμ μΌλ΅ μ λ°λ―Έμ CKA λ°”μ΄λΈ” λ­„μƒ¤λ“λ‹μ κ°•μμ—μ„ μ κ³µν•λ” λ¨μκ³ μ‚¬λ³΄λ‹¤ ν›¨μ”¬ μ–΄λ ¤μ› λ‹¤)</li>\n</ul>\n<br/>\n<h2 id=\"killerkoda\" style=\"position:relative;\"><a href=\"#killerkoda\" aria-label=\"killerkoda permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[KillerKoda]</h2>\n<ul>\n<li>CKA μ‹¤μ  μ‹ν—κ³Όλ” λ‹¤μ† λ‹¤λ¥Έ μΈν„°νμ΄μ¤</li>\n<li>μ‹κ°„ μ ν• μ—†μ΄ λ„κµ¬λ‚ λ¬΄λ£λ΅ μ΄μ©ν•  μ μλ‹¤</li>\n<li>μΌλ¶€ μ±„μ  λ° ν•΄μ„¤ μ κ³µ</li>\n<li>λ‚μ΄λ„: μ‰¬μ΄ νΈ ~ μ¤‘κ°„</li>\n<li>KillerKodaλ” ν„μ¬ λ² νƒ€λ²„μ „μΌλ΅ μ΄μλκ³  μμ–΄ ν„μ¬λ” 12κ° λ¬Έμ λ¥Ό μ κ³µν•κ³  μλ”λ°(μ²«λ²μ§Έλ” PlaygroundλΌ μ μ™Έν•κ³  λ‚λ¨Έμ§€ λ¬Έμ λ§ μ—…λ΅λ“ν–λ‹¤), ν–¥ν›„ λ” λ‹¤μ–‘ν• λ¬Έμ κ°€ μ κ³µλ  μμ •</li>\n</ul>\n<br/>\n<p>μ΄ μ™Έμ—λ„ <a href=\"https://killercoda.com/playgrounds\">μ„μ μ‚¬μ΄νΈμ—μ„ μΏ λ²„λ„¤ν‹°μ¤μ™€ κ΄€λ ¨λ μ—¬λ¬ κ°€μƒν™κ²½μ„ μ κ³µ</a>ν•κ³ (Kubernetes 1.24 λ²„μ „μ λ§μ¤ν„°λ…Έλ“ 1 + μ›μ»¤λ…Έλ“ 1 ν™κ²½, Istioκ°€ κµ¬μ„±λ ν™κ²½ λ“±) μμ–΄, μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°λ¥Ό μ„¤μΉν•μ§€ μ•κ³  κ°„λ‹¨ν•κ² μ‹¤μµμ„ ν•΄λ³Ό μ μλ‹¤.</p>\n<p><br/><br/></p>\n<h1 id=\"2-vim-setup\" style=\"position:relative;\"><a href=\"#2-vim-setup\" aria-label=\"2 vim setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Vim Setup</h1>\n<p>k8s μ‹ν—μ—μ„ YAMLμ„ νΈμ§‘ν•  λ•μ μ¤‘μ”ν• μ„¤μ •μ— λ€ν•΄ μ•μ•„λ³΄μ.</p>\n<br/>\n<h2 id=\"μ„Έν…\" style=\"position:relative;\"><a href=\"#%EC%84%B8%ED%8C%85\" aria-label=\"μ„Έν… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ„Έν…</h2>\n<p>λ¨Όμ € <code class=\"language-text\">.vimrc</code>Β νμΌμ„ μƒμ„±ν•κ±°λ‚ μ—°λ‹¤(μ΄λ―Έ μƒμ„±ν–μ„ κ²½μ°):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vim ~/.vimrc\n</code></pre></div>\n<br/>\n<p>Β <code class=\"language-text\">i</code> λ΅ μ‚½μ…λ¨λ“λ¥Ό ν™μ„±ν™” ν• μƒνƒμ—μ„ λ‹¤μμ„ μ…λ ¥ν•λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">set expandtab\nset tabstop=2\nset shiftwidth=2\n</code></pre></div>\n<br/>\n<p><code class=\"language-text\">Esc</code> λ‹¤μ Β <code class=\"language-text\">:x</code>Β ,Β <code class=\"language-text\">Enter</code> λ¥Ό λλ¬ νμΌμ„ μ €μ¥ν•κ³  λ‹«λ”λ‹¤.</p>\n<p><br/><br/></p>\n<h2 id=\"μ„¤λ…\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EB%AA%85\" aria-label=\"μ„¤λ… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ„¤λ…</h2>\n<p>Vimμ„ μ¤ν”ν• λ•λ§λ‹¤ ν•­μƒ ν„μ¬ μ‚¬μ©μλ΅μ„ μ„μ μ„Έν…λ“¤μ΄ μ μ©λ  κ²ƒμ΄λ‹¤.</p>\n<p>λ§μΌ λ‹Ήμ‹ μ΄ λ‹¤λ¥Έ μ„λ²„μ— sshλ΅ μ ‘μ†ν•κ² λλ‹¤λ©΄ μ΄ μ„¤μ •λ“¤μ€ <strong>μ μ©λμ§€ μ•λ”λ‹¤</strong>.</p>\n<p>μ„¤μ •κ°’ μ„¤λ…μ€ λ‹¤μκ³Ό κ°™λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">expandtab: νƒ­ν‚¤λ¥Ό μ¤νμ΄μ¤λ΅ μ‚¬μ©ν•λ‹¤\ntabstop: νƒ­ν‚¤μ— μ μ©ν•  μ¤νμ΄μ¤μ–‘\nshiftwidth: λ“¤μ—¬μ“°κΈ° μ¤‘ μ‚¬μ©ν•  μ¤νμ΄μ¤ μ–‘</code></pre></div>\n<br/>","excerpt":"1. KillerKodaλ€? CKA(Certified Kubernetes Administrator) μ‹ν—μ„ μ‹ μ²­ν•κ² λλ©΄ Killer.sh μ΄λΌλ” λ¨μ μ‹ν— ν™κ²½μ΄ μ κ³µλλ”λ°, μ΄λ²μ— μ‹ν—μ„ μ‹ μ²­ν•΄λ³΄λ‹ Killer.sh μ™Έμ—λ„ Killer.shμ„ λ§λ“  ν€μ—μ„ KillerKodaλΌλ” μ‹¤μµν™κ²½λ„ μ κ³µν•κ³  μμ–΄ ν• λ² ν’€μ–΄λ³΄μ•λ‹¤. Killer.sh κ³Ό KillerKodaμ μ°¨μ΄μ μ€ μ•„λμ™€ κ°™λ‹¤. [Killer.sh] μ‹ν—ν™κ²½κ³Ό μ μ‚¬ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” λ¨μκ³ μ‚¬ CKA μ‹ν—μ„ μ‹ μ²­ν–μ„ λ• μ ‘μ†ν•  μ μλ‹¤ λ™μΌν• λ¬Έμ κ°€ λ“¤μ–΄μλ” λ‘ κ°μ μ‹λ®¬λ μ΄ν„°λ¥Ό μ κ³µ κ° μ‹λ®¬λ μ΄ν„°λ” ν™μ„±ν™” ν• λ’¤ 36μ‹κ°„λ™μ•λ§ μ ‘μ†ν•  μ μλ‹¤ μ±„μ  λ° ν•΄μ„¤ μ κ³µ λ‚μ΄λ„: λ†’μ€ νΈ(κ°μΈμ μΌλ΅ μ λ°λ―Έμ CKA λ°”μ΄λΈ” λ­„μƒ¤λ“λ‹μ κ°•μμ—μ„ μ κ³µν•λ” λ¨μκ³ μ‚¬λ³΄λ‹¤ ν›¨μ”¬ μ–΄λ ¤μ› λ‹¤) [KillerKoda] CKA μ‹¤μ  μ‹ν—κ³Όλ” λ‹¤μ† λ‹¤λ¥Έ μΈν„°νμ΄μ¤ μ‹κ°„ μ ν• μ—†μ΄ λ„κµ¬λ‚ λ¬΄λ£λ΅ μ΄μ©ν•  μ μλ‹¤ μΌλ¶€ μ±„μ  λ° ν•΄μ„¤ μ κ³µ λ‚μ΄λ„: β€¦","frontmatter":{"date":"May 21, 2022","title":"μΏ λ²„λ„¤ν‹°μ¤(Kubernetes) CKA - KillerKoda Q1. Vim Setup","categories":"λ°λΈμµμ¤","author":"jinnypark9393","emoji":"π”§"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q01/"}},"next":{"id":"a5c12afd-e238-5c1f-a28f-626c4cf43941","html":"<h1 id=\"q3-apiμ„λ²„-μ„¤μ •-μ¤λ¥\" style=\"position:relative;\"><a href=\"#q3-api%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95-%EC%98%A4%EB%A5%98\" aria-label=\"q3 apiμ„λ²„ μ„¤μ • μ¤λ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q3. APIμ„λ²„ μ„¤μ • μ¤λ¥</h1>\n<p>λ¨Όμ €, APIμ„λ²„ μ¥μ•  μ‹¤μµμ„ ν’€μ§€ μ•μ•λ‹¤λ©΄ ν’€κ³  μ¤λ„λ΅ ν•μ.</p>\n<br/>\n<p>API μ„λ²„κ°€ μ¬λΌμ¤μ§€ μ•λ” μƒν™©μ΄λ‹¤. λ§¤λ‹νμ¤νΈ νμΌμ 3κ³³μ΄ μλ» μ„¤μ •λμ–΄μλ‹¤. μ—λ¬λ¥Ό μμ •ν•μ.</p>\n<p><br/><br/></p>\n<h2 id=\"λ΅κ·Έ-κ²½λ΅\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8-%EA%B2%BD%EB%A1%9C\" aria-label=\"λ΅κ·Έ κ²½λ΅ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>λ΅κ·Έ κ²½λ΅</h2>\n<p>ν™•μΈν•΄μ•Όν•  λ΅κ·Έ κ²½λ΅λ” μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">/var/log/pods</code></li>\n<li><code class=\"language-text\">/var/log/containers</code></li>\n<li><code class=\"language-text\">crictl ps</code> + <code class=\"language-text\">crictl logs</code></li>\n<li><code class=\"language-text\">docker ps</code> + <code class=\"language-text\">docker logs</code> (λ„μ»¤κ°€ μ‚¬μ©λ  κ²½μ°)</li>\n<li>kubelet λ΅κ·Έ: <code class=\"language-text\">/var/log/syslog</code> νΉμ€ <code class=\"language-text\">journalctl</code></li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"μ΄μ\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%88\" aria-label=\"μ΄μ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>μ΄μ</h2>\n<p>λ³€κ²½μ‚¬ν•­μ„ μ μ©ν•κΈ° μ„ν•΄ λ‹¤μμ μ‘μ—…μ„ ν•΄μ•Όν•  μ μλ‹¤.</p>\n<ol>\n<li><code class=\"language-text\">kube-apiserver.yaml</code> νμΌμ„ manifests λ””λ ‰ν† λ¦¬μ—μ„ λΊ€λ‹¤</li>\n<li>API μ„λ²„ μ»¨ν…μ΄λ„κ°€ μ‚¬λΌμ§λ•κΉμ§€ κΈ°λ‹¤λ¦°λ‹¤ (<code class=\"language-text\">watch crictl ps</code> )</li>\n<li>λ§¤λ‹νμ¤νΈ νμΌμ„ λ‹¤μ‹ λλ ¤λ†“μ€ λ’¤ apiμ„λ²„κ°€ λμ•„μ¬ λ•κΉμ§€ κΈ°λ‹¤λ¦°λ‹¤.</li>\n</ol>\n<p>μΌλ¶€ μ μ €λ“¤μ΄ kubeletμ„ μ¬μ‹μ‘ν•΄μ•Όν–λ‹¤κ³  λ³΄κ³  ν–μΌλ‚(<code class=\"language-text\">service kubelet restart</code>) μ΄λ΅ μƒμΌλ΅λ” ν•„μ”μ—†λ‹¤.</p>\n<p><br/><br/></p>\n<h2 id=\"ν•΄κ²°-λ°©λ²•-1\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-1\" aria-label=\"ν•΄κ²° λ°©λ²• 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν•΄κ²° λ°©λ²• 1</h2>\n<p>Kubeletμ΄ νλ“/μ»¨ν…μ΄λ„λ¥Ό μ‹μ‘λ„ μƒμ„±ν•μ§€λ„ λ»ν•κ³  μλ‹¤. Kubeletλ΅κ·Έλ¥Ό syslogλ΅ ν™•μΈν•΄λ³΄μ.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cat <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>syslog <span class=\"token operator\">|</span> grep kube<span class=\"token operator\">-</span>apiserver</code></pre></div>\n<br/>\n<ul>\n<li>manifestνμΌμ metadata λ¶€λ¶„μ— μ¤νƒ€κ°€ μλ‹¤\n<ul>\n<li><code class=\"language-text\">metadata;</code> λ¥Ό <code class=\"language-text\">metadata:</code> λ΅ μμ •ν•΄μ¤€λ‹¤.</li>\n</ul>\n</li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"ν•΄κ²°-λ°©λ²•-2\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-2\" aria-label=\"ν•΄κ²° λ°©λ²• 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν•΄κ²° λ°©λ²• 2</h2>\n<p>μλ»λ YAMLμ„ μμ •ν• λ’¤μ—λ„ μ—¬μ „ν ν‹€λ„μλ»λ νλΌλ―Έν„°λ΅ μ΄μκ°€ μλ” λ“― ν•λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">/var/log/pods</code> μ— μλ” λ΅κ·Έλ¥Ό ν™•μΈν•μ.</li>\n<li>μ—λ¬: <code class=\"language-text\">Error: unknown flag: β€”authorization-modus</code></li>\n<li>λ§λ” νλΌλ―Έν„°: <code class=\"language-text\">β€”authorization-mode</code></li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"ν•΄κ²°-λ°©λ²•-3\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-3\" aria-label=\"ν•΄κ²° λ°©λ²• 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν•΄κ²° λ°©λ²• 3</h2>\n<p>νλΌλ―Έν„°λ¥Ό κ³ μΉ λ’¤, νλ“/μ»¨ν…μ΄λ„λ” upλμ—μ„ μ μμ§€λ§, νλ“κ°€ μ¬μ‹μ‘(restart) λλ” ν„μƒμ΄ λ°μƒν•λ‹¤.</p>\n<br/>\n<p>μ»¨ν…μ΄λ„ λ΅κ·Έλ¥Ό ν™•μΈν•κ±°λ‚ <code class=\"language-text\">/var/log/pods</code> λ¥Ό ν™•μΈν•λ©΄ μ•„λλ¥Ό μ°Ύμ„ μ μλ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">Error <span class=\"token keyword\">while</span> dialing dial tcp <span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">23000</span><span class=\"token operator\">:</span> connect<span class=\"token operator\">:</span>connection refused</code></pre></div>\n<br/>\n<p>μ»¨ν…μ΄λ„ λ΅κ·Έλ¥Ό ν™•μΈν•μ: ETCD μ—°κ²°μ΄ μλ»λ λ“― ν•λ‹¤. ETCDκ°€ λ™μ‘ν•λ” μ¬λ°”λ¥Έ ν¬νΈλ¥Ό μ„¤μ •ν•μ(ν¬νΈ λ²νΈλ” ETCD λ§¤λ‹νμ¤νΈλ¥Ό ν™•μΈν•μ).</p>\n<br/>\n<p>μ„¤μ •κ°’μ€ <code class=\"language-text\">β€”etcd-servers=https://127.0.0.1:2379</code> μ—¬μ•Ό ν•λ‹¤(μμ„Έν• λ‚΄μ©μ€ μΏ λ²„λ„¤ν‹°μ¤ κ³µμ‹λ¬Έμ„μ Ports and Protocols λ¬Έμ„λ¥Ό ν™•μΈν•μ).</p>\n<br/>","frontmatter":{"date":"May 21, 2022","title":"μΏ λ²„λ„¤ν‹°μ¤(Kubernetes) CKA - KillerKoda Q3. Apiserver Misconfigured","categories":"λ°λΈμµμ¤","author":"jinnypark9393","emoji":"π”§"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q03/"}},"prev":{"id":"0c73eeba-f2ee-5036-8b16-b54f6759513f","html":"<h1 id=\"q4-μ• ν”λ¦¬μΌ€μ΄μ…-μ„¤μ •-μ¤λ¥\" style=\"position:relative;\"><a href=\"#q4-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95-%EC%98%A4%EB%A5%98\" aria-label=\"q4 μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ • μ¤λ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q4. μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ • μ¤λ¥</h1>\n<p><code class=\"language-text\">application1</code> λ„¤μ„μ¤νμ΄μ¤μ— λ””ν”λ΅μ΄λ¨ΌνΈκ°€ μμΌλ‚, μ΄μκ°€ μμ–΄ μ¤€λΉ„(Ready)μƒνƒκ°€ λμ§€ μ•μ€ λ“―ν•λ‹¤.</p>\n<br/>\n<p>λ‹¤λ¥Έ λ¦¬μ†μ¤κ°€ μ•„λ‹ λ””ν”λ΅μ΄λ¨ΌνΈ(Deployment)λ§μ„ μμ •ν•΄ μ΄μλ¥Ό ν•΄κ²°ν•μ.</p>\n<br/>\n<h2 id=\"ν\" style=\"position:relative;\"><a href=\"#%ED%8C%81\" aria-label=\"ν permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k -n application1 get deploy\nk -n application1 logs deploy/api\nk -n application1 describe deploy api\nk -n application1 get cm</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"ν•΄κ²°-λ°©λ²•\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"ν•΄κ²° λ°©λ²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ν•΄κ²° λ°©λ²•</h2>\n<p><code class=\"language-text\">describe</code> λ…λ Ήμ–΄λ΅ μ¥μ• κ°€ λ°μƒν• λ””ν”λ΅μ΄λ¨ΌνΈλ¥Ό μ‚΄ν΄λ³΄μ.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">controlplane $ k describe -n application1 deployments.apps api \nName:                   api\nNamespace:              application1\nCreationTimestamp:      Sat, 21 May 2022 00:04:16 +0000\nLabels:                 &lt;none>\nAnnotations:            deployment.kubernetes.io/revision: 1\nSelector:               app=api\nReplicas:               3 desired | 3 updated | 3 total | 0 available | 3 unavailable\nStrategyType:           RollingUpdate\nMinReadySeconds:        0\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\nPod Template:\n  Labels:  app=api\n  Containers:\n   httpd:\n    Image:      httpd:2.4.52-alpine\n    Port:       &lt;none>\n    Host Port:  &lt;none>\n    Environment:\n      CATEGORY:  &lt;set to the key 'category' of config map 'category'>  Optional: false\n    Mounts:      &lt;none>\n  Volumes:       &lt;none>\nConditions:\n  Type           Status  Reason\n  ----           ------  ------\n  Available      False   MinimumReplicasUnavailable\n  Progressing    True    ReplicaSetUpdated\nOldReplicaSets:  &lt;none>\nNewReplicaSet:   api-8ff4546b4 (3/3 replicas created)\nEvents:\n  Type    Reason             Age   From                   Message\n  ----    ------             ----  ----                   -------\n  Normal  ScalingReplicaSet  30s   deployment-controller  Scaled up replica set api-8ff4546b4 to 3</code></pre></div>\n<br/>\n<p>ConfigMap μ—μ„ λ¬Έμ κ°€ λ°μƒν• λ“― ν•λ‹¤. configmap μ •λ³΄λ¥Ό μ‚΄ν΄λ³΄μ.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">controlplane $ k get configmaps -n application1\nNAME                 DATA   AGE\nconfigmap-category   1      3m\nkube-root-ca.crt     1      3m</code></pre></div>\n<br/>\n<p>ν‹€λ¦° ConfigMap μ΄λ¦„μ„ μ‚¬μ©ν• λ“― ν•λ‹¤. μ„¤μ •μ„ λ°”κΏ”μ£Όμ.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k -n application edit deploy api</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">spec:\n  template:\n    spec:\n      containers:\n      - env:\n        - name: CATEGORY\n          valueFrom:\n            conficMapKeyRef:\n              key: category\n              name: configmap-category</code></pre></div>\n<br/>\n<p>μ΅°κΈ κΈ°λ‹¤λ¦¬λ©΄ λ¨λ“  λ ν”λ¦¬μΉ΄κ°€ readyμƒνƒμΈ κ²ƒμ„ λ³Ό μ μλ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k -n application1 get deploy api</code></pre></div>\n<br/>","frontmatter":{"date":"May 21, 2022","title":"μΏ λ²„λ„¤ν‹°μ¤(Kubernetes) CKA - KillerKoda Q4. Application Misconfigured","categories":"λ°λΈμµμ¤","author":"jinnypark9393","emoji":"π”§"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q04/"}},"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220521-kubernetes-cka-killerkoda-q01/","nextSlug":"/220521-kubernetes-cka-killerkoda-q03/","prevSlug":"/220521-kubernetes-cka-killerkoda-q04/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}