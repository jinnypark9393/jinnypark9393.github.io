{"componentChunkName":"component---src-templates-blog-template-js","path":"/220923-devops-linux-/","result":{"data":{"cur":{"id":"be2548c1-b9b3-50e6-b725-db34594bbac7","html":"<h1 id=\"05-archiving-and-compression\" style=\"position:relative;\"><a href=\"#05-archiving-and-compression\" aria-label=\"05 archiving and compression permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>05. Archiving and Compression</h1>\n<ul>\n<li>archive: 파일을 <strong>보관</strong>. 원본의 속성을 그대로 보존 및 여러개 파일/디렉토리 묶어 보존</li>\n<li>compression: 파일을 <strong>압축</strong>. 큰 사이즈의 파일을 작은 사이즈로 압축해 보존\n<ul>\n<li>gzip, bzips, xz → 파일 단위로만 압축됨</li>\n</ul>\n</li>\n<li>파일을 전달 할 때: archive(파일을 하나로 묶어줌) → compress (압축) → 전달 &#x26; 보존이 용이</li>\n</ul>\n<h2 id=\"1-archives-with-tar\" style=\"position:relative;\"><a href=\"#1-archives-with-tar\" aria-label=\"1 archives with tar permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Archives with tar</h2>\n<ul>\n<li>\n<p>명령어: tar, cpio 등</p>\n</li>\n<li>\n<p>파일 보관</p>\n<ul>\n<li>백업</li>\n<li>여러 파일을 하나로 묶어 보존 / 전달</li>\n</ul>\n</li>\n<li>\n<p>tar</p>\n<ul>\n<li>\n<p>여러 파일 혹은 디렉터리를 하나의 아카이브 파일로 모으거나 복원하기 위해 사용하는 명령어</p>\n</li>\n<li>\n<p>원본의 속성을 유지한 상태로 여러 파일을 묶거나 묶은 파일을 원본으로 되돌림</p>\n  <aside>\n  💡 **Usage: tar [OPTION…] [FILE]…**\n<p>GNU ‘tar’ saves many files together into a single tape or disk archive, and can</p>\n<p>restore individual files from the archive.</p>\n<p><strong>[Examples]</strong></p>\n<p>tar -cf archive.tar foo bar  # Create archive.tar from files foo and bar.</p>\n<p>tar -tvf archive.tar         # List all files in archive.tar verbosely.</p>\n<p>tar -xf archive.tar          # Extract all files from archive.tar.</p>\n<p><strong>[Options]</strong></p>\n<p>-c, —create create a new archive <strong>## 신규 아카이브 생성 / 덮어쓰기</strong>\n-v, —verbose verbosely list files processed <strong>## 처리 과정(파일 정보) 자세히 나열</strong>\n-f, —file=ARCHIVE use archive file or device ARCHIVE  <strong>## 아카이브 파일 이름 지정</strong>\n-t, —list list the contents of an archive <strong>## 아카이브 파일에 포함된 내용 출력</strong>\n-x, —extract, —get extract files from an archive <strong>## 아카이브 파일 해제</strong></p>\n<p>-z, —gzip, —gunzip, —ungzip filter the archive through gzip <strong>## gzip 압축 적용</strong>\n-j, —bzip2 filter the archive through bzip2 <strong>## bzip2 압축 적용</strong>\n-J, —xz filter the archive through xz <strong>## xz 압축 적용</strong></p>\n  </aside>\n</li>\n<li>\n<p>help 명령어로 사용법을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> --help</code></pre></div>\n</li>\n<li>\n<p>예제: datadir 디렉토리를 datadir.tar 파일로 archive</p>\n<ul>\n<li>실습 준비</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">mkdir</span> lfcs-exam <span class=\"token comment\"># 디렉토리 생성</span>\nttabae@ubuntu:~$ <span class=\"token builtin class-name\">cd</span> lfcs-exam/ <span class=\"token comment\"># 디렉토리 이동</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cp</span> /etc/h* <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># etc 디렉토리 내 h로 시작하는 파일을 현재 디렉토리(.)로 복사</span>\ncp: -r not specified<span class=\"token punctuation\">;</span> omitting directory <span class=\"token string\">'/etc/hp'</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cp</span> /usr/bin/a* <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># /user/bin 디렉토리 내 a로 시작하는 파일 현재 디렉토리(.)로 복사</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mkdir</span> datadir <span class=\"token comment\"># datadir 디렉토리 생성</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mv</span> * datadir/ <span class=\"token comment\"># 현재 디렉토리 파일 전체를 datadir로 이동</span>\nmv: cannot move <span class=\"token string\">'datadir'</span> to a subdirectory of itself, <span class=\"token string\">'datadir/datadir'</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> <span class=\"token comment\"># 현재 경로의 파일 확인</span>\ndatadir\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> datadir/ <span class=\"token comment\"># datadir에 파일이 잘 들어갔는지 확인</span></code></pre></div>\n<p>→ 참고: <code class=\"language-text\">history</code> 명령어로 사용했던 명령어 확인 가능</p>\n<ul>\n<li>datadir 백업(datadir 디렉토리를 datadir.tar 파일로 아카이브)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -cvf datadir.tar ./datadir\n./datadir/\n./datadir/apt-sortpkgs\n./datadir/aseqnet\n./datadir/avahi-resolve-address\n./datadir/hosts.allow\n./datadir/avahi-publish-address\n./datadir/aspell\n./datadir/aplay\n./datadir/apt-add-repository\n./datadir/amidi\n./datadir/apropos\n./datadir/apport-collect\n./datadir/avahi-publish-service\n./datadir/aa-enabled\n./datadir/arm2hpdl\n./datadir/aspell-import\n./datadir/apt\n./datadir/aa-exec\n./datadir/addpart\n./datadir/add-apt-repository\n./datadir/avahi-publish\n./datadir/hdparm.conf\n./datadir/arch\n./datadir/apt-ftparchive\n./datadir/apt-mark\n./datadir/avahi-browse-domains\n./datadir/axfer\n./datadir/host.conf\n./datadir/hostname\n./datadir/apturl-gtk\n./datadir/apturl\n./datadir/hosts.deny\n./datadir/apport-cli\n./datadir/aconnect\n./datadir/alsaucm\n./datadir/avahi-resolve-host-name\n./datadir/alsatplg\n./datadir/avahi-set-host-name\n./datadir/alsabat\n./datadir/arecordmidi\n./datadir/aptdcon\n./datadir/alsamixer\n./datadir/amixer\n./datadir/hostid\n./datadir/apt-cache\n./datadir/aseqdump\n./datadir/alsaloop\n./datadir/appres\n./datadir/avahi-resolve\n./datadir/apt-get\n./datadir/avahi-browse\n./datadir/apg\n./datadir/aplaymidi\n./datadir/apport-unpack\n./datadir/apt-config\n./datadir/hosts\n./datadir/arecord\n./datadir/apt-cdrom\n./datadir/apt-extracttemplates\n./datadir/apt-key\n./datadir/appstreamcli\n./datadir/atobm\n./datadir/amuFormat.sh\n./datadir/apgbfm\n./datadir/acpi_listen\n./datadir/apport-bug\n./datadir/awk</code></pre></div>\n<ul>\n<li>\n<p>datadir 디렉토리의 파일들을 tar로 아카이브(-c), 아카이브 파일 명 지정(-f), 아카이브 과정 상세 확인(-v).</p>\n</li>\n<li>\n<p>ls -l 명령어로 tar 파일 생성되었는지 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l\ntotal <span class=\"token number\">2364</span>\ndrwxrwxr-x <span class=\"token number\">2</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir\n-rw-rw-r-- <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">2416640</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar</code></pre></div>\n<ul>\n<li><code class=\"language-text\">-h</code> 옵션을 추가하면 사람이 읽기 편한 단위로 용량을 출력해준다.</li>\n</ul>\n</li>\n<li>\n<p>데이터 복원 사전작업</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> -rf datadir <span class=\"token comment\"># datadir 디렉토리 삭제</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> <span class=\"token comment\"># 현재 디렉토리의 파일 확인</span>\ndatadir.tar <span class=\"token comment\"># datadir 디렉토리가 삭제되고 아카이브 파일만 남은</span></code></pre></div>\n</li>\n<li>\n<p>아카이브 파일 컨텐츠 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -tvf datadir.tar \ndrwxrwxr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:48 ./datadir/\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">47504</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/apt-sortpkgs\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">27064</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/aseqnet\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">22768</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/avahi-resolve-address\n-rw-r--r-- ttabae/ttabae   <span class=\"token number\">411</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/hosts.allow\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>→ 속성정보 그대로 보존되어있다.</p>\n</li>\n<li>\n<p>datadir 디렉토리 복원 → <strong>restore</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">date</span> <span class=\"token comment\"># 현재 시각 확인</span>\nFri Sep <span class=\"token number\">16</span> 01:56:56 PDT <span class=\"token number\">2022</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> xf datadir.tar <span class=\"token comment\"># 디렉토리 복원</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l datadir <span class=\"token comment\"># 복원된 디렉토리 확인</span>\ntotal <span class=\"token number\">2432</span>\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">31248</span> Sep <span class=\"token number\">16</span> 01:45 aa-enabled\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">35344</span> Sep <span class=\"token number\">16</span> 01:45 aa-exec\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">22912</span> Sep <span class=\"token number\">16</span> 01:45 aconnect\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">19016</span> Sep <span class=\"token number\">16</span> 01:45 acpi_listen\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">7415</span> Sep <span class=\"token number\">16</span> 01:45 add-apt-repository\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">30952</span> Sep <span class=\"token number\">16</span> 01:45 addpart</code></pre></div>\n<p>→ 복원 전 시간 속성이 변경되지 않고 그대로 복원됨을 확인할 수 있다.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-compression-utility\" style=\"position:relative;\"><a href=\"#2-compression-utility\" aria-label=\"2 compression utility permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Compression Utility</h2>\n<ul>\n<li>Compression\n<ul>\n<li>압축</li>\n<li>리눅스 압축 유틸리티: gzip(표준), bzip2(압축율이 좋음), xz, zip</li>\n</ul>\n</li>\n<li>gzip, bzip2, xz 요약\n<ul>\n<li>file 단위로만 압축 가능</li>\n<li>압축 하면 원본 파일은 삭제 &#x26; 압축 파일만 남겨짐</li>\n<li>예제: datadir.tar 파일로 압축해보기\n<ul>\n<li>\n<p>gzip 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">gzip</span> datadir.tar \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l\ntotal <span class=\"token number\">832</span>\ndrwxrwxr-x <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir\n-rw-rw-r-- <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz</code></pre></div>\n<p>→ 원본파일이 없어지고 <code class=\"language-text\">datadir.tar.gz</code> 파일만 남겨짐</p>\n</li>\n<li>\n<p>bzip2 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">bzip2</span> hosts\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">848</span>\ndrwxrwxr-x  <span class=\"token number\">3</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 07:52 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">183</span> Sep <span class=\"token number\">16</span> 07:51 hosts.bz2\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">2853</span> Sep <span class=\"token number\">16</span> 07:51 <span class=\"token function\">passwd</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts.bz2 \n<span class=\"token number\">545</span><span class=\"token string\">'???h?Jj4???!??\"?6?͍???7?ߗp!9??\t?䱠?J????B??Xm?r??_??G?O???Ux??t?9?'</span>k?\t?Y?Z@?7???P??'^?iz??<span class=\"token punctuation\">{</span>?uR?`??J?hQ???<span class=\"token operator\">&amp;</span>jp?ɷ8?rE8P????</code></pre></div>\n</li>\n<li>\n<p>xz 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ xz <span class=\"token function\">passwd</span>\nxz: passwd: No such <span class=\"token function\">file</span> or directory\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">848</span>\ndrwxrwxr-x  <span class=\"token number\">3</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 07:52 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">183</span> Sep <span class=\"token number\">16</span> 07:51 hosts.bz2\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">1080</span> Sep <span class=\"token number\">16</span> 07:51 passwd.xz</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>압축</th>\n<th>압축 파일 이름</th>\n<th>ASCII text 압축 파일 내용 보기</th>\n<th>압축 해제</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gzip</td>\n<td>gzip filename</td>\n<td>filename.gz</td>\n<td>zcat filename.gz</td>\n<td>gunzip filename.gz</td>\n</tr>\n<tr>\n<td>gzip -d filename.gz</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>bzip2</td>\n<td>bzip2 filename</td>\n<td>filename.bz2</td>\n<td>bzcat filename.bz2</td>\n<td>bunzip2 filename.bz2</td>\n</tr>\n<tr>\n<td>bzip2 -d filename.bz2</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>xz</td>\n<td>xz filename</td>\n<td>filename.xz</td>\n<td>xzcat filename.xz</td>\n<td>unxz filename.xz</td>\n</tr>\n<tr>\n<td>xz -d filename.xz</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>zip\n<ul>\n<li>\n<p>원본을 보존하면서 압축 파일 생성</p>\n</li>\n<li>\n<p>디렉토리 압축 가능</p>\n</li>\n<li>\n<p>zip [-d] filename.zip dir/dir, unzip filename.zip</p>\n</li>\n<li>\n<p>example</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">zip</span> passwd.zip <span class=\"token function\">passwd</span> \n  adding: <span class=\"token function\">passwd</span> <span class=\"token punctuation\">(</span>deflated <span class=\"token number\">64</span>%<span class=\"token punctuation\">)</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">zip</span> -r datadir.zip datadir\n  adding: datadir/ <span class=\"token punctuation\">(</span>stored <span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>tar + (gzip, bzip2, xz)를 사용하여 /home 디렉터리 백업\n<ul>\n<li>\n<p>사전 작업</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> <span class=\"token function\">passwd</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> -rf datadir\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">3236</span>\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 08:05 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">2416640</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">879523</span> Sep <span class=\"token number\">16</span> 08:04 datadir.zip\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae     <span class=\"token number\">221</span> Sep <span class=\"token number\">16</span> 07:51 hosts\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">1179</span> Sep <span class=\"token number\">16</span> 08:03 passwd.zip</code></pre></div>\n</li>\n<li>\n<p>복원</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">unzip</span> datadir.zip \nArchive:  datadir.zip\n   creating: datadir/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-tar--compress-utility\" style=\"position:relative;\"><a href=\"#3-tar--compress-utility\" aria-label=\"3 tar  compress utility permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. tar + compress utility</h2>\n<ul>\n<li>\n<p>tar + (gzip, bzip2, xz)를 사용해 /home 디렉토리 백업하기</p>\n</li>\n<li>\n<p>tar + gzip: -z</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -czvf /home.tar.gz /home\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l /home.tar.gz \n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">file</span> /home.tar.gz\n/home.tar.gz: <span class=\"token function\">gzip</span> compressed data, from Unix, original size modulo <span class=\"token number\">2</span>^32 <span class=\"token number\">14469120</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -tvf /home.tar.gz \ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/</code></pre></div>\n</li>\n<li>\n<p>tar + bz2: -j</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -cjvf /home.tar.bz2 /home\n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae: \ntar: Removing leading `/' from member names\n/home/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~$ <span class=\"token function\">ls</span> -l /home*\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3035907</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:50 /home.tar.bz2\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\n\n/home:\ntotal <span class=\"token number\">4</span>\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 ttabae\nttabae@ubuntu:~$ <span class=\"token function\">tar</span> -jtvf /home.tar.bz2\ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n<li>\n<p>tar + xz: -J</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -cJvf /home.tar.xz /home\ntar: Removing leading `/' from member names\n/home/\n/home/ttabae/\n/home/ttabae/.local/\n/home/ttabae/.local/share/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~$ <span class=\"token function\">ls</span> -l /home*\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3035907</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:50 /home.tar.bz2\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">1756644</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:52 /home.tar.xz\n\n/home:\ntotal <span class=\"token number\">4</span>\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 ttabae\nttabae@ubuntu:~$ <span class=\"token function\">tar</span> -Jtvf /home.tar.xz\ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 <span class=\"token number\">17</span>:38 home/ttabae/.local/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n<li>\n<p>백업한 /home 디렉터리 복원하기</p>\n<ul>\n<li>gzip</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token builtin class-name\">cd</span> /\nttabae@ubuntu:/$ <span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -zxf /home.tar.gz \nttabae@ubuntu:~$ <span class=\"token function\">ls</span>\nDesktop    Downloads  Pictures  Templates  home\nDocuments  Music      Public    Videos     lfcs-exam</code></pre></div>\n<ul>\n<li>\n<p>tar + bz2</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /\n<span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\n<span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -xjvf /home.tar.bz2</code></pre></div>\n</li>\n<li>\n<p>xz</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /\n<span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\n<span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -xJvf /home.tar.xz</code></pre></div>\n</li>\n</ul>\n<h2 id=\"lfcs-시험-대비-문제-풀이\" style=\"position:relative;\"><a href=\"#lfcs-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4\" aria-label=\"lfcs 시험 대비 문제 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LFCS 시험 대비 문제 풀이</h2>\n<ul>\n<li><strong>Which of the following commands displays the contents of a gzip compressed tar archive?</strong>\n<ol>\n<li>gzip archive.tgz | tar xvf</li>\n<li>tar ztf archive.tgz</li>\n<li>gzip -d archive.tgz | tar tvf</li>\n<li>tar cf archive.tgz</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<br/>","excerpt":"05. Archiving and Compression archive: 파일을 보관. 원본의 속성을 그대로 보존 및 여러개 파일/디렉토리 묶어 보존 compression: 파일을 압축. 큰 사이즈의 파일을 작은 사이즈로 압축해 보존 gzip, bzips, xz → 파일 단위로만 압축됨 파일을 전달 할 때: archive(파일을 하나로 묶어줌) → compress (압축) → 전달 & 보존이 용이 1. Archives with tar 명령어: tar, cpio 등 파일 보관 백업 여러 파일을 하나로 묶어 보존 / 전달 tar 여러 파일 혹은 디렉터리를 하나의 아카이브 파일로 모으거나 복원하기 위해 사용하는 명령어 원본의 속성을 유지한 상태로 여러 파일을 묶거나 묶은 파일을 원본으로 되돌림 GNU ‘tar’ saves many files together into a single tape or disk archive, and can restore individual files from t…","frontmatter":{"date":"September 23, 2022","title":"리눅스(Linux) Archiving and Compression","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220923-devops-linux-/"}},"next":{"id":"941f3b62-8e39-5857-8212-1767446b020b","html":"<h1 id=\"리눅스linux-파일-퍼미션file-permission-및-acl-차이\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%88%85%EC%8A%A4linux-%ED%8C%8C%EC%9D%BC-%ED%8D%BC%EB%AF%B8%EC%85%98file-permission-%EB%B0%8F-acl-%EC%B0%A8%EC%9D%B4\" aria-label=\"리눅스linux 파일 퍼미션file permission 및 acl 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리눅스(Linux) 파일 퍼미션(File Permission) 및 ACL 차이</h1>\n<h2 id=\"파일-퍼미션-vs-acllink\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%BC-%ED%8D%BC%EB%AF%B8%EC%85%98-vs-acllink\" aria-label=\"파일 퍼미션 vs acllink permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>파일 퍼미션 vs ACL <a href=\"https://www.bangseongbeom.com/linux-acl-guide.html#%ED%8C%8C%EC%9D%BC-%ED%8D%BC%EB%AF%B8%EC%85%98-vs-acl\">link</a></strong></h2>\n<ul>\n<li><code class=\"language-text\">[chmod](https://linux.die.net/man/1/chmod)</code>를 이용해 권한을 결정하는 기존 파일 퍼미션의 경우 <strong>사용자 하나와 그룹 하나</strong>만 읽기, 쓰기, 실행 권한을 가질 수 있습니다. ACL을 이용하면 추가적으로 <strong>여러 명의 사용자와 그룹</strong>도 읽기, 쓰기, 실행 권한을 가질 수 있습니다.</li>\n<li>ACL은 ‘기본값 ACL’이라는 기능을 통해 마치 <strong><code class=\"language-text\">umask</code>를 폴더 별로 적용</strong>하는 듯한 효과를 만들 수 있습니다.</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>파일 퍼미션</th>\n<th>ACL</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>관련 명령어</td>\n<td>chmod, umask</td>\n<td>getfacl, setfacl</td>\n</tr>\n<tr>\n<td>권한 지정 대상</td>\n<td>사용자 하나, 그룹 하나(chmod)</td>\n<td>사용자 여렷, 그룹 여럿</td>\n</tr>\n<tr>\n<td>기본값 권한</td>\n<td>계정 로그인 시 적용(umask)</td>\n<td>폴더 별로 적용</td>\n</tr>\n</tbody>\n</table>\n<br/>","frontmatter":{"date":"September 22, 2022","title":"리눅스(Linux) 파일 퍼미션(File Permission) 및 ACL 차이","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220922-devops-linux-permission-acl/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220923-devops-linux-/","nextSlug":"/220922-devops-linux-permission-acl/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}