{"componentChunkName":"component---src-templates-blog-template-js","path":"/220515-kubernetes-cka-lightning-lab7/","result":{"data":{"cur":{"id":"86358d9f-8183-54d9-835b-cdb1406843a5","html":"<h1 id=\"7-secret이-마운트된-pod-생성하기\" style=\"position:relative;\"><a href=\"#7-secret%EC%9D%B4-%EB%A7%88%EC%9A%B4%ED%8A%B8%EB%90%9C-pod-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"7 secret이 마운트된 pod 생성하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. Secret이 마운트된 Pod 생성하기</h1>\n<h2 id=\"문제-요건\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%9A%94%EA%B1%B4\" aria-label=\"문제 요건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[문제 요건]</h2>\n<ul>\n<li><code class=\"language-text\">admin1401</code> 네임스페이스에 <code class=\"language-text\">busybox</code>이미지를 가지고 <code class=\"language-text\">secret-1401</code>라는 파드를 생성</li>\n<li>파드 내 컨테이너명은 반드시 <code class=\"language-text\">secret-admin</code> 여야함</li>\n<li><code class=\"language-text\">4800</code>초동안 sleep하는 명령어 실행</li>\n<li>컨테이너에 마운트 되는 시크릿 볼륨은 <code class=\"language-text\">read-only</code> 여야 하며,</li>\n<li>컨테이너는 <code class=\"language-text\">/etc/secret-volume</code> 경로에 시크릿 볼륨을 마운트해야한다.</li>\n<li>시크릿 이름은 <code class=\"language-text\">dotfile-secret</code></li>\n<li>채점 기준: 파드가 올바르게 생성되었는가?</li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"내-풀이\" style=\"position:relative;\"><a href=\"#%EB%82%B4-%ED%92%80%EC%9D%B4\" aria-label=\"내 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[내 풀이]</h2>\n<ul>\n<li>kubectl 명령어로 pod의 yaml 파일을 생성해준다.\n<ul>\n<li>Tip:  <code class=\"language-text\">--dry-run</code> 옵션을 사용해 파드를 생성하지 않고 매니페스트 파일만 생성한다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># k run -n admin1401 --image=busybox secret-1401 --dry-run=client -o yaml --command -- sleep 4800 > pod.yaml</span></code></pre></div>\n<br/>\n<ul>\n<li>생성한 매니페스트 파일(yaml)을 편집한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># vi pod.yaml</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">apiVersion: v1\nkind: Pod\nmetadata:\n  creationTimestamp: null\n  labels:\n    run: secret-1401\n  name: secret-1401\n  namespace: admin1401\nspec:\n  containers:\n  - command:\n    - <span class=\"token function\">sleep</span>\n    - <span class=\"token string\">\"4800\"</span>\n    image: busybox\n    name: secret-1401\n  dnsPolicy: ClusterFirst\n  restartPolicy: Always</code></pre></div>\n<br/>\n<ul>\n<li>문제 요건에 맞게 pod의 yaml 파일을 수정한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">apiVersion: v1\nkind: Pod\nmetadata:\n  creationTimestamp: null\n  labels:\n    run: secret-1401\n  name: secret-1401\n  namespace: admin1401\nspec:\n  containers:\n  - command:\n    - <span class=\"token function\">sleep</span>\n    - <span class=\"token string\">\"4800\"</span>\n    image: busybox\n    name: secret-admin\n    volumeMounts:\n    - name: secret-volume\n      readOnly: <span class=\"token boolean\">true</span>\n      mountPath: <span class=\"token string\">\"/etc/secret-volume\"</span>\n  dnsPolicy: ClusterFirst\n  restartPolicy: Always\n  volumes:\n  - name: secret-volume\n    secret:\n      secretName: dotfile-secret</code></pre></div>\n<ul>\n<li>파드의 컨테이너명을 <code class=\"language-text\">secret-admin</code> 으로 수정한다.</li>\n<li>쿠버네티스 공식 문서의 Secret 문서를 참고하여 Secret Volume과 VolumeMounts 구문을 추가한다.</li>\n</ul>\n<br/>\n<ul>\n<li><code class=\"language-text\">kubectl create -f &lt;yaml파일명></code> 명령어를 사용해 파드를 생성한 뒤, 잘 생성되었는지 확인한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># kubectl create -f pod.yaml </span>\npod/secret-1401 created\nroot@controlplane:~<span class=\"token comment\"># kubectl get pods -n admin1401</span>\nNAME          READY   STATUS    RESTARTS   AGE\nsecret-1401   <span class=\"token number\">1</span>/1     Running   <span class=\"token number\">0</span>          12s</code></pre></div>\n<br/>\n<h2 id=\"참고-url\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-url\" aria-label=\"참고 url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[참고 URL]</h2>\n<ul>\n<li>kubectl reference: <a href=\"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#run\">https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#run</a></li>\n<li>Secret: <a href=\"https://kubernetes.io/ko/docs/concepts/configuration/secret/#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80-ssh-%ED%82%A4%EA%B0%80-%EC%9E%88%EB%8A%94-%ED%8C%8C%EB%93%9C\">https://kubernetes.io/ko/docs/concepts/configuration/secret/#사용-사례-ssh-키가-있는-파드</a></li>\n</ul>\n<br/>","excerpt":"7. Secret이 마운트된 Pod 생성하기 [문제 요건]  네임스페이스에 이미지를 가지고 라는 파드를 생성 파드 내 컨테이너명은 반드시  여야함 초동안 sleep하는 명령어 실행 컨테이너에 마운트 되는 시크릿 볼륨은  여야 하며, 컨테이너는  경로에 시크릿 볼륨을 마운트해야한다. 시크릿 이름은  채점 기준: 파드가 올바르게 생성되었는가?  [내 풀이] kubectl 명령어로 pod의 yaml 파일을 생성해준다. Tip:   옵션을 사용해 파드를 생성하지 않고 매니페스트 파일만 생성한다. 생성한 매니페스트 파일(yaml)을 편집한다. 문제 요건에 맞게 pod의 yaml 파일을 수정한다. 파드의 컨테이너명을  으로 수정한다. 쿠버네티스 공식 문서의 Secret 문서를 참고하여 Secret Volume과 VolumeMounts 구문을 추가한다.  명령어를 사용해 파드를 생성한 뒤, 잘 생성되었는지 확인한다. [참고 URL] kubectl reference: https://kuberne…","frontmatter":{"date":"May 15, 2022","title":"쿠버네티스(Kubernetes) CKA Lightning Lab 7 - Secret이 마운트된 Pod 생성하기","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220515-kubernetes-cka-lightning-lab7/"}},"next":{"id":"8e4a14b6-f763-558d-aaa9-e688f372e141","html":"<h1 id=\"2-json-path-사용하기\" style=\"position:relative;\"><a href=\"#2-json-path-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"2 json path 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. JSON PATH 사용하기</h1>\n<h2 id=\"문제-요건\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%9A%94%EA%B1%B4\" aria-label=\"문제 요건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[문제 요건]</h2>\n<ul>\n<li>다음 포맷에 맞춰 <code class=\"language-text\">admin2406</code> 네임스페이스의 모든 디플로이먼트를 출력</li>\n<li><code class=\"language-text\">DEPLOYMENT CONTAINER_IMAGE READY_REPLICAS NAMESPACE&lt;deployment name> &lt;container image used> &lt;ready replica count> &lt;Namespace></code>.</li>\n<li>예시: <code class=\"language-text\">DEPLOYMENT CONTAINER_IMAGE READY_REPLICAS NAMESPACEdeploy0 nginx:alpine 1 admin2406</code></li>\n<li>데이터들은 <code class=\"language-text\">deployment name</code>을 기준으로 오름차순으로 정렬</li>\n<li>채점 기준: 제시된 작업이 완료되었는가?</li>\n</ul>\n<br/>\n<h2 id=\"내-풀이\" style=\"position:relative;\"><a href=\"#%EB%82%B4-%ED%92%80%EC%9D%B4\" aria-label=\"내 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[내 풀이]</h2>\n<ul>\n<li><code class=\"language-text\">kubectl get deployment -n admin2406</code> 으로 대상 디플로이먼트들을 확인한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># k get deployments.apps -n admin2406        </span>\nNAME      READY   UP-TO-DATE   AVAILABLE   AGE\ndeploy1   <span class=\"token number\">1</span>/1     <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           48m\ndeploy2   <span class=\"token number\">1</span>/1     <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           48m\ndeploy3   <span class=\"token number\">1</span>/1     <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           48m\ndeploy4   <span class=\"token number\">1</span>/1     <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           48m\ndeploy5   <span class=\"token number\">1</span>/1     <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           48m</code></pre></div>\n<br/>\n<ul>\n<li><code class=\"language-text\">kubectl get deployment -n admin2406 deploy1 -o json</code> 으로 JSON 파일 구조를 확인한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># k get deployments.apps -n admin2406 deploy1 -o json</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"apiVersion\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"apps/v1\"</span>,\n    <span class=\"token string\">\"kind\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Deployment\"</span>,\n    <span class=\"token string\">\"metadata\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"annotations\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"deployment.kubernetes.io/revision\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"creationTimestamp\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:28:00Z\"</span>,\n        <span class=\"token string\">\"generation\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"labels\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"app\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"deploy1\"</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"managedFields\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"apiVersion\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"apps/v1\"</span>,\n                <span class=\"token string\">\"fieldsType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"FieldsV1\"</span>,\n                <span class=\"token string\">\"fieldsV1\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token string\">\"f:metadata\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"f:labels\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"f:app\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>,\n                    <span class=\"token string\">\"f:spec\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"f:progressDeadlineSeconds\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:replicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:revisionHistoryLimit\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:selector\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:strategy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"f:rollingUpdate\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:maxSurge\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:maxUnavailable\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"f:type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:template\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"f:metadata\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\"f:labels\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                    <span class=\"token string\">\"f:app\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"f:spec\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\"f:containers\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\"k:{<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>name<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>:<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>nginx<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>}\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                        <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:image\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:imagePullPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:resources\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:terminationMessagePath\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                        <span class=\"token string\">\"f:terminationMessagePolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                                    <span class=\"token punctuation\">}</span>\n                                <span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:dnsPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:restartPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:schedulerName\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:securityContext\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:terminationGracePeriodSeconds\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>,\n                <span class=\"token string\">\"manager\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"kubectl-create\"</span>,\n                <span class=\"token string\">\"operation\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Update\"</span>,\n                <span class=\"token string\">\"time\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:28:00Z\"</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"apiVersion\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"apps/v1\"</span>,\n                <span class=\"token string\">\"fieldsType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"FieldsV1\"</span>,\n                <span class=\"token string\">\"fieldsV1\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token string\">\"f:metadata\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"f:annotations\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"f:deployment.kubernetes.io/revision\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>,\n                    <span class=\"token string\">\"f:status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"f:availableReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:conditions\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"k:{<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>type<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>:<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>Available<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>}\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:lastTransitionTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:lastUpdateTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:reason\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>,\n                            <span class=\"token string\">\"k:{<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>type<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>:<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>Progressing<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>}\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\".\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:lastTransitionTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:lastUpdateTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:reason\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                                <span class=\"token string\">\"f:type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:observedGeneration\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:readyReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:replicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"f:updatedReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>,\n                <span class=\"token string\">\"manager\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"kube-controller-manager\"</span>,\n                <span class=\"token string\">\"operation\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Update\"</span>,\n                <span class=\"token string\">\"time\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:59:02Z\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>,\n        <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"deploy1\"</span>,\n        <span class=\"token string\">\"namespace\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"admin2406\"</span>,\n        <span class=\"token string\">\"resourceVersion\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"15003\"</span>,\n        <span class=\"token string\">\"uid\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"09e6b6df-f757-4558-a6a9-1ce8bd1138b7\"</span>\n    <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"spec\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"progressDeadlineSeconds\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">600</span>,\n        <span class=\"token string\">\"replicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"revisionHistoryLimit\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>,\n        <span class=\"token string\">\"selector\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"matchLabels\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"app\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"deploy1\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"strategy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"rollingUpdate\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"maxSurge\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"25%\"</span>,\n                <span class=\"token string\">\"maxUnavailable\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"25%\"</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"RollingUpdate\"</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"template\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"metadata\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"creationTimestamp\"</span><span class=\"token builtin class-name\">:</span> null,\n                <span class=\"token string\">\"labels\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token string\">\"app\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"deploy1\"</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token string\">\"spec\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"containers\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"image\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nginx\"</span>,\n                        <span class=\"token string\">\"imagePullPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Always\"</span>,\n                        <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nginx\"</span>,\n                        <span class=\"token string\">\"resources\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"terminationMessagePath\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"/dev/termination-log\"</span>,\n                        <span class=\"token string\">\"terminationMessagePolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"File\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"dnsPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ClusterFirst\"</span>,\n                <span class=\"token string\">\"restartPolicy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Always\"</span>,\n                <span class=\"token string\">\"schedulerName\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"default-scheduler\"</span>,\n                <span class=\"token string\">\"securityContext\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>,\n                <span class=\"token string\">\"terminationGracePeriodSeconds\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">30</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"availableReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"conditions\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"lastTransitionTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:28:00Z\"</span>,\n                <span class=\"token string\">\"lastUpdateTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:28:18Z\"</span>,\n                <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ReplicaSet <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>deploy1-5799f5869d<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> has successfully progressed.\"</span>,\n                <span class=\"token string\">\"reason\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"NewReplicaSetAvailable\"</span>,\n                <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"True\"</span>,\n                <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Progressing\"</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"lastTransitionTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:59:02Z\"</span>,\n                <span class=\"token string\">\"lastUpdateTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-05-15T01:59:02Z\"</span>,\n                <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Deployment has minimum availability.\"</span>,\n                <span class=\"token string\">\"reason\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"MinimumReplicasAvailable\"</span>,\n                <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"True\"</span>,\n                <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Available\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>,\n        <span class=\"token string\">\"observedGeneration\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"readyReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"replicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"updatedReplicas\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<ul>\n<li>custom-column을 이용한 간단한 쿼리문을 작성한 뒤 잘 작동하는지 테스트해본다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># k get deployments.apps -n admin2406 -o=custom-columns=DEPLOYMENT:.metadata.name</span>\nDEPLOYMENT\ndeploy1\ndeploy2\ndeploy3\ndeploy4\ndeploy5</code></pre></div>\n<br/>\n<ul>\n<li>위에서 출력했던 json 포맷을 잘 참고하여 나머지 열에 대한 쿼리도 작성해준다.\n<ul>\n<li>Tip: 열과 열을 구분하기 위해서는 <code class=\"language-text\">,</code> (콤마)를 사용한다.</li>\n<li>Tip: 각 항목이 잘 출력되었는지 확인하기 위해 kubectl get deployment 명령어를 잘 활용한다(예: CONTAINER_IMAGE가 잘 출력되었는지 확인 <code class=\"language-text\">kubectl get deployments -n admin2406</code>)</li>\n<li>Tip: 요소가 딕셔너리가 아닌 리스트 형태일 경우(예: containers) 반드시 출력할 리스트 요소를 지정해주어야한다(예: containers ⇒ (X), containers[0] ⇒ (O), containers[*] ⇒ (O)</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># kubectl get deployments.apps -n admin2406 -o=custom-columns=DEPLOYMENT:.metadata.name,CONTAINER_IMAGE:.spec.template.spec.containers[*].image,READY_REPLICAS:.status.readyReplicas,NAMESPACE:.metadata.namespace</span>\nDEPLOYMENT   CONTAINER_IMAGE   READY_REPLICAS   NAMESPACE\ndeploy1      nginx             <span class=\"token number\">1</span>                admin2406\ndeploy2      nginx:alpine      <span class=\"token number\">1</span>                admin2406\ndeploy3      nginx:1.16        <span class=\"token number\">1</span>                admin2406\ndeploy4      nginx:1.17        <span class=\"token number\">1</span>                admin2406\ndeploy5      nginx:latest      <span class=\"token number\">1</span>                admin2406</code></pre></div>\n<ul>\n<li><code class=\"language-text\">--sort-by=</code> 옵션으로 리스트를 문제 요건대로 정렬한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># kubectl get deployments.apps -n admin2406 -o=custom-columns=DEPLOYMENT:.metadata.name,CONTAINER_IMAGE:.spec.template.spec.containers[*].image,READY_REPLICAS:.status.readyReplicas,NAMESPACE:.metadata.namespace --sort-by=.metadata.name</span>\nDEPLOYMENT   CONTAINER_IMAGE   READY_REPLICAS   NAMESPACE\ndeploy1      nginx             <span class=\"token number\">1</span>                admin2406\ndeploy2      nginx:alpine      <span class=\"token number\">1</span>                admin2406\ndeploy3      nginx:1.16        <span class=\"token number\">1</span>                admin2406\ndeploy4      nginx:1.17        <span class=\"token number\">1</span>                admin2406\ndeploy5      nginx:latest      <span class=\"token number\">1</span>                admin2406</code></pre></div>\n<br/>\n<ul>\n<li>문제 요건대로 <code class=\"language-text\">/opt/admin2406_data</code> 에 쿼리 결과를 저장한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># kubectl get deployments.apps -n admin2406 -o=custom-columns=DEPLOYMENT:.metadata.name,CONTAINER_IMAGE:.spec.template.spec.containers[*].image,READY_REPLICAS:.status.readyReplicas,NAMESPACE:.metadata.namespace --sort-by=.metadata.name > /opt/admin2406_data</span></code></pre></div>\n<br/>\n<ul>\n<li>데이터가 잘 저장되었는지 확인한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># cat /opt/admin2406_data</span>\nDEPLOYMENT   CONTAINER_IMAGE   READY_REPLICAS   NAMESPACE\ndeploy1      nginx             <span class=\"token number\">1</span>                admin2406\ndeploy2      nginx:alpine      <span class=\"token number\">1</span>                admin2406\ndeploy3      nginx:1.16        <span class=\"token number\">1</span>                admin2406\ndeploy4      nginx:1.17        <span class=\"token number\">1</span>                admin2406\ndeploy5      nginx:latest      <span class=\"token number\">1</span>                admin2406</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"참고-url\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-url\" aria-label=\"참고 url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[참고 URL]</h2>\n<ul>\n<li>kubectl 치트 시트 - custom-column: <a href=\"https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/\">https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/</a></li>\n</ul>\n<br/>","frontmatter":{"date":"May 15, 2022","title":"쿠버네티스(Kubernetes) CKA Lightning Lab 2 - JSON PATH 사용하기","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220515-kubernetes-cka-lightning-lab2/"}},"prev":{"id":"0dac801f-5927-5456-b22d-dca6958cb6a7","html":"<h1 id=\"3-kubeconfig-트러블-슈팅\" style=\"position:relative;\"><a href=\"#3-kubeconfig-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85\" aria-label=\"3 kubeconfig 트러블 슈팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. KubeConfig 트러블 슈팅</h1>\n<h2 id=\"문제-요건\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%9A%94%EA%B1%B4\" aria-label=\"문제 요건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[문제 요건]</h2>\n<ul>\n<li><code class=\"language-text\">/root/CKA</code> 경로에 <code class=\"language-text\">admin.kubeconfig</code> kubeconfig 파일이 생성되었으나 무언가 잘못되었다. 트러블 슈팅 후 고칠 것</li>\n<li>채점 기준\n<ul>\n<li>/root/CKA/admin.kubeconfig 고치기</li>\n</ul>\n</li>\n</ul>\n<p><br/><br/></p>\n<h2 id=\"내-풀이\" style=\"position:relative;\"><a href=\"#%EB%82%B4-%ED%92%80%EC%9D%B4\" aria-label=\"내 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[내 풀이]</h2>\n<ul>\n<li>kubeconfig 파일을 살펴보자.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~<span class=\"token comment\"># cd /root/CKA</span>\nroot@controlplane:~/CKA<span class=\"token comment\"># ls -al</span>\ntotal <span class=\"token number\">16</span>\ndrwxr-xr-x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">15</span> 04:49 <span class=\"token builtin class-name\">.</span>\ndrwx------ <span class=\"token number\">1</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">15</span> 04:44 <span class=\"token punctuation\">..</span>\n-rw------- <span class=\"token number\">1</span> root root <span class=\"token number\">5564</span> May <span class=\"token number\">15</span> 04:49 admin.kubeconfig\nroot@controlplane:~/CKA<span class=\"token comment\"># cat admin.kubeconfig </span>\napiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: <span class=\"token punctuation\">[</span>encrypted ca<span class=\"token punctuation\">]</span>\n    server: https://controlplane:4380\n  name: kubernetes\ncontexts:\n- context:\n    cluster: kubernetes\n    user: kubernetes-admin\n  name: kubernetes-admin@kubernetes\ncurrent-context: kubernetes-admin@kubernetes\nkind: Config\npreferences: <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nusers:\n- name: kubernetes-admin\n  user:\n    client-certificate-data: <span class=\"token punctuation\">[</span>encrypted-certification<span class=\"token punctuation\">]</span>\n    client-key-data: <span class=\"token punctuation\">[</span>encrypted-key<span class=\"token punctuation\">]</span></code></pre></div>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@controlplane:~/CKA<span class=\"token comment\"># k config view</span>\napiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: DATA+OMITTED\n    server: https://controlplane:6443\n  name: kubernetes\ncontexts:\n- context:\n    cluster: kubernetes\n    user: kubernetes-admin\n  name: kubernetes-admin@kubernetes\ncurrent-context: kubernetes-admin@kubernetes\nkind: Config\npreferences: <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nusers:\n- name: kubernetes-admin\n  user:\n    client-certificate-data: REDACTED\n    client-key-data: REDACTED</code></pre></div>\n<br/>","frontmatter":{"date":"May 15, 2022","title":"쿠버네티스(Kubernetes) CKA Lightning Lab 3 - KubeConfig 관련 이슈 트러블 슈팅","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220515-kubernetes-cka-lightning-lab3/"}},"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220515-kubernetes-cka-lightning-lab7/","nextSlug":"/220515-kubernetes-cka-lightning-lab2/","prevSlug":"/220515-kubernetes-cka-lightning-lab3/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}