{"componentChunkName":"component---src-templates-blog-template-js","path":"/220521-kubernetes-cka-killerkoda-q08/","result":{"data":{"cur":{"id":"8bf27ee8-f904-5433-b3fb-7872ee535830","html":"<h1 id=\"q8-네트워크-폴리시의-네임스페이스-선택\" style=\"position:relative;\"><a href=\"#q8-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8F%B4%EB%A6%AC%EC%8B%9C%EC%9D%98-%EB%84%A4%EC%9E%84%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EC%84%A0%ED%83%9D\" aria-label=\"q8 네트워크 폴리시의 네임스페이스 선택 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q8. 네트워크 폴리시의 네임스페이스 선택</h1>\n<p>네임스페이스 <code class=\"language-text\">space1</code> &#x26; <code class=\"language-text\">space2</code>에 기존 파드들이 존재한다.</p>\n<br/>\n<p>네임스페이스 <code class=\"language-text\">space1</code> 에 있는 모드 파드들이 네임스페이스 <code class=\"language-text\">space2</code> 의 파드들로만 외부로 향하는 트래픽을 보낼 수 있도록 제한하는  <code class=\"language-text\">np</code>라는 이름의 네트워크 폴리시가 필요하다.</p>\n<br/>\n<p>또한 <code class=\"language-text\">np</code> 라는 이름으로 네임스페이스 <code class=\"language-text\">space2</code> 의 파드들이 <code class=\"language-text\">space1</code> 의 파드로부터 들어오는 트래픽만 받도록 설정해야한다.</p>\n<br/>\n<p>네트워크 폴리시는 53포트의 DNS 트래픽과 TCP, UDP 트래픽을 허용해야 한다.</p>\n<p><br/><br/></p>\n<h2 id=\"팁\" style=\"position:relative;\"><a href=\"#%ED%8C%81\" aria-label=\"팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>팁</h2>\n<p>학습을 위해 <a href=\"http://editor.cilium.io\">네트워크 폴리시 에디터</a>를 확인해보자.</p>\n<br/>\n<p>네트워크 폴리시의 <code class=\"language-text\">namespaceSelector</code>는 네임스페이스 레이블로 작동한다. 따라서 네임스페이스들의 기존 레이블을 확인하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k get ns --show-labels</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"해결-방법-파트-1\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%ED%8C%8C%ED%8A%B8-1\" aria-label=\"해결 방법 파트 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법 파트 1</h2>\n<p>첫번째 네트워크 폴리시를 생성하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token literal-property property\">apiVersion</span><span class=\"token operator\">:</span> networking<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>v1\n<span class=\"token literal-property property\">kind</span><span class=\"token operator\">:</span> NetworkPolicy\n<span class=\"token literal-property property\">metadata</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> np\n  <span class=\"token literal-property property\">namespace</span><span class=\"token operator\">:</span> space1\n<span class=\"token literal-property property\">spec</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">podSelector</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token literal-property property\">policyTypes</span><span class=\"token operator\">:</span>\n  <span class=\"token operator\">-</span> Egress\n  <span class=\"token literal-property property\">egress</span><span class=\"token operator\">:</span>\n  <span class=\"token operator\">-</span> to<span class=\"token operator\">:</span>\n    <span class=\"token operator\">-</span> namespaceSelector<span class=\"token operator\">:</span>\n        <span class=\"token literal-property property\">matchLabels</span><span class=\"token operator\">:</span>\n          kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>metadata<span class=\"token punctuation\">.</span>name<span class=\"token operator\">:</span> space2\n  <span class=\"token operator\">-</span> ports<span class=\"token operator\">:</span>\n    <span class=\"token operator\">-</span> port<span class=\"token operator\">:</span> <span class=\"token number\">53</span>\n      <span class=\"token literal-property property\">protocol</span><span class=\"token operator\">:</span> <span class=\"token constant\">TCP</span>\n    <span class=\"token operator\">-</span> port<span class=\"token operator\">:</span> <span class=\"token number\">53</span>\n      <span class=\"token literal-property property\">protocol</span><span class=\"token operator\">:</span> <span class=\"token constant\">UDP</span></code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"해결-방법-파트-2\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%ED%8C%8C%ED%8A%B8-2\" aria-label=\"해결 방법 파트 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법 파트 2</h2>\n<p>두번째 NP를 생성해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token literal-property property\">apiVersion</span><span class=\"token operator\">:</span> networking<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>v1\n<span class=\"token literal-property property\">kind</span><span class=\"token operator\">:</span> NetworkPolicy\n<span class=\"token literal-property property\">metadata</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> np\n  <span class=\"token literal-property property\">namespace</span><span class=\"token operator\">:</span> space2\n<span class=\"token literal-property property\">spec</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">podSelector</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token literal-property property\">policyTypes</span><span class=\"token operator\">:</span>\n  <span class=\"token operator\">-</span> Ingress\n  <span class=\"token literal-property property\">ingress</span><span class=\"token operator\">:</span>\n  <span class=\"token operator\">-</span> from<span class=\"token operator\">:</span>\n    <span class=\"token operator\">-</span> namespaceSelector<span class=\"token operator\">:</span>\n        <span class=\"token literal-property property\">matchLabels</span><span class=\"token operator\">:</span>\n          kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>metadata<span class=\"token punctuation\">.</span>name<span class=\"token operator\">:</span> space1</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"검증\" style=\"position:relative;\"><a href=\"#%EA%B2%80%EC%A6%9D\" aria-label=\"검증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>검증</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"># 아래가 작동해야 한다\nk <span class=\"token operator\">-</span>n space1 exec app1<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> microservice1<span class=\"token punctuation\">.</span>space2<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n space1 exec app1<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> microservice2<span class=\"token punctuation\">.</span>space2<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n space1 exec app1<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token operator\">--</span> nslookup tester<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n kube<span class=\"token operator\">-</span>system exec <span class=\"token operator\">-</span>it validate<span class=\"token operator\">-</span>checker<span class=\"token operator\">-</span>pod <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> app<span class=\"token punctuation\">.</span>space1<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\n\n# 아래는 작동하지 않아야 한다\nk <span class=\"token operator\">-</span>n space1 exec app1<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> tester<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n kube<span class=\"token operator\">-</span>system exec <span class=\"token operator\">-</span>it validate<span class=\"token operator\">-</span>checker<span class=\"token operator\">-</span>pod <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> microservice1<span class=\"token punctuation\">.</span>space2<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n kube<span class=\"token operator\">-</span>system exec <span class=\"token operator\">-</span>it validate<span class=\"token operator\">-</span>checker<span class=\"token operator\">-</span>pod <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> microservice2<span class=\"token punctuation\">.</span>space2<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\nk <span class=\"token operator\">-</span>n run nginx <span class=\"token operator\">--</span>image<span class=\"token operator\">=</span>nginx<span class=\"token operator\">:</span><span class=\"token number\">1.21</span><span class=\"token number\">.5</span><span class=\"token operator\">-</span>alpine <span class=\"token operator\">--</span>restart<span class=\"token operator\">=</span>Never <span class=\"token operator\">-</span>i <span class=\"token operator\">--</span>rm <span class=\"token operator\">--</span> curl <span class=\"token operator\">-</span>m <span class=\"token number\">1</span> microservice1<span class=\"token punctuation\">.</span>space2<span class=\"token punctuation\">.</span>svc<span class=\"token punctuation\">.</span>cluster<span class=\"token punctuation\">.</span>local\n</code></pre></div>\n<br/>","excerpt":"Q8. 네트워크 폴리시의 네임스페이스 선택 네임스페이스  & 에 기존 파드들이 존재한다. 네임스페이스  에 있는 모드 파드들이 네임스페이스  의 파드들로만 외부로 향하는 트래픽을 보낼 수 있도록 제한하는  라는 이름의 네트워크 폴리시가 필요하다. 또한  라는 이름으로 네임스페이스  의 파드들이  의 파드로부터 들어오는 트래픽만 받도록 설정해야한다. 네트워크 폴리시는 53포트의 DNS 트래픽과 TCP, UDP 트래픽을 허용해야 한다.  팁 학습을 위해 네트워크 폴리시 에디터를 확인해보자. 네트워크 폴리시의 는 네임스페이스 레이블로 작동한다. 따라서 네임스페이스들의 기존 레이블을 확인하자.  해결 방법 파트 1 첫번째 네트워크 폴리시를 생성하자.  해결 방법 파트 2 두번째 NP를 생성해보자.  검증","frontmatter":{"date":"May 21, 2022","title":"쿠버네티스(Kubernetes) CKA - KillerKoda Q8. NetworkPolicy","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q08/"}},"next":{"id":"cb7effd7-4ee3-55a7-bee6-482930860032","html":"<h1 id=\"q6-파드pod에서의-컨피그맵configmap-접근\" style=\"position:relative;\"><a href=\"#q6-%ED%8C%8C%EB%93%9Cpod%EC%97%90%EC%84%9C%EC%9D%98-%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5configmap-%EC%A0%91%EA%B7%BC\" aria-label=\"q6 파드pod에서의 컨피그맵configmap 접근 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q6. 파드(POD)에서의 컨피그맵(ConfigMap) 접근</h1>\n<ol>\n<li><code class=\"language-text\">tree=trauerweide</code>라는 내용을 갖고있는 <code class=\"language-text\">trauerweide</code> 라는 이름의 ConfigMap 을 생성하자</li>\n<li><code class=\"language-text\">/root/cm.yaml</code> 로 ConfigMap을 생성하자</li>\n</ol>\n<p><br/><br/></p>\n<h2 id=\"팁\" style=\"position:relative;\"><a href=\"#%ED%8C%81\" aria-label=\"팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>팁</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 신규 ConfigMap 생성\nkubectl create cm trauerweide -h\n\n# 파일에서 ConfigMap 생성\nkubectl create -f ...</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"해결-방법\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">kubectl create cm trauerweide --from-literal tree=trauerweide\n\nk create -f /root/cm.yaml</code></pre></div>\n<br/>","frontmatter":{"date":"May 21, 2022","title":"쿠버네티스(Kubernetes) CKA - KillerKoda Q6. ConfigMap Access in Pods","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q06/"}},"prev":{"id":"242b5520-b123-52b1-878b-eb85f75e2f08","html":"<p>(참고: 문제가 생성되다 중단된 듯 하다. 문제에서는 서비스 까지만 생성하도록 안내되어있다.)</p>\n<p><br/><br/></p>\n<h1 id=\"q7-인그레스ingress-생성\" style=\"position:relative;\"><a href=\"#q7-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4ingress-%EC%83%9D%EC%84%B1\" aria-label=\"q7 인그레스ingress 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q7. 인그레스(Ingress) 생성</h1>\n<p><code class=\"language-text\">world</code> 네임스페이스에 기존 두 개 디플로이먼트(deployment)가 존재하는데, Ingress를 통해 접근 가능해야한다.</p>\n<br/>\n<p>먼저 두 개의 디플로이먼트를 위해 포트 80을 사용하는 서비스(Service)들을 생성한다. 각 서비스는 디플로이먼트와 동일한 이름이어야한다.</p>\n<p><br/><br/></p>\n<h2 id=\"팁\" style=\"position:relative;\"><a href=\"#%ED%8C%81\" aria-label=\"팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>팁</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k expose deploy -h</code></pre></div>\n<p><br/><br/></p>\n<h2 id=\"해결-방법\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k -n world expose deploy europe --port 80\nk -n world expose deploy asia --port 80</code></pre></div>\n<br/>","frontmatter":{"date":"May 21, 2022","title":"쿠버네티스(Kubernetes) CKA - KillerKoda Q7. Ingress Create","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220521-kubernetes-cka-killerkoda-q07/"}},"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220521-kubernetes-cka-killerkoda-q08/","nextSlug":"/220521-kubernetes-cka-killerkoda-q06/","prevSlug":"/220521-kubernetes-cka-killerkoda-q07/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}