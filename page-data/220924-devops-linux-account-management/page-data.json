{"componentChunkName":"component---src-templates-blog-template-js","path":"/220924-devops-linux-account-management/","result":{"data":{"cur":{"id":"9f6324fc-df29-5302-b870-8d21435bab7b","html":"<h1 id=\"account-management\" style=\"position:relative;\"><a href=\"#account-management\" aria-label=\"account management permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Account Management</h1>\n<h2 id=\"1-user--group-관련-betabase-file들\" style=\"position:relative;\"><a href=\"#1-user--group-%EA%B4%80%EB%A0%A8-betabase-file%EB%93%A4\" aria-label=\"1 user  group 관련 betabase file들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. User &#x26; Group 관련 betabase file들</h2>\n<h3 id=\"1-1-계정-관련-파일\" style=\"position:relative;\"><a href=\"#1-1-%EA%B3%84%EC%A0%95-%EA%B4%80%EB%A0%A8-%ED%8C%8C%EC%9D%BC\" aria-label=\"1 1 계정 관련 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-1. 계정 관련 파일</h3>\n<ul>\n<li>\n<p><strong>/etc/passwd</strong></p>\n<ul>\n<li>시스템의 모든 계정에 대한 정보를 담고 있는 설정 파일</li>\n<li>7개 필드로 구분. 구분자 colon(<code class=\"language-text\">:</code>)\n<ul>\n<li>login name</li>\n<li>encrypted password: (x) → <code class=\"language-text\">/etc/shadow</code></li>\n<li>numerical user ID: root (0), system account(1<del>999: app들이 사용), local user(1000</del>59999), system account(60000~65535)</li>\n<li>numerical group ID: root (0)\n<ul>\n<li>User Private Group: 개인 그룹 (user가 저마다 개인 그룹을 가지고 있음)</li>\n</ul>\n</li>\n<li>user name or comment field:</li>\n<li>user home directory(login directory): root(root), local user: user (/home/user), ttabae(/home/ttabae)</li>\n<li>login shell\n<ul>\n<li>일반 유저: /bin/bash</li>\n<li>system daemon: /usr/sbin/nologin</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:/$ <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/passwd\n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae: \nroot:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</code></pre></div>\n</li>\n<li>\n<p><strong>/etc/shadow</strong></p>\n<ul>\n<li>login name</li>\n<li>encrypted password\n<ul>\n<li>*, ! 가 들어간 경우 로그인 금지: password lock</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:/$ <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/shadow\nroot:<span class=\"token variable\">$6</span><span class=\"token variable\">$jEZjezlaSvOfNIUI</span><span class=\"token variable\">$vxW</span>/3sm5U1uRzf4CPIWztVxcJ/BosEhYb6QAa.coOZPS/Va.aUgsD2zF4cSIXhdcZCd4SbP54BZqmFfXoG.2W0:19251:0:99999:7:::\ndaemon:*:19046:0:99999:7:::\nbin:*:19046:0:99999:7:::</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"1-2-그룹-관련-파일\" style=\"position:relative;\"><a href=\"#1-2-%EA%B7%B8%EB%A3%B9-%EA%B4%80%EB%A0%A8-%ED%8C%8C%EC%9D%BC\" aria-label=\"1 2 그룹 관련 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-2. 그룹 관련 파일</h3>\n<ul>\n<li>모든 리눅스 유저는 primary group 1개, 그 외 추가 그룹을 여러개 가질 수 있다.</li>\n<li><strong>/etc/group</strong>\n<ul>\n<li>4개 필드로 구분\n<ul>\n<li>group_name: user name과 동일</li>\n<li>group_password</li>\n<li>GID</li>\n<li>해당 그룹을 추가 그룹(additional group)으로 사용하는 유저들의 user_list</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:/$ <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/group\nroot:x:0:\ndaemon:x:1:\nbin:x:2:</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-managing-local-users-accounts\" style=\"position:relative;\"><a href=\"#2-managing-local-users-accounts\" aria-label=\"2 managing local users accounts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Managing Local Users Accounts</h2>\n<h3 id=\"2-1-계정account-추가\" style=\"position:relative;\"><a href=\"#2-1-%EA%B3%84%EC%A0%95account-%EC%B6%94%EA%B0%80\" aria-label=\"2 1 계정account 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1. 계정(Account) 추가</h3>\n<ul>\n<li><strong>useradd</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:/$ <span class=\"token function\">useradd</span> --help\nUsage: <span class=\"token function\">useradd</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> LOGIN\n       <span class=\"token function\">useradd</span> -D\n       <span class=\"token function\">useradd</span> -D <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span>\n\nOptions:\n  -b, --base-dir BASE_DIR       base directory <span class=\"token keyword\">for</span> the home directory of the\n                                new account\n      --btrfs-subvolume-home    use BTRFS subvolume <span class=\"token keyword\">for</span> home directory\n  -c, --comment COMMENT         GECOS field of the new account\n  -d, --home-dir HOME_DIR       home directory of the new account\n  -g, --gid GROUP               name or ID of the primary group of the new\n  **-G, --groups <span class=\"token environment constant\">GROUPS</span>           list of supplementary <span class=\"token function\">groups</span> of the new\n                                account**\n  -m, --create-home             create the user's home directory\n  -o, --non-unique              allow to create <span class=\"token function\">users</span> with duplicate\n                                <span class=\"token punctuation\">(</span>non-unique<span class=\"token punctuation\">)</span> <span class=\"token environment constant\">UID</span>\n  -p, --password PASSWORD       encrypted password of the new account\n  \n  -D, --defaults                print or change default <span class=\"token function\">useradd</span> configuration\n  -e, --expiredate EXPIRE_DATE  expiration <span class=\"token function\">date</span> of the new account\n  -f, --inactive INACTIVE       password inactivity period of the new account\n                                account\n-r, --system                  create a system account\n  -s, --shell <span class=\"token environment constant\">SHELL</span>             login shell of the new account\n  -u, --uid <span class=\"token environment constant\">UID</span>                 user ID of the new account</code></pre></div>\n<ul>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -c <span class=\"token string\">\"seong mi lee\"</span> -m seongmi\n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae: \nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> seongmi\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">1001</span><span class=\"token punctuation\">(</span>seongmi<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">1001</span><span class=\"token punctuation\">(</span>seongmi<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">1001</span><span class=\"token punctuation\">(</span>seongmi<span class=\"token punctuation\">)</span>\nttabae@ubuntu:~$ <span class=\"token function\">tail</span> /etc/passwd\ncolord:x:121:126:colord colour management daemon,,,:/var/lib/colord:/usr/sbin/nologin\ngeoclue:x:122:127::/var/lib/geoclue:/usr/sbin/nologin\npulse:x:123:128:PulseAudio daemon,,,:/var/run/pulse:/usr/sbin/nologin\ngnome-initial-setup:x:124:65534::/run/gnome-initial-setup/:/bin/false\ngdm:x:125:130:Gnome Display Manager:/var/lib/gdm3:/bin/false\nsssd:x:126:131:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin\nttabae:x:1000:1000:ttabae,,,:/home/ttabae:/bin/bash\nsystemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin\nsshd:x:127:65534::/run/sshd:/usr/sbin/nologin\nseongmi:x:1001:1001:seong mi lee:/home/seongmi:/bin/sh\nttabae@ubuntu:~$ <span class=\"token function\">tail</span> /etc/passwd\ncolord:x:121:126:colord colour management daemon,,,:/var/lib/colord:/usr/sbin/nologin\ngeoclue:x:122:127::/var/lib/geoclue:/usr/sbin/nologin\npulse:x:123:128:PulseAudio daemon,,,:/var/run/pulse:/usr/sbin/nologin\ngnome-initial-setup:x:124:65534::/run/gnome-initial-setup/:/bin/false\ngdm:x:125:130:Gnome Display Manager:/var/lib/gdm3:/bin/false\nsssd:x:126:131:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin\nttabae:x:1000:1000:ttabae,,,:/home/ttabae:/bin/bash\nsystemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin\nsshd:x:127:65534::/run/sshd:/usr/sbin/nologin\nseongmi:x:1001:1001:seong mi lee:/home/seongmi:/bin/sh\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tail</span> /etc/shadow\ncolord:*:19046:0:99999:7:::\ngeoclue:*:19046:0:99999:7:::\npulse:*:19046:0:99999:7:::\ngnome-initial-setup:*:19046:0:99999:7:::\ngdm:*:19046:0:99999:7:::\nsssd:*:19046:0:99999:7:::\nttabae:<span class=\"token variable\">$1</span><span class=\"token variable\">$TUt6tEFq</span><span class=\"token variable\">$u</span>.0w6A1rLulrhCN4AZOdW/:19250:0:99999:7:::\nsystemd-coredump:<span class=\"token operator\">!</span><span class=\"token operator\">!</span>:19251::::::\nsshd:*:19251:0:99999:7:::\nseongmi:<span class=\"token operator\">!</span>:19252:0:99999:7:::</code></pre></div>\n<ul>\n<li>\n<p>이 때 seongmi는 로그인이 불가능한 유저이다(보안상 이유) → password 를 지정해야한다(sudo passwd seongmi)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> seongmi \nNew password: \nRetype new password: \npasswd: password updated successfully\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> seongmi \nNew password: \nRetype new password: \npasswd: password updated successfully\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tail</span> /etc/shadow\ncolord:*:19046:0:99999:7:::\ngeoclue:*:19046:0:99999:7:::\npulse:*:19046:0:99999:7:::\ngnome-initial-setup:*:19046:0:99999:7:::\ngdm:*:19046:0:99999:7:::\nsssd:*:19046:0:99999:7:::\nttabae:<span class=\"token variable\">$1</span><span class=\"token variable\">$TUt6tEFq</span><span class=\"token variable\">$u</span>.0w6A1rLulrhCN4AZOdW/:19250:0:99999:7:::\nsystemd-coredump:<span class=\"token operator\">!</span><span class=\"token operator\">!</span>:19251::::::\nsshd:*:19251:0:99999:7:::\nseongmi:<span class=\"token variable\">$6</span><span class=\"token variable\">$UJcDxCoNLe8YWWS1</span><span class=\"token variable\">$1xIqoQx1R8LE4lSdpktfq7FMHsc2MufYCm8T69v6PFCZUs1s4fG</span>/vYUtCH6asPPPsNjspkkT1rA4RWjAOdOGq.:19252:0:99999:7:::</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>예제: guru 계정을 만드시오</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> guru\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> guru\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">1002</span><span class=\"token punctuation\">(</span>guru<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">1002</span><span class=\"token punctuation\">(</span>guru<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">1002</span><span class=\"token punctuation\">(</span>guru<span class=\"token punctuation\">)</span>\n\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -u <span class=\"token number\">2000</span> -G <span class=\"token function\">sudo</span> smlee\n\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> smlee\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span><span class=\"token punctuation\">(</span>smlee<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span><span class=\"token punctuation\">(</span>smlee<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span><span class=\"token punctuation\">(</span>smlee<span class=\"token punctuation\">)</span>,27<span class=\"token punctuation\">(</span>sudo<span class=\"token punctuation\">)</span>\n\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -u <span class=\"token number\">2000</span> -g <span class=\"token number\">2000</span> -G <span class=\"token function\">sudo</span> smlee\nsmlee:x:2000:2000::/home/smlee:/bin/sh\n\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tail</span> /etc/group\npulse-access:x:129:\ngdm:x:130:\nsssd:x:131:\nlxd:x:132:ttabae\nttabae:x:1000:\nsambashare:x:133:ttabae\nsystemd-coredump:x:999:\nseongmi:x:1001:\nguru:x:1002:\nsmlee:x:2000:\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/group\nroot:x:0:\ndaemon:x:1:\nbin:x:2:\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nsssd:x:131:\nlxd:x:132:ttabae\nttabae:x:1000:\nsambashare:x:133:ttabae\nsystemd-coredump:x:999:\nseongmi:x:1001:\nguru:x:1002:\nsmlee:x:2000:</code></pre></div>\n<ul>\n<li>-u 2000으로 생성하면 gid가 자동으로 2000번으로 부여됨</li>\n</ul>\n<h3 id=\"2-2-account-변경\" style=\"position:relative;\"><a href=\"#2-2-account-%EB%B3%80%EA%B2%BD\" aria-label=\"2 2 account 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. Account 변경</h3>\n<ul>\n<li>\n<p>usermod: 계정정보를 수정할 수 있다.</p>\n<ul>\n<li>useradd 에는 없는 옵션이 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Options:\n  -b, --badnames                allow bad names\n  -c, --comment COMMENT         new value of the GECOS field\n  -d, --home HOME_DIR           new home directory <span class=\"token keyword\">for</span> the user account\n  -e, --expiredate EXPIRE_DATE  <span class=\"token builtin class-name\">set</span> account expiration <span class=\"token function\">date</span> to EXPIRE_DATE\n  -f, --inactive INACTIVE       <span class=\"token builtin class-name\">set</span> password inactive after expiration\n                                to INACTIVE\n  -g, --gid GROUP               force use GROUP as new primary group\n  -G, --groups <span class=\"token environment constant\">GROUPS</span>           new list of supplementary <span class=\"token environment constant\">GROUPS</span>\n  **-a, --append                  append the user to the supplemental <span class=\"token environment constant\">GROUPS</span>\n                                mentioned by the -G option without removing\n                                the user from other groups**\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  **-l, --login NEW_LOGIN         new value of the login name**\n  **-L, --lock                    lock the user account**\n  -m, --move-home               move contents of the home directory to the\n                                new location <span class=\"token punctuation\">(</span>use only with -d<span class=\"token punctuation\">)</span>\n  -o, --non-unique              allow using duplicate <span class=\"token punctuation\">(</span>non-unique<span class=\"token punctuation\">)</span> <span class=\"token environment constant\">UID</span>\n  -p, --password PASSWORD       use encrypted password <span class=\"token keyword\">for</span> the new password\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       prefix directory where are located the /etc/* files\n  **-s, --shell <span class=\"token environment constant\">SHELL</span>             new login shell <span class=\"token keyword\">for</span> the user account\n  -u, --uid <span class=\"token environment constant\">UID</span>                 new <span class=\"token environment constant\">UID</span> <span class=\"token keyword\">for</span> the user account\n  -U, --unlock                  unlock the user account**\n  -v, --add-subuids FIRST-LAST  <span class=\"token function\">add</span> range of subordinate uids\n  -V, --del-subuids FIRST-LAST  remove range of subordinate uids\n  -w, --add-subgids FIRST-LAST  <span class=\"token function\">add</span> range of subordinate gids\n  -W, --del-subgids FIRST-LAST  remove range of subordinate gids\n  -Z, --selinux-user SEUSER     new SELinux user mapping <span class=\"token keyword\">for</span> the user account</code></pre></div>\n</li>\n<li>\n<p>예제</p>\n<ul>\n<li>로그인 쉘 변경하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -s /bin/bash smlee\n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae:\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tail</span> /etc/passwd\npulse:x:123:128:PulseAudio daemon,,,:/var/run/pulse:/usr/sbin/nologin\ngnome-initial-setup:x:124:65534::/run/gnome-initial-setup/:/bin/false\ngdm:x:125:130:Gnome Display Manager:/var/lib/gdm3:/bin/false\nsssd:x:126:131:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin\nttabae:x:1000:1000:ttabae,,,:/home/ttabae:/bin/bash\nsystemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin\nsshd:x:127:65534::/run/sshd:/usr/sbin/nologin\nseongmi:x:1001:1001:seong mi lee:/home/seongmi:/bin/sh\nguru:x:1002:1002::/home/guru:/bin/sh\nsmlee:x:2000:2000::/home/smlee:/bin/bash</code></pre></div>\n<ul>\n<li>guru 계정을 sudo 그룹에 소속되도록 설정</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -a -G <span class=\"token function\">sudo</span> guru</code></pre></div>\n<p>⇒ <code class=\"language-text\">-a</code> 옵션: 예전 설정을 지우지 않고 유지한채로 추가설정을 진행</p>\n<ul>\n<li>guru 계정을 로그인 lock을 걸어 로그인 할 수 없도록 제한</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -L guru</code></pre></div>\n</li>\n</ul>\n<h3 id=\"2-3-account-삭제\" style=\"position:relative;\"><a href=\"#2-3-account-%EC%82%AD%EC%A0%9C\" aria-label=\"2 3 account 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-3. Account 삭제</h3>\n<ul>\n<li><strong>userdel</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">userdel</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> LOGIN\n\nOptions:\n  -f, --force                   force removal of files,\n                                even <span class=\"token keyword\">if</span> not owned by user\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -r, --remove                  remove home directory and mail spool\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       prefix directory where are located the /etc/* files\n      --extrausers              Use the extra <span class=\"token function\">users</span> database\n  -Z, --selinux-user            remove any SELinux user mapping <span class=\"token keyword\">for</span> the user</code></pre></div>\n<ul>\n<li>\n<p>예제: guru 계정을 홈디렉토리와 mail 사서함을 포함해 삭제</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">userdel</span> -r guru\nuserdel: guru mail spool <span class=\"token punctuation\">(</span>/var/mail/guru<span class=\"token punctuation\">)</span> not found\nuserdel: guru home directory <span class=\"token punctuation\">(</span>/home/guru<span class=\"token punctuation\">)</span> not found</code></pre></div>\n<ul>\n<li>참고: userdel 만 사용하면 홈디렉토리와 mail 사서함이 그대로 남게 된다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-group\" style=\"position:relative;\"><a href=\"#3-group\" aria-label=\"3 group permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Group</h2>\n<h3 id=\"3-1-group-추가\" style=\"position:relative;\"><a href=\"#3-1-group-%EC%B6%94%EA%B0%80\" aria-label=\"3 1 group 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-1. Group 추가</h3>\n<ul>\n<li>\n<p><strong>groupadd</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">groupadd</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> GROUP\n\nOptions:\n  -f, --force                   <span class=\"token builtin class-name\">exit</span> successfully <span class=\"token keyword\">if</span> the group already exists,\n                                and cancel -g <span class=\"token keyword\">if</span> the GID is already used\n  -g, --gid GID                 use GID <span class=\"token keyword\">for</span> the new group\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -K, --key <span class=\"token assign-left variable\">KEY</span><span class=\"token operator\">=</span>VALUE           override /etc/login.defs defaults\n  -o, --non-unique              allow to create <span class=\"token function\">groups</span> with duplicate\n                                <span class=\"token punctuation\">(</span>non-unique<span class=\"token punctuation\">)</span> GID\n  -p, --password PASSWORD       use this encrypted password <span class=\"token keyword\">for</span> the new group\n  -r, --system                  create a system account\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       directory prefix\n      --extrausers              Use the extra <span class=\"token function\">users</span> database</code></pre></div>\n</li>\n<li>\n<p>예제</p>\n<p>GID 3000 번을 사용하는 project1 그룹을 생성하시오.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">groupadd</span> --g <span class=\"token number\">3000</span> project1\nttabae@ubuntu:~$ <span class=\"token function\">grep</span> project1 /etc/group\nproject1:x:3000:</code></pre></div>\n</li>\n<li>\n<p>예제</p>\n<p>project 그룹을 추가그룹으로 가지는 lee, kim 유저를 생성하시오.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -G project1 -m -s /bin/bash lee\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -G project1 -m -s /bin/bash kim\n\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> lee\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">2001</span><span class=\"token punctuation\">(</span>lee<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">2001</span><span class=\"token punctuation\">(</span>lee<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">2001</span><span class=\"token punctuation\">(</span>lee<span class=\"token punctuation\">)</span>,3000<span class=\"token punctuation\">(</span>project1<span class=\"token punctuation\">)</span>\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> kim\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span>,3000<span class=\"token punctuation\">(</span>project1<span class=\"token punctuation\">)</span>\n\nttabae@ubuntu:~$ <span class=\"token function\">grep</span> project /etc/group\nproject1:x:3000:lee,kim</code></pre></div>\n</li>\n</ul>\n<h3 id=\"3-2-group-변경\" style=\"position:relative;\"><a href=\"#3-2-group-%EB%B3%80%EA%B2%BD\" aria-label=\"3 2 group 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-2. Group 변경</h3>\n<ul>\n<li>\n<p><strong>groupmod</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">groupmod</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> GROUP\n\nOptions:\n  -g, --gid GID                 change the group ID to GID\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -n, --new-name NEW_GROUP      change the name to NEW_GROUP\n  -o, --non-unique              allow to use a duplicate <span class=\"token punctuation\">(</span>non-unique<span class=\"token punctuation\">)</span> GID\n  -p, --password PASSWORD       change the password to this <span class=\"token punctuation\">(</span>encrypted<span class=\"token punctuation\">)</span>\n                                PASSWORD\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       prefix directory where are located the /etc/* <span class=\"token function\">file</span></code></pre></div>\n</li>\n<li>\n<p>예제</p>\n<p>project1 그룹의 ID를 2500으로 변경하시오</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">groupmod</span> -g <span class=\"token number\">2500</span> project1\nttabae@ubuntu:~$ <span class=\"token function\">grep</span> project /etc/group\nproject1:x:2500:lee,kim</code></pre></div>\n</li>\n</ul>\n<h3 id=\"3-3-group-삭제\" style=\"position:relative;\"><a href=\"#3-3-group-%EC%82%AD%EC%A0%9C\" aria-label=\"3 3 group 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-3. Group 삭제</h3>\n<ul>\n<li><strong>groupdel</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">groupdel</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> GROUP\n\nOptions:\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       prefix directory where are located the /etc/* files\n  -f, --force                   delete group even <span class=\"token keyword\">if</span> it is the primary group of a user\n      --extrausers              Use the extra <span class=\"token function\">users</span> database</code></pre></div>\n<p>⇒ addtional 그룹만 삭제 가능. primary는 삭제 불가</p>\n<ul>\n<li>\n<p>예제</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">groupdel</span> project1\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">id</span> kim\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">2002</span><span class=\"token punctuation\">(</span>kim<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"lfcs-시험-대비-문제-풀이\" style=\"position:relative;\"><a href=\"#lfcs-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4\" aria-label=\"lfcs 시험 대비 문제 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LFCS 시험 대비 문제 풀이</h3>\n<p><strong>Q1. What command will generate a list of user names from /etc/passwd along with their login shell?</strong></p>\n<ol>\n<li>column -c: 1,8 /etc/passwd</li>\n<li>chop - c 1,7 /etc/passwd</li>\n<li>colrm 1,7 /etc/password</li>\n<li>cut -d: -f 1,7 /etc/passwd</li>\n</ol>\n<ul>\n<li>\n<p>내 풀이: d</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">cut</span> OPTION<span class=\"token punctuation\">..</span>. <span class=\"token punctuation\">[</span>FILE<span class=\"token punctuation\">]</span><span class=\"token punctuation\">..</span>.\nPrint selected parts of lines from each FILE to standard output.\n\nWith no FILE, or when FILE is -, <span class=\"token builtin class-name\">read</span> standard input.\n\nMandatory arguments to long options are mandatory <span class=\"token keyword\">for</span> short options too.\n  -b, --bytes<span class=\"token operator\">=</span>LIST        <span class=\"token keyword\">select</span> only these bytes\n  -c, --characters<span class=\"token operator\">=</span>LIST   <span class=\"token keyword\">select</span> only these characters\n  **-d, --delimiter<span class=\"token operator\">=</span>DELIM   use DELIM instead of TAB <span class=\"token keyword\">for</span> field delimiter\n  -f, --fields<span class=\"token operator\">=</span>LIST       <span class=\"token keyword\">select</span> only these fields<span class=\"token punctuation\">;</span>  also print any line\n                            that contains no delimiter character, unless\n                            the -s option is specified**\n  -n                      <span class=\"token punctuation\">(</span>ignored<span class=\"token punctuation\">)</span>\n      --complement        complement the <span class=\"token builtin class-name\">set</span> of selected bytes, characters\n                            or fields\n  -s, --only-delimited    <span class=\"token keyword\">do</span> not print lines not containing delimiters\n      --output-delimiter<span class=\"token operator\">=</span>STRING  use STRING as the output delimiter\n                            the default is to use the input delimiter\n  -z, --zero-terminated    line delimiter is NUL, not newline\n      --help     display this <span class=\"token builtin class-name\">help</span> and <span class=\"token builtin class-name\">exit</span>\n      --version  output version information and <span class=\"token builtin class-name\">exit</span>\n\nUse one, and only one of -b, -c or -f.  Each LIST is made up of one\nrange, or many ranges separated by commas.  Selected input is written\n<span class=\"token keyword\">in</span> the same order that it is read, and is written exactly once.\nEach range is one of:\n\n  N     N<span class=\"token string\">'th byte, character or field, counted from 1\n  N-    from N'</span>th byte, character or field, to end of line\n  N-M   from N<span class=\"token string\">'th to M'</span>th <span class=\"token punctuation\">(</span>included<span class=\"token punctuation\">)</span> byte, character or field\n  -M    from first to M'th <span class=\"token punctuation\">(</span>included<span class=\"token punctuation\">)</span> byte, character or field\n\nttabae@ubuntu:~$ <span class=\"token function\">cut</span> -d: -f <span class=\"token number\">1,7</span> /etc/passwd\nroot:/bin/bash\ndaemon:/usr/sbin/nologin\nbin:/usr/sbin/nologin\nsys:/usr/sbin/nologin\nsync:/bin/sync\ngames:/usr/sbin/nologin\nman:/usr/sbin/nologin\nlp:/usr/sbin/nologin\nmail:/usr/sbin/nologin</code></pre></div>\n</li>\n</ul>\n<br/>","excerpt":"Account Management 1. User & Group 관련 betabase file들 1-1. 계정 관련 파일 /etc/passwd 시스템의 모든 계정에 대한 정보를 담고 있는 설정 파일 7개 필드로 구분. 구분자 colon() login name encrypted password: (x) →  numerical user ID: root (0), system account(1999: app들이 사용), local user(100059999), system account(60000~65535) numerical group ID: root (0) User Private Group: 개인 그룹 (user가 저마다 개인 그룹을 가지고 있음) user name or comment field: user home directory(login directory): root(root), local user: user (/home/user), ttabae(/home/ttabae) login…","frontmatter":{"date":"September 24, 2022","title":"리눅스(Linux) Account management","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220924-devops-linux-account-management/"}},"next":{"id":"9b6ee1ef-383c-526e-bd3f-f9aad983d001","html":"<h1 id=\"05-archiving-and-compression\" style=\"position:relative;\"><a href=\"#05-archiving-and-compression\" aria-label=\"05 archiving and compression permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>05. Archiving and Compression</h1>\n<ul>\n<li>archive: 파일을 <strong>보관</strong>. 원본의 속성을 그대로 보존 및 여러개 파일/디렉토리 묶어 보존</li>\n<li>compression: 파일을 <strong>압축</strong>. 큰 사이즈의 파일을 작은 사이즈로 압축해 보존\n<ul>\n<li>gzip, bzips, xz → 파일 단위로만 압축됨</li>\n</ul>\n</li>\n<li>파일을 전달 할 때: archive(파일을 하나로 묶어줌) → compress (압축) → 전달 &#x26; 보존이 용이</li>\n</ul>\n<h2 id=\"1-archives-with-tar\" style=\"position:relative;\"><a href=\"#1-archives-with-tar\" aria-label=\"1 archives with tar permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Archives with tar</h2>\n<ul>\n<li>\n<p>명령어: tar, cpio 등</p>\n</li>\n<li>\n<p>파일 보관</p>\n<ul>\n<li>백업</li>\n<li>여러 파일을 하나로 묶어 보존 / 전달</li>\n</ul>\n</li>\n<li>\n<p>tar</p>\n<ul>\n<li>\n<p>여러 파일 혹은 디렉터리를 하나의 아카이브 파일로 모으거나 복원하기 위해 사용하는 명령어</p>\n</li>\n<li>\n<p>원본의 속성을 유지한 상태로 여러 파일을 묶거나 묶은 파일을 원본으로 되돌림</p>\n  <aside>\n  💡 **Usage: tar [OPTION…] [FILE]…**\n<p>GNU ‘tar’ saves many files together into a single tape or disk archive, and can</p>\n<p>restore individual files from the archive.</p>\n<p><strong>[Examples]</strong></p>\n<p>tar -cf archive.tar foo bar  # Create archive.tar from files foo and bar.</p>\n<p>tar -tvf archive.tar         # List all files in archive.tar verbosely.</p>\n<p>tar -xf archive.tar          # Extract all files from archive.tar.</p>\n<p><strong>[Options]</strong></p>\n<p>-c, —create create a new archive <strong>## 신규 아카이브 생성 / 덮어쓰기</strong>\n-v, —verbose verbosely list files processed <strong>## 처리 과정(파일 정보) 자세히 나열</strong>\n-f, —file=ARCHIVE use archive file or device ARCHIVE  <strong>## 아카이브 파일 이름 지정</strong>\n-t, —list list the contents of an archive <strong>## 아카이브 파일에 포함된 내용 출력</strong>\n-x, —extract, —get extract files from an archive <strong>## 아카이브 파일 해제</strong></p>\n<p>-z, —gzip, —gunzip, —ungzip filter the archive through gzip <strong>## gzip 압축 적용</strong>\n-j, —bzip2 filter the archive through bzip2 <strong>## bzip2 압축 적용</strong>\n-J, —xz filter the archive through xz <strong>## xz 압축 적용</strong></p>\n  </aside>\n</li>\n<li>\n<p>help 명령어로 사용법을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> --help</code></pre></div>\n</li>\n<li>\n<p>예제: datadir 디렉토리를 datadir.tar 파일로 archive</p>\n<ul>\n<li>실습 준비</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">mkdir</span> lfcs-exam <span class=\"token comment\"># 디렉토리 생성</span>\nttabae@ubuntu:~$ <span class=\"token builtin class-name\">cd</span> lfcs-exam/ <span class=\"token comment\"># 디렉토리 이동</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cp</span> /etc/h* <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># etc 디렉토리 내 h로 시작하는 파일을 현재 디렉토리(.)로 복사</span>\ncp: -r not specified<span class=\"token punctuation\">;</span> omitting directory <span class=\"token string\">'/etc/hp'</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cp</span> /usr/bin/a* <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># /user/bin 디렉토리 내 a로 시작하는 파일 현재 디렉토리(.)로 복사</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mkdir</span> datadir <span class=\"token comment\"># datadir 디렉토리 생성</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">mv</span> * datadir/ <span class=\"token comment\"># 현재 디렉토리 파일 전체를 datadir로 이동</span>\nmv: cannot move <span class=\"token string\">'datadir'</span> to a subdirectory of itself, <span class=\"token string\">'datadir/datadir'</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> <span class=\"token comment\"># 현재 경로의 파일 확인</span>\ndatadir\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> datadir/ <span class=\"token comment\"># datadir에 파일이 잘 들어갔는지 확인</span></code></pre></div>\n<p>→ 참고: <code class=\"language-text\">history</code> 명령어로 사용했던 명령어 확인 가능</p>\n<ul>\n<li>datadir 백업(datadir 디렉토리를 datadir.tar 파일로 아카이브)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -cvf datadir.tar ./datadir\n./datadir/\n./datadir/apt-sortpkgs\n./datadir/aseqnet\n./datadir/avahi-resolve-address\n./datadir/hosts.allow\n./datadir/avahi-publish-address\n./datadir/aspell\n./datadir/aplay\n./datadir/apt-add-repository\n./datadir/amidi\n./datadir/apropos\n./datadir/apport-collect\n./datadir/avahi-publish-service\n./datadir/aa-enabled\n./datadir/arm2hpdl\n./datadir/aspell-import\n./datadir/apt\n./datadir/aa-exec\n./datadir/addpart\n./datadir/add-apt-repository\n./datadir/avahi-publish\n./datadir/hdparm.conf\n./datadir/arch\n./datadir/apt-ftparchive\n./datadir/apt-mark\n./datadir/avahi-browse-domains\n./datadir/axfer\n./datadir/host.conf\n./datadir/hostname\n./datadir/apturl-gtk\n./datadir/apturl\n./datadir/hosts.deny\n./datadir/apport-cli\n./datadir/aconnect\n./datadir/alsaucm\n./datadir/avahi-resolve-host-name\n./datadir/alsatplg\n./datadir/avahi-set-host-name\n./datadir/alsabat\n./datadir/arecordmidi\n./datadir/aptdcon\n./datadir/alsamixer\n./datadir/amixer\n./datadir/hostid\n./datadir/apt-cache\n./datadir/aseqdump\n./datadir/alsaloop\n./datadir/appres\n./datadir/avahi-resolve\n./datadir/apt-get\n./datadir/avahi-browse\n./datadir/apg\n./datadir/aplaymidi\n./datadir/apport-unpack\n./datadir/apt-config\n./datadir/hosts\n./datadir/arecord\n./datadir/apt-cdrom\n./datadir/apt-extracttemplates\n./datadir/apt-key\n./datadir/appstreamcli\n./datadir/atobm\n./datadir/amuFormat.sh\n./datadir/apgbfm\n./datadir/acpi_listen\n./datadir/apport-bug\n./datadir/awk</code></pre></div>\n<ul>\n<li>\n<p>datadir 디렉토리의 파일들을 tar로 아카이브(-c), 아카이브 파일 명 지정(-f), 아카이브 과정 상세 확인(-v).</p>\n</li>\n<li>\n<p>ls -l 명령어로 tar 파일 생성되었는지 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l\ntotal <span class=\"token number\">2364</span>\ndrwxrwxr-x <span class=\"token number\">2</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir\n-rw-rw-r-- <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">2416640</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar</code></pre></div>\n<ul>\n<li><code class=\"language-text\">-h</code> 옵션을 추가하면 사람이 읽기 편한 단위로 용량을 출력해준다.</li>\n</ul>\n</li>\n<li>\n<p>데이터 복원 사전작업</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> -rf datadir <span class=\"token comment\"># datadir 디렉토리 삭제</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> <span class=\"token comment\"># 현재 디렉토리의 파일 확인</span>\ndatadir.tar <span class=\"token comment\"># datadir 디렉토리가 삭제되고 아카이브 파일만 남은</span></code></pre></div>\n</li>\n<li>\n<p>아카이브 파일 컨텐츠 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -tvf datadir.tar \ndrwxrwxr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:48 ./datadir/\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">47504</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/apt-sortpkgs\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">27064</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/aseqnet\n-rwxr-xr-x ttabae/ttabae <span class=\"token number\">22768</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/avahi-resolve-address\n-rw-r--r-- ttabae/ttabae   <span class=\"token number\">411</span> <span class=\"token number\">2022</span>-09-16 01:45 ./datadir/hosts.allow\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>→ 속성정보 그대로 보존되어있다.</p>\n</li>\n<li>\n<p>datadir 디렉토리 복원 → <strong>restore</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">date</span> <span class=\"token comment\"># 현재 시각 확인</span>\nFri Sep <span class=\"token number\">16</span> 01:56:56 PDT <span class=\"token number\">2022</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> xf datadir.tar <span class=\"token comment\"># 디렉토리 복원</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l datadir <span class=\"token comment\"># 복원된 디렉토리 확인</span>\ntotal <span class=\"token number\">2432</span>\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">31248</span> Sep <span class=\"token number\">16</span> 01:45 aa-enabled\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">35344</span> Sep <span class=\"token number\">16</span> 01:45 aa-exec\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">22912</span> Sep <span class=\"token number\">16</span> 01:45 aconnect\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">19016</span> Sep <span class=\"token number\">16</span> 01:45 acpi_listen\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">7415</span> Sep <span class=\"token number\">16</span> 01:45 add-apt-repository\n-rwxr-xr-x <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">30952</span> Sep <span class=\"token number\">16</span> 01:45 addpart</code></pre></div>\n<p>→ 복원 전 시간 속성이 변경되지 않고 그대로 복원됨을 확인할 수 있다.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-compression-utility\" style=\"position:relative;\"><a href=\"#2-compression-utility\" aria-label=\"2 compression utility permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Compression Utility</h2>\n<ul>\n<li>Compression\n<ul>\n<li>압축</li>\n<li>리눅스 압축 유틸리티: gzip(표준), bzip2(압축율이 좋음), xz, zip</li>\n</ul>\n</li>\n<li>gzip, bzip2, xz 요약\n<ul>\n<li>file 단위로만 압축 가능</li>\n<li>압축 하면 원본 파일은 삭제 &#x26; 압축 파일만 남겨짐</li>\n<li>예제: datadir.tar 파일로 압축해보기\n<ul>\n<li>\n<p>gzip 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">gzip</span> datadir.tar \nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l\ntotal <span class=\"token number\">832</span>\ndrwxrwxr-x <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir\n-rw-rw-r-- <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz</code></pre></div>\n<p>→ 원본파일이 없어지고 <code class=\"language-text\">datadir.tar.gz</code> 파일만 남겨짐</p>\n</li>\n<li>\n<p>bzip2 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">bzip2</span> hosts\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">848</span>\ndrwxrwxr-x  <span class=\"token number\">3</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 07:52 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">183</span> Sep <span class=\"token number\">16</span> 07:51 hosts.bz2\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">2853</span> Sep <span class=\"token number\">16</span> 07:51 <span class=\"token function\">passwd</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">cat</span> hosts.bz2 \n<span class=\"token number\">545</span><span class=\"token string\">'???h?Jj4???!??\"?6?͍???7?ߗp!9??\t?䱠?J????B??Xm?r??_??G?O???Ux??t?9?'</span>k?\t?Y?Z@?7???P??'^?iz??<span class=\"token punctuation\">{</span>?uR?`??J?hQ???<span class=\"token operator\">&amp;</span>jp?ɷ8?rE8P????</code></pre></div>\n</li>\n<li>\n<p>xz 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ xz <span class=\"token function\">passwd</span>\nxz: passwd: No such <span class=\"token function\">file</span> or directory\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">848</span>\ndrwxrwxr-x  <span class=\"token number\">3</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 07:52 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae   <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:48 datadir/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">843872</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar.gz\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">183</span> Sep <span class=\"token number\">16</span> 07:51 hosts.bz2\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae   <span class=\"token number\">1080</span> Sep <span class=\"token number\">16</span> 07:51 passwd.xz</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>압축</th>\n<th>압축 파일 이름</th>\n<th>ASCII text 압축 파일 내용 보기</th>\n<th>압축 해제</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gzip</td>\n<td>gzip filename</td>\n<td>filename.gz</td>\n<td>zcat filename.gz</td>\n<td>gunzip filename.gz</td>\n</tr>\n<tr>\n<td>gzip -d filename.gz</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>bzip2</td>\n<td>bzip2 filename</td>\n<td>filename.bz2</td>\n<td>bzcat filename.bz2</td>\n<td>bunzip2 filename.bz2</td>\n</tr>\n<tr>\n<td>bzip2 -d filename.bz2</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>xz</td>\n<td>xz filename</td>\n<td>filename.xz</td>\n<td>xzcat filename.xz</td>\n<td>unxz filename.xz</td>\n</tr>\n<tr>\n<td>xz -d filename.xz</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>zip\n<ul>\n<li>\n<p>원본을 보존하면서 압축 파일 생성</p>\n</li>\n<li>\n<p>디렉토리 압축 가능</p>\n</li>\n<li>\n<p>zip [-d] filename.zip dir/dir, unzip filename.zip</p>\n</li>\n<li>\n<p>example</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">zip</span> passwd.zip <span class=\"token function\">passwd</span> \n  adding: <span class=\"token function\">passwd</span> <span class=\"token punctuation\">(</span>deflated <span class=\"token number\">64</span>%<span class=\"token punctuation\">)</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">zip</span> -r datadir.zip datadir\n  adding: datadir/ <span class=\"token punctuation\">(</span>stored <span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>tar + (gzip, bzip2, xz)를 사용하여 /home 디렉터리 백업\n<ul>\n<li>\n<p>사전 작업</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> <span class=\"token function\">passwd</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">rm</span> -rf datadir\nttabae@ubuntu:~/lfcs-exam$ ll\ntotal <span class=\"token number\">3236</span>\ndrwxrwxr-x  <span class=\"token number\">2</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 08:05 ./\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae    <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 <span class=\"token punctuation\">..</span>/\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae <span class=\"token number\">2416640</span> Sep <span class=\"token number\">16</span> 01:51 datadir.tar\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae  <span class=\"token number\">879523</span> Sep <span class=\"token number\">16</span> 08:04 datadir.zip\n-rw-r--r--  <span class=\"token number\">1</span> ttabae ttabae     <span class=\"token number\">221</span> Sep <span class=\"token number\">16</span> 07:51 hosts\n-rw-rw-r--  <span class=\"token number\">1</span> ttabae ttabae    <span class=\"token number\">1179</span> Sep <span class=\"token number\">16</span> 08:03 passwd.zip</code></pre></div>\n</li>\n<li>\n<p>복원</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">unzip</span> datadir.zip \nArchive:  datadir.zip\n   creating: datadir/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-tar--compress-utility\" style=\"position:relative;\"><a href=\"#3-tar--compress-utility\" aria-label=\"3 tar  compress utility permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. tar + compress utility</h2>\n<ul>\n<li>\n<p>tar + (gzip, bzip2, xz)를 사용해 /home 디렉토리 백업하기</p>\n</li>\n<li>\n<p>tar + gzip: -z</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -czvf /home.tar.gz /home\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">ls</span> -l /home.tar.gz \n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">file</span> /home.tar.gz\n/home.tar.gz: <span class=\"token function\">gzip</span> compressed data, from Unix, original size modulo <span class=\"token number\">2</span>^32 <span class=\"token number\">14469120</span>\nttabae@ubuntu:~/lfcs-exam$ <span class=\"token function\">tar</span> -tvf /home.tar.gz \ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/</code></pre></div>\n</li>\n<li>\n<p>tar + bz2: -j</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -cjvf /home.tar.bz2 /home\n<span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> ttabae: \ntar: Removing leading `/' from member names\n/home/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~$ <span class=\"token function\">ls</span> -l /home*\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3035907</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:50 /home.tar.bz2\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\n\n/home:\ntotal <span class=\"token number\">4</span>\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 ttabae\nttabae@ubuntu:~$ <span class=\"token function\">tar</span> -jtvf /home.tar.bz2\ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n<li>\n<p>tar + xz: -J</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -cJvf /home.tar.xz /home\ntar: Removing leading `/' from member names\n/home/\n/home/ttabae/\n/home/ttabae/.local/\n/home/ttabae/.local/share/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.\nttabae@ubuntu:~$ <span class=\"token function\">ls</span> -l /home*\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3035907</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:50 /home.tar.bz2\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">3480414</span> Sep <span class=\"token number\">16</span> 08:07 /home.tar.gz\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">1756644</span> Sep <span class=\"token number\">16</span> <span class=\"token number\">16</span>:52 /home.tar.xz\n\n/home:\ntotal <span class=\"token number\">4</span>\ndrwxr-xr-x <span class=\"token number\">15</span> ttabae ttabae <span class=\"token number\">4096</span> Sep <span class=\"token number\">16</span> 01:44 ttabae\nttabae@ubuntu:~$ <span class=\"token function\">tar</span> -Jtvf /home.tar.xz\ndrwxr-xr-x root/root         <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 06:47 home/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-16 01:44 home/ttabae/\ndrwxr-xr-x ttabae/ttabae     <span class=\"token number\">0</span> <span class=\"token number\">2022</span>-09-15 <span class=\"token number\">17</span>:38 home/ttabae/.local/\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>생략<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre></div>\n</li>\n<li>\n<p>백업한 /home 디렉터리 복원하기</p>\n<ul>\n<li>gzip</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ttabae@ubuntu:~$ <span class=\"token builtin class-name\">cd</span> /\nttabae@ubuntu:/$ <span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\nttabae@ubuntu:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -zxf /home.tar.gz \nttabae@ubuntu:~$ <span class=\"token function\">ls</span>\nDesktop    Downloads  Pictures  Templates  home\nDocuments  Music      Public    Videos     lfcs-exam</code></pre></div>\n<ul>\n<li>\n<p>tar + bz2</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /\n<span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\n<span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -xjvf /home.tar.bz2</code></pre></div>\n</li>\n<li>\n<p>xz</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /\n<span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /home\n<span class=\"token function\">sudo</span> <span class=\"token function\">tar</span> -xJvf /home.tar.xz</code></pre></div>\n</li>\n</ul>\n<h2 id=\"lfcs-시험-대비-문제-풀이\" style=\"position:relative;\"><a href=\"#lfcs-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4\" aria-label=\"lfcs 시험 대비 문제 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LFCS 시험 대비 문제 풀이</h2>\n<ul>\n<li><strong>Which of the following commands displays the contents of a gzip compressed tar archive?</strong>\n<ol>\n<li>gzip archive.tgz | tar xvf</li>\n<li>tar ztf archive.tgz</li>\n<li>gzip -d archive.tgz | tar tvf</li>\n<li>tar cf archive.tgz</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<br/>","frontmatter":{"date":"September 23, 2022","title":"리눅스(Linux) Archiving and Compression","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220923-devops-linux-archive-and-compression/"}},"prev":{"id":"3a56ac26-c0c7-5d8e-b376-aeb88cfb1496","html":"<h1 id=\"password-administration\" style=\"position:relative;\"><a href=\"#password-administration\" aria-label=\"password administration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Password Administration</h1>\n<h2 id=\"1-password-관련-설정파일\" style=\"position:relative;\"><a href=\"#1-password-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC\" aria-label=\"1 password 관련 설정파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Password 관련 설정파일</h2>\n<h3 id=\"1-1-password-관련-설정-파일\" style=\"position:relative;\"><a href=\"#1-1-password-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC\" aria-label=\"1 1 password 관련 설정 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-1. Password 관련 설정 파일</h3>\n<ul>\n<li>\n<p><strong>/etc/passwd: 계정정보 파일</strong></p>\n<ul>\n<li>login name</li>\n<li>optional encrypted password\n<ul>\n<li>x 라는 문자를 가질 경우 실제 encrypted password는 <strong>/etc/shadow</strong>에 저장</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># useradd -m -s /bin/bash smlee</span></code></pre></div>\n<p>→ 이 경우 /etc/passwd에 계정정보가 생성된다.</p>\n<p>man 명령어로 매뉴얼을 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">man</span> <span class=\"token number\">5</span> <span class=\"token function\">passwd</span>\nPASSWD<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>                File Formats and Conversions                PASSWD<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\nNAME\n       <span class=\"token function\">passwd</span> - the password <span class=\"token function\">file</span>\n\nDESCRIPTION\n       /etc/passwd contains one line <span class=\"token keyword\">for</span> each user account, with seven fields\n       delimited by colons <span class=\"token punctuation\">(</span>“:”<span class=\"token punctuation\">)</span>. These fields are:\n\n       •   login name\n\n       •   optional encrypted password\n\n       •   numerical user ID\n\n       •   numerical group ID\n\n       •   user name or comment field\n\n       •   user home directory\n\n       •   optional user <span class=\"token builtin class-name\">command</span> interpreter\n\nFILES\n       /etc/passwd\n           User account information.\n\n       /etc/shadow\n           optional encrypted password <span class=\"token function\">file</span>\n\n       /etc/passwd-\n           Backup <span class=\"token function\">file</span> <span class=\"token keyword\">for</span> /etc/passwd.\n\n           Note that this <span class=\"token function\">file</span> is used by the tools of the shadow toolsuite,\n           but not by all user and password management tools.</code></pre></div>\n</li>\n<li>\n<p><strong>/etc/shadow</strong></p>\n<ul>\n<li>\n<p>login name</p>\n</li>\n<li>\n<p>encrypted password: 암호화된 패스워드</p>\n<ul>\n<li>man으로 파일 설명 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># man 5 shadow</span>\nNAME\n       shadow - shadowed password <span class=\"token function\">file</span></code></pre></div>\n<ul>\n<li>예시</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># cat /etc/shadow</span>\nroot:<span class=\"token variable\">$6</span><span class=\"token variable\">$jEZjezlaSvOfNIUI</span><span class=\"token variable\">$vxW</span>/3sm5U1uRzf4CPIWztVxcJ/BosEhYb6QAa.coOZPS/Va.aUgsD2zF4cSIXhdcZCd4SbP54BZqmFfXoG.2W0:19251:0:99999:7:::</code></pre></div>\n<ul>\n<li>\n<ul>\n<li>혹은 !가 들어있는 경우 로그인 금지(system account(*), password lock(!))</li>\n</ul>\n</li>\n<li>로그인 할 수 없는 계정의 비밀번호에 * / ! 가 쓰인 이유\n<ul>\n<li>암호화 알고리즘에서 절대 쓸 수 없는 문자이기 때문</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>date of last password change: 비밀번호 바꾼 날짜</p>\n<ul>\n<li>패스워드 수정일(1970.1.1을 기준으로 카운트한 날짜)</li>\n</ul>\n</li>\n<li>\n<p>minimum password age: 0이 기본값. 수정된 패스워드를 최소한으로 사용해야하는 날 수.</p>\n</li>\n<li>\n<p>maximum password age: 99999이 기본값. 수정된 패스워드를 최대 사용해야할 수 있는 날 수.</p>\n</li>\n<li>\n<p>password warning period</p>\n<ul>\n<li>만료일로부터 몇일 전부터 패스워드 변경 경고를 보낼지 설정</li>\n</ul>\n</li>\n<li>\n<p>password inactivity period</p>\n<ul>\n<li>패스워드 만료일로부터 몇 일 후부터 패스워드를 비활성화 할 지 설정(max day + inactive period)</li>\n</ul>\n</li>\n<li>\n<p>account expiration date</p>\n<ul>\n<li>account 만료일</li>\n</ul>\n</li>\n<li>\n<p>reserved field</p>\n<ul>\n<li>추후 사용을 위해 예약된 필드</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-password-관리-명령어\" style=\"position:relative;\"><a href=\"#2-password-%EA%B4%80%EB%A6%AC-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"2 password 관리 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Password 관리 명령어</h2>\n<h3 id=\"2-1-password-생성-passwd\" style=\"position:relative;\"><a href=\"#2-1-password-%EC%83%9D%EC%84%B1-passwd\" aria-label=\"2 1 password 생성 passwd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1. Password 생성: passwd</h3>\n<ul>\n<li><strong>passwd</strong>\n<ul>\n<li>특정 계정 사용자에게 로그인 패스워드를 할당하거나 패스워드 정책을 수정</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">passwd</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>LOGIN<span class=\"token punctuation\">]</span>\n\nOptions:\n  -a, --all                     report password status on all accounts\n  -d, --delete                  delete the password <span class=\"token keyword\">for</span> the named account\n  -e, --expire                  force expire the password <span class=\"token keyword\">for</span> the named account\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -k, --keep-tokens             change password only <span class=\"token keyword\">if</span> expired\n  -i, --inactive INACTIVE       <span class=\"token builtin class-name\">set</span> password inactive after expiration\n                                to INACTIVE\n  -l, --lock                    lock the password of the named account\n  **-n, --mindays MIN_DAYS        <span class=\"token builtin class-name\">set</span> minimum number of days before password\n                                change to MIN_DAYS**\n  -q, --quiet                   quiet mode\n  -r, --repository REPOSITORY   change password <span class=\"token keyword\">in</span> REPOSITORY repository\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -S, --status                  report password status on the named account\n  -u, --unlock                  unlock the password of the named account\n  **-w, --warndays WARN_DAYS      <span class=\"token builtin class-name\">set</span> expiration warning days to WARN_DAYS\n  -x, --maxdays MAX_DAYS        <span class=\"token builtin class-name\">set</span> maximum number of days before password**\n                                change to MAX_DAYS\n\n<span class=\"token comment\">## 예시 ##</span>\nroot@ubuntu:~<span class=\"token comment\"># passwd -x 30 -w 5 -n 1 smlee</span>\npasswd: password expiry information changed.\nroot@ubuntu:~<span class=\"token comment\"># cat /etc/shadow</span>\nsmlee:<span class=\"token operator\">!</span>:19252:1:30:5:::\n\n<span class=\"token comment\">## 예시 2 ##</span>\nroot@ubuntu:~<span class=\"token comment\"># usermod -e 2022-05-31 -s /bin/bash lee</span>\nroot@ubuntu:~<span class=\"token comment\"># grep lee /etc/passwd</span>\nseongmi:x:1001:1001:seong mi lee:/home/seongmi:/bin/sh\nsmlee:x:2000:2000::/home/smlee:/bin/bash\nlee:x:2001:2001::/home/lee:/bin/bash\nroot@ubuntu:~<span class=\"token comment\"># passwd lee</span>\nNew password: \nRetype new password: \npasswd: password updated successfully\nroot@ubuntu:~<span class=\"token comment\"># grep lee /etc/shadow</span>\nsmlee:<span class=\"token operator\">!</span>:19252:1:30:5:::\nlee:<span class=\"token variable\">$6</span><span class=\"token variable\">$pcn9rD2i39GR5B79</span><span class=\"token variable\">$5iYz06Et6T20VmcIskvi7dg5KxgE8bi8zM682NHWN2Nd</span>/89gWWM5HNhrMplopSpwCTLGWxL3dDeynAw9llwtq1:19256:0:99999:7::19143:</code></pre></div>\n<ul>\n<li><strong>/etc/login.defs</strong>\n<ul>\n<li>계정 생성, 패스워드를 할당할 때 default로 적용되는 값, 환경 구성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># cat /etc/login.defs</span>\n<span class=\"token comment\"># Password aging controls: </span>\nPASS_MAX_DAYS\t<span class=\"token number\">99999</span>\nPASS_MIN_DAYS\t<span class=\"token number\">0</span>\nPASS_WARN_AGE\t<span class=\"token number\">7</span>\n\n<span class=\"token comment\"># Min/max values for automatic uid selection in useradd</span>\nUID_MIN\t\t\t <span class=\"token number\">1000</span>\nUID_MAX\t\t\t<span class=\"token number\">60000</span>\n\n<span class=\"token comment\"># Min/max values for automatic gid selection in groupadd</span>\nGID_MIN\t\t\t <span class=\"token number\">1000</span>\nGID_MAX\t\t\t<span class=\"token number\">60000</span>\n\nUSERGROUPS_ENAB <span class=\"token function\">yes</span>\n\nENCRYPT_METHOD SHA512</code></pre></div>\n</li>\n</ul>\n<h3 id=\"2-2-password-변경-passwd\" style=\"position:relative;\"><a href=\"#2-2-password-%EB%B3%80%EA%B2%BD-passwd\" aria-label=\"2 2 password 변경 passwd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. Password 변경: passwd</h3>\n<ul>\n<li>\n<p>passwd</p>\n<ul>\n<li>특정 계정 사용자에게 로그인 패스워드를 할당하거나 패스워드 정책을 수정</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">passwd</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>LOGIN<span class=\"token punctuation\">]</span>\n\nOptions:\n  -a, --all                     report password status on all accounts\n  -d, --delete                  delete the password <span class=\"token keyword\">for</span> the named account\n  **-e, --expire                  force expire the password <span class=\"token keyword\">for</span> the named account**\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -k, --keep-tokens             change password only <span class=\"token keyword\">if</span> expired\n  -i, --inactive INACTIVE       <span class=\"token builtin class-name\">set</span> password inactive after expiration\n                                to INACTIVE\n  -l, --lock                    lock the password of the named account\n  **-n, --mindays MIN_DAYS        <span class=\"token builtin class-name\">set</span> minimum number of days before password\n                                change to MIN_DAYS**\n  -q, --quiet                   quiet mode\n  -r, --repository REPOSITORY   change password <span class=\"token keyword\">in</span> REPOSITORY repository\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -S, --status                  report password status on the named account\n  -u, --unlock                  unlock the password of the named account\n  **-w, --warndays WARN_DAYS      <span class=\"token builtin class-name\">set</span> expiration warning days to WARN_DAYS\n  -x, --maxdays MAX_DAYS        <span class=\"token builtin class-name\">set</span> maximum number of days before password**\n                                change to MAX_DAYS\n\n<span class=\"token comment\">## 예시 ##</span>\nroot@ubuntu:~<span class=\"token comment\"># passwd -x 30 -w 5- n 1 smlee</span></code></pre></div>\n<ul>\n<li>expire 옵션은 계정 비밀번호를 즉시 만료시키는 옵션 → last change date = 0 으로 변경하는 옵션</li>\n</ul>\n</li>\n<li>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># passwd -e lee</span>\npasswd: password expiry information changed.\nroot@ubuntu:~<span class=\"token comment\"># grep lee /etc/shadow</span>\nsmlee:<span class=\"token operator\">!</span>:19252:1:30:5:::\nlee:<span class=\"token variable\">$6</span><span class=\"token variable\">$pcn9rD2i39GR5B79</span><span class=\"token variable\">$5iYz06Et6T20VmcIskvi7dg5KxgE8bi8zM682NHWN2Nd</span>/89gWWM5HNhrMplopSpwCTLGWxL3dDeynAw9llwtq1:0:0:99999:7::19143:</code></pre></div>\n</li>\n</ul>\n<h3 id=\"2-2-password-설정-변경\" style=\"position:relative;\"><a href=\"#2-2-password-%EC%84%A4%EC%A0%95-%EB%B3%80%EA%B2%BD\" aria-label=\"2 2 password 설정 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. Password 설정 변경</h3>\n<ul>\n<li>\n<p><strong>chage</strong></p>\n<ul>\n<li>change user password expiry information</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ubuntu:~<span class=\"token comment\"># chage --help</span>\nUsage: chage <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> LOGIN\n\nOptions:\n  -d, --lastday LAST_DAY        <span class=\"token builtin class-name\">set</span> <span class=\"token function\">date</span> of last password change to LAST_DAY\n  -E, --expiredate EXPIRE_DATE  <span class=\"token builtin class-name\">set</span> account expiration <span class=\"token function\">date</span> to EXPIRE_DATE\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -i, --iso8601                 use YYYY-MM-DD when printing dates\n  -I, --inactive INACTIVE       <span class=\"token builtin class-name\">set</span> password inactive after expiration\n                                to INACTIVE\n  -l, --list                    show account aging information\n  -m, --mindays MIN_DAYS        <span class=\"token builtin class-name\">set</span> minimum number of days before password\n                                change to MIN_DAYS\n  -M, --maxdays MAX_DAYS        <span class=\"token builtin class-name\">set</span> maximum number of days before password\n                                change to MAX_DAYS\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -W, --warndays WARN_DAYS      <span class=\"token builtin class-name\">set</span> expiration warning days to WARN_DAYS\n\n<span class=\"token comment\">## 예시 ##</span>\nroot@ubuntu:~<span class=\"token comment\"># sudo chage -l smlee </span>\nLast password change\t\t\t\t\t<span class=\"token builtin class-name\">:</span> Sep <span class=\"token number\">17</span>, <span class=\"token number\">2022</span>\nPassword expires\t\t\t\t\t<span class=\"token builtin class-name\">:</span> Oct <span class=\"token number\">17</span>, <span class=\"token number\">2022</span>\nPassword inactive\t\t\t\t\t<span class=\"token builtin class-name\">:</span> never\nAccount expires\t\t\t\t\t\t<span class=\"token builtin class-name\">:</span> never\nMinimum number of days between password change\t\t<span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>\nMaximum number of days between password change\t\t<span class=\"token builtin class-name\">:</span> <span class=\"token number\">30</span>\nNumber of days of warning before password expires\t<span class=\"token builtin class-name\">:</span> <span class=\"token number\">5</span>\n\n<span class=\"token comment\">## 예시 ##</span>\nroot@ubuntu:~<span class=\"token comment\"># sudo chage -M 90 -m 0 -W 7 -I 20 smlee</span>\nroot@ubuntu:~<span class=\"token comment\"># grep smlee /etc/shadow</span>\nsmlee:<span class=\"token operator\">!</span>:19252:0:90:7:20::</code></pre></div>\n</li>\n<li>\n<p><strong>usermod</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Usage: <span class=\"token function\">usermod</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> LOGIN\n\nOptions:\n  -b, --badnames                allow bad names\n  -c, --comment COMMENT         new value of the GECOS field\n  -d, --home HOME_DIR           new home directory <span class=\"token keyword\">for</span> the user account\n  -e, --expiredate EXPIRE_DATE  <span class=\"token builtin class-name\">set</span> account expiration <span class=\"token function\">date</span> to EXPIRE_DATE\n  -f, --inactive INACTIVE       <span class=\"token builtin class-name\">set</span> password inactive after expiration\n                                to INACTIVE\n  -g, --gid GROUP               force use GROUP as new primary group\n  -G, --groups <span class=\"token environment constant\">GROUPS</span>           new list of supplementary <span class=\"token environment constant\">GROUPS</span>\n  -a, --append                  append the user to the supplemental <span class=\"token environment constant\">GROUPS</span>\n                                mentioned by the -G option without removing\n                                the user from other <span class=\"token function\">groups</span>\n  -h, --help                    display this <span class=\"token builtin class-name\">help</span> message and <span class=\"token builtin class-name\">exit</span>\n  -l, --login NEW_LOGIN         new value of the login name\n  **-L, --lock                    lock the user account**\n  -m, --move-home               move contents of the home directory to the\n                                new location <span class=\"token punctuation\">(</span>use only with -d<span class=\"token punctuation\">)</span>\n  -o, --non-unique              allow using duplicate <span class=\"token punctuation\">(</span>non-unique<span class=\"token punctuation\">)</span> <span class=\"token environment constant\">UID</span>\n  -p, --password PASSWORD       use encrypted password <span class=\"token keyword\">for</span> the new password\n  -R, --root CHROOT_DIR         directory to <span class=\"token function\">chroot</span> into\n  -P, --prefix PREFIX_DIR       prefix directory where are located the /etc/* files\n  -s, --shell <span class=\"token environment constant\">SHELL</span>             new login shell <span class=\"token keyword\">for</span> the user account\n  -u, --uid <span class=\"token environment constant\">UID</span>                 new <span class=\"token environment constant\">UID</span> <span class=\"token keyword\">for</span> the user account\n  **-U, --unlock                  unlock the user account**\n  -v, --add-subuids FIRST-LAST  <span class=\"token function\">add</span> range of subordinate uids\n  -V, --del-subuids FIRST-LAST  remove range of subordinate uids\n  -w, --add-subgids FIRST-LAST  <span class=\"token function\">add</span> range of subordinate gids\n  -W, --del-subgids FIRST-LAST  remove range of subordinate gids\n  -Z, --selinux-user SEUSER     new SELinux user mapping <span class=\"token keyword\">for</span> the user account</code></pre></div>\n<ul>\n<li>lock &#x26; unlock → passwd라는 명령어로도 가능 (lock 명령어 적용시 /etc/shadow 의 해당 유저란에 !가 붙게 된다)</li>\n</ul>\n</li>\n</ul>\n<br/>","frontmatter":{"date":"September 25, 2022","title":"리눅스(Linux) Password Administration","categories":"데브옵스","author":"jinnypark9393","emoji":"💫"},"fields":{"slug":"/220925-devops-linux-password-administration/"}},"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220924-devops-linux-account-management/","nextSlug":"/220923-devops-linux-archive-and-compression/","prevSlug":"/220925-devops-linux-password-administration/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}