{"componentChunkName":"component---src-templates-blog-template-js","path":"/220909-nginx-fromtowwwredirect/","result":{"data":{"cur":{"id":"dd994fc0-7efd-5ae9-9539-3da53d6ca243","html":"<br/>\n<h1 id=\"1-배경-상황\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EA%B2%BD-%EC%83%81%ED%99%A9\" aria-label=\"1 배경 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 배경 상황</h1>\n<p>신규로 담당하게 되었던 시스템이 특정 환경에서만 접속이 되지 않아 팀원분들과 함께 원인을 찾아보던 중 ingress의 annotation 중 특이하게 설정되어있는 부분이 있어 해당 어노테이션에 대해 찾아보게 되었다.</p>\n<br/>\n<p>내가 눈여겨 보았던 어노테이션은 도메인 경로에서 <code class=\"language-text\">www</code> 라는 하위 도메인을 자동으로 추가하는 설정이었는데, 테스트를 위해 해당 시스템의 도메인 정보를 사전에 받았을 때, <code class=\"language-text\">www</code> 하위 도메인이 포함되어있지 않았었다. 따라서 www라는 하위 도메인으로 redirect하는 설정때문에 시스템 접속에 문제가 생긴 것이 아닐까 하고 추측했었다. 하지만 이 설정은 다른 분이 시스템 접속 이슈를 해결하고자 이것 저것 시도해보시다가 들어가게 된 설정이었고, 해당 설정을 하기 전에도 시스템 접속에 문제가 있었던 상황이었다(그리고 해당 이슈의 원인도 결국은 도메인 주소의 문제가 아니라 mime-type 설정의 문제로 밝혀졌다).</p>\n<br/>\n<h1 id=\"2-설정-방법\" style=\"position:relative;\"><a href=\"#2-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95\" aria-label=\"2 설정 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 설정 방법</h1>\n<p>NGINX Ingress controller를 사용하는 쿠버네티스 환경에서 특정 Ingress에 www라는 하위 도메인으로 자동으로 redirect하게 해주거나, 반대로 www라는 하위 도메인이 붙어있을 경우 하위 도메인을 제거해주는 설정은 아래와 같다.</p>\n<br/>\n<p>참고로 이 설정은 Ingress의 annotation 항목에 아래와 같은 설정을 추가하여 적용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nginx<span class=\"token punctuation\">.</span>ingress<span class=\"token punctuation\">.</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span><span class=\"token keyword\">from</span><span class=\"token operator\">-</span>to<span class=\"token operator\">-</span>www<span class=\"token operator\">-</span>redirect<span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span></code></pre></div>\n<br/>\n<h1 id=\"3-참고-링크\" style=\"position:relative;\"><a href=\"#3-%EC%B0%B8%EA%B3%A0-%EB%A7%81%ED%81%AC\" aria-label=\"3 참고 링크 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 참고 링크</h1>\n<ul>\n<li>Kubernetes/ingress-nginx annotations - <a href=\"https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#redirect-fromto-www\">https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#redirect-fromto-www</a></li>\n</ul>\n<br/>","excerpt":"1. 배경 상황 신규로 담당하게 되었던 시스템이 특정 환경에서만 접속이 되지 않아 팀원분들과 함께 원인을 찾아보던 중 ingress의 annotation 중 특이하게 설정되어있는 부분이 있어 해당 어노테이션에 대해 찾아보게 되었다. 내가 눈여겨 보았던 어노테이션은 도메인 경로에서  라는 하위 도메인을 자동으로 추가하는 설정이었는데, 테스트를 위해 해당 시스템의 도메인 정보를 사전에 받았을 때,  하위 도메인이 포함되어있지 않았었다. 따라서 www라는 하위 도메인으로 redirect하는 설정때문에 시스템 접속에 문제가 생긴 것이 아닐까 하고 추측했었다. 하지만 이 설정은 다른 분이 시스템 접속 이슈를 해결하고자 이것 저것 시도해보시다가 들어가게 된 설정이었고, 해당 설정을 하기 전에도 시스템 접속에 문제가 있었던 상황이었다(그리고 해당 이슈의 원인도 결국은 도메인 주소의 문제가 아니라 mime-type 설정의 문제로 밝혀졌다). 2. 설정 방법 NGINX Ingress control…","frontmatter":{"date":"September 09, 2022","title":"NGINX 도메인경로에 www를 자동으로 추가/삭제하는 방법","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220909-nginx-fromtowwwredirect/"}},"next":{"id":"426af9f9-e3e5-5669-953b-d1353687a9e1","html":"<h1 id=\"1-배경-상황\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EA%B2%BD-%EC%83%81%ED%99%A9\" aria-label=\"1 배경 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 배경 상황</h1>\n<p>OSSCA 쿠버네티스 한글화팀에서 기여작업을 진행하게 되면, netlify의 알 수 없는 실패 등의 이유로 이미 올린 PR에 커밋을 다시 푸시할 일이 생긴다. 한글화팀 지난 미팅에서 다른 멘티님들이 이 때 사용할 수 있는 유용한 깃 명령어를 알려주셨었는데, 이번에 CNCF Glossary 한글화 작업을 하다 마침 해당 명령어를 사용해야 해서 내용을 정리해보았다.</p>\n<br/>\n<p>참고로 CNCF Glossary프로젝트의 dev-ko 브랜치(한글화 작업용 브랜치) 관리 작업 중에, upstream/dev-ko에 특정 커밋의 hash가 변경되는 상황이 발생해 내가 올린 PR에 해당 hash가 변경되기 이전 커밋이 자동으로 추가 된 상황으로, upstream에 대한 업데이트 &#x26; rebase를 진행해 다시 푸시를 해야하는 상황이었다. 참고로 아래 내용들은 상황을 설명하기 위한 것으로 이번 포스팅의 주제인 git 변경사항 없이 커밋을 다시 푸시하는 방법을 바로 보고싶다면 2번 항목으로 바로 넘어가면 된다.</p>\n<br/>\n<p>따라서 로컬 깃 저장소의 내가 작업하던 브랜치로 이동해 <code class=\"language-text\">git fetch upstream</code> 명령어로 upstream의 커밋 내역들을 가져오고,</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  glossary git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">)</span> git fetch upstream\nremote<span class=\"token punctuation\">:</span> Enumerating objects<span class=\"token punctuation\">:</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nremote<span class=\"token punctuation\">:</span> Counting objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">43</span><span class=\"token operator\">/</span><span class=\"token number\">43</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nremote<span class=\"token punctuation\">:</span> Total <span class=\"token number\">65</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">43</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> reused <span class=\"token number\">43</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">43</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pack<span class=\"token operator\">-</span>reused <span class=\"token number\">22</span>\nUnpacking objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">65</span><span class=\"token operator\">/</span><span class=\"token number\">65</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">627.90</span> KiB <span class=\"token operator\">|</span> <span class=\"token number\">2.29</span> MiB<span class=\"token operator\">/</span>s<span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nFrom https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>cncf<span class=\"token operator\">/</span>glossary\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      <span class=\"token number\">509</span><span class=\"token operator\">-</span>german<span class=\"token operator\">-</span>localize<span class=\"token operator\">-</span>autoscaling <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span><span class=\"token number\">509</span><span class=\"token operator\">-</span>german<span class=\"token operator\">-</span>localize<span class=\"token operator\">-</span>autoscaling\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      CathPag<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span><span class=\"token number\">1</span>  <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>CathPag<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      annalisag<span class=\"token operator\">-</span>spark<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span>index <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>annalisag<span class=\"token operator\">-</span>spark<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span>index\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>ar           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>ar\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>bn           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>bn\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>de           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>de\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>es           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>es\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>fr           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>fr\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>hi           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>hi\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>it           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>it\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>ko           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>ko\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>pt           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>pt\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      dev<span class=\"token operator\">-</span>zh           <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>zh\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      iamNoah1<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>iamNoah1<span class=\"token operator\">-</span>patch<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n <span class=\"token operator\">*</span> <span class=\"token punctuation\">[</span>new branch<span class=\"token punctuation\">]</span>      main             <span class=\"token operator\">-</span><span class=\"token operator\">></span> upstream<span class=\"token operator\">/</span>main</code></pre></div>\n<br/>\n<p>upstream의 dev-ko 브랜치를 업데이트 된 내용으로 rebase한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  glossary git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">)</span> git rebase upstream<span class=\"token operator\">/</span>dev<span class=\"token operator\">-</span>ko\nwarning<span class=\"token punctuation\">:</span> skipped previously applied commit 0d2ddbc\nhint<span class=\"token punctuation\">:</span> use <span class=\"token operator\">-</span><span class=\"token operator\">-</span>reapply<span class=\"token operator\">-</span>cherry<span class=\"token operator\">-</span>picks to include skipped commits\nhint<span class=\"token punctuation\">:</span> Disable this message <span class=\"token keyword\">with</span> <span class=\"token string\">\"git config advice.skippedCherryPicks false\"</span>\nSuccessfully rebased <span class=\"token keyword\">and</span> updated refs<span class=\"token operator\">/</span>heads<span class=\"token operator\">/</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<p>그러고 나서 <code class=\"language-text\">git status</code> 로 커밋할 내역을 확인해보면 당연하게도 커밋할 수 있는 내역이 아무것도 없다. 왜냐하면 위의 작업들은 upstream의 dev-ko 브랜치를 대상으로 변경사항을 반영한 것이기 때문에, 내가 작업하던 <code class=\"language-text\">220821-ko-kubernetes</code> 브랜치에는 아무런 변동사항이 없기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  glossary git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">)</span> git status\nOn branch <span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes\nnothing to commit<span class=\"token punctuation\">,</span> working tree clean</code></pre></div>\n<br/>\n<p>이렇게 커밋할 내용이 없는 상태에서 다시 origin에 push하기 위해서는 <code class=\"language-text\">git rebase -i</code> 후 edit 명령어로 커밋메시지를 수정하는 방법도 있지만, 아래의 방법으로 보다 쉽게 재푸시를 할 수 있다.</p>\n<br/>\n<h1 id=\"2-해결-방법\" style=\"position:relative;\"><a href=\"#2-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"2 해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 해결 방법</h1>\n<p><code class=\"language-text\">git commit --amend --no-edit</code> 명령어를 사용해 커밋 자체에는 아무런 변경사항 없이 push할 수 있도록 커밋 상태를 변경해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  glossary git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">)</span> git commit <span class=\"token operator\">-</span><span class=\"token operator\">-</span>amend <span class=\"token operator\">-</span><span class=\"token operator\">-</span>no<span class=\"token operator\">-</span>edit\n<span class=\"token punctuation\">[</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes 54df71b<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>ko<span class=\"token punctuation\">]</span> translation kubernetes<span class=\"token punctuation\">(</span>cncf<span class=\"token comment\">#1116)</span>\n Date<span class=\"token punctuation\">:</span> Sat Sep <span class=\"token number\">3</span> <span class=\"token number\">08</span><span class=\"token punctuation\">:</span><span class=\"token number\">45</span><span class=\"token punctuation\">:</span><span class=\"token number\">44</span> <span class=\"token number\">2022</span> <span class=\"token operator\">+</span><span class=\"token number\">0900</span>\n <span class=\"token number\">1</span> <span class=\"token builtin\">file</span> changed<span class=\"token punctuation\">,</span> <span class=\"token number\">54</span> insertions<span class=\"token punctuation\">(</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>\n create mode <span class=\"token number\">100644</span> content<span class=\"token operator\">/</span>ko<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>md</code></pre></div>\n<br/>\n<p>이 다음 origin의 작업 브랜치(<code class=\"language-text\">220821-ko-kubernetes</code>)로 force push(<code class=\"language-text\">-f</code>) 해주면 변경사항 없이도 커밋을 다시 푸시할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">➜  glossary git<span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span><span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes<span class=\"token punctuation\">)</span> git push <span class=\"token operator\">-</span>f origin <span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes\nUsername <span class=\"token keyword\">for</span> \nPassword <span class=\"token keyword\">for</span> <span class=\"token punctuation\">:</span>\nEnumerating objects<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nCounting objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token operator\">/</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nDelta compression using up to <span class=\"token number\">4</span> threads\nCompressing objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token operator\">/</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nWriting objects<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token operator\">/</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.16</span> KiB <span class=\"token operator\">|</span> <span class=\"token number\">2.16</span> MiB<span class=\"token operator\">/</span>s<span class=\"token punctuation\">,</span> done<span class=\"token punctuation\">.</span>\nTotal <span class=\"token number\">5</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> reused <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pack<span class=\"token operator\">-</span>reused <span class=\"token number\">0</span>\nremote<span class=\"token punctuation\">:</span> Resolving deltas<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token operator\">/</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> completed <span class=\"token keyword\">with</span> <span class=\"token number\">3</span> local objects<span class=\"token punctuation\">.</span>\nTo https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>jinnypark9393<span class=\"token operator\">/</span>glossary<span class=\"token punctuation\">.</span>git\n <span class=\"token operator\">+</span> 62335a9<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>54df71b <span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">220821</span><span class=\"token operator\">-</span>ko<span class=\"token operator\">-</span>kubernetes <span class=\"token punctuation\">(</span>forced update<span class=\"token punctuation\">)</span></code></pre></div>\n<br/>","frontmatter":{"date":"September 08, 2022","title":"Git / Github 변경사항 없이 커밋 다시 푸시하기(git commit --amend --no-edit)","categories":"데브옵스","author":"jinnypark9393","emoji":"🔧"},"fields":{"slug":"/220908-git-commit-amendnoedit/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://jinnypark9393.github.io","comments":{"utterances":{"repo":"jinnypark9393/jinnypark9393.github.io"}}}}},"pageContext":{"slug":"/220909-nginx-fromtowwwredirect/","nextSlug":"/220908-git-commit-amendnoedit/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}