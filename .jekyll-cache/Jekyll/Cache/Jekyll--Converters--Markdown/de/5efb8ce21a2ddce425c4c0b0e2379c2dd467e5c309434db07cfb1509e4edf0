I"<p><br /><br /></p>

<h1 id="1-ë°°ê²½-ìƒí™©">1. ë°°ê²½ ìƒí™©</h1>

<p><br /></p>

<p>í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ì¸í”„ë¼íŒ€ì—ì„œ NASì˜ ì—°ê²° ì£¼ì†Œë¥¼ ë‚´ë¶€ private IPë¡œ ë³€ê²½í•˜ê¸°ìœ„í•´ì„œ íŒŒë“œ ë‚´ ì»¨í…Œì´ë„ˆì˜ /etc/hosts íŒŒì¼ì„ ë³€ê²½í•´ë‹¬ë¼ëŠ” ìš”ì²­ì„ ë°›ì•˜ë‹¤.</p>

<p><br /><br /></p>

<h1 id="2-ì„¤ì •-ë°©ë²•">2. ì„¤ì • ë°©ë²•</h1>

<p><br /></p>

<p>Podì˜ /etc/hosts íŒŒì¼ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” Pod(Podê°€ Deploymentì— ì˜í•´ ìƒì„±ë˜ì—ˆì„ ê²½ìš°ì—ëŠ” Deployment) YAML íŒŒì¼ì˜ hostAlias í•­ëª©ì— ë„ë©”ì¸, ê·¸ë¦¬ê³  ë„ë©”ì¸ê³¼ ë§µí•‘í•  ipë¥¼ ê¸°ì…í•´ì£¼ë©´ ëœë‹¤.</p>

<p><br /></p>

<p><strong>â€» ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í˜¸ìŠ¤íŠ¸ íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì•ˆëœë‹¤. ì»¨í…Œì´ë„ˆëŠ” íœ˜ë°œì„±ì´ê¸° ë•Œë¬¸ì—, ì»¨í…Œì´ë„ˆ ì¢…ë£Œ ì‹œ ë³€ê²½ì‚¬í•­ì´ ì†ì‹¤ëœë‹¤.</strong></p>

<p><br /></p>

<ul>
  <li>Deploymentì— ë“±ë¡í•  ê²½ìš°</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">web-app</span>
 <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
 <span class="na">replicas</span><span class="pi">:</span> <span class="m">2</span>
 <span class="na">selector</span><span class="pi">:</span>
  <span class="na">matchLabels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">web</span>
 <span class="na">template</span><span class="pi">:</span>
   <span class="na">metadata</span><span class="pi">:</span>
     <span class="na">labels</span><span class="pi">:</span>
       <span class="na">app</span><span class="pi">:</span> <span class="s">web</span>
   <span class="na">spec</span><span class="pi">:</span>
     <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Always</span>
     <span class="na">hostAliases</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="na">ip</span><span class="pi">:</span> <span class="s2">"</span><span class="s">127.0.0.1"</span>
       <span class="na">hostnames</span><span class="pi">:</span>
       <span class="pi">-</span> <span class="s2">"</span><span class="s">foo.local"</span>
     <span class="na">containers</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">cat-hosts</span>
       <span class="na">image</span><span class="pi">:</span> <span class="s">busybox</span>
       <span class="na">command</span><span class="pi">:</span>
       <span class="pi">-</span> <span class="s">cat</span>
       <span class="na">args</span><span class="pi">:</span>
       <span class="pi">-</span> <span class="s2">"</span><span class="s">/etc/hosts"</span>
</code></pre></div></div>

<ul>
  <li>spec.template.hostAliases.ip â‡’ /etc/hosts íŒŒì¼ì— ë“±ë¡í•  ip</li>
  <li>spec.template.hostAliases.hostnames â‡’ /etc/hosts íŒŒì¼ì— ë“±ë¡í•  í˜¸ìŠ¤íŠ¸ëª…</li>
</ul>

<p><br /></p>

<ul>
  <li>Podì— ë“±ë¡í•  ê²½ìš°</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">web-app</span>
 <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
 <span class="na">labels</span><span class="pi">:</span>
   <span class="na">app</span><span class="pi">:</span> <span class="s">web</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Always</span>
  <span class="na">hostAliases</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">ip</span><span class="pi">:</span> <span class="s2">"</span><span class="s">127.0.0.1"</span>
    <span class="na">hostnames</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">foo.local"</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">cat-hosts</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">busybox</span>
    <span class="na">command</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">cat</span>
    <span class="na">args</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">/etc/hosts"</span>
</code></pre></div></div>

<ul>
  <li>spec.hostAliases.ip â‡’ /etc/hosts íŒŒì¼ì— ë“±ë¡í•  ip</li>
  <li>spec.hostAliases.hostnames â‡’ /etc/hosts íŒŒì¼ì— ë“±ë¡í•  í˜¸ìŠ¤íŠ¸ëª…</li>
</ul>

<p><br /><br /></p>

<h1 id="3-ì°¸ê³ -ìë£Œ">3. ì°¸ê³  ìë£Œ</h1>

<ul>
  <li>Kubernetes ê³µì‹ë¬¸ì„œ: <a href="http://kubernetes.io/ko/docs/tasks/network/customize-hosts-file-for-pods">kubernetes.io/ko/docs/tasks/network/customize-hosts-file-for-pods</a></li>
</ul>

<p><br /></p>
:ET